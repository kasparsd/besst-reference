webpackJsonp([49],{2287:function(e,t,i){var n=i(2)(i(2460),i(2461),function(e){i(2458)},null,null);e.exports=n.exports},2458:function(e,t,i){var n=i(2459);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);i(2279)("3e908d76",n,!0,{})},2459:function(e,t,i){(e.exports=i(2278)(!0)).push([e.i,".set-header{width:100%;height:100%}.set-header span.required{color:#e26829;display:inline-block}.set-header .content{border:1px solid #2b2f3b}.set-header .content .order-info{width:100%;height:332px}.set-header .content .order-info .title{height:50px;line-height:50px;padding-left:40px}.set-header .content .order-info .left{float:left;width:100%;height:282px;background:#353945;-webkit-box-shadow:0 -1px #2b2f3b;box-shadow:0 -1px #2b2f3b}.set-header .content .order-info .left .item{line-height:60px;overflow:hidden;width:49%;height:50px;display:inline-block}.set-header .content .order-info .left .item .label{display:inline-block;width:110px;margin-left:15px}.set-header .content .order-info .left .item .input{margin-left:10px;width:256px;border-radius:0 0 10px 10px}.set-header .content .order-info .left .item .input-left{margin-left:10px;width:200px}.set-header .content .order-info .left .item .input-right{width:200px}.set-header .content .order-info .left .item .input-note{margin-left:10px;width:608px}.set-header .content .parts-list{text-align:right;padding:0 40px;font-size:12px;overflow:hidden;height:50px;line-height:50px;width:100%;-webkit-box-shadow:0 -1px #2b2f3b;box-shadow:0 -1px #2b2f3b}.set-header .content .parts-list .att-btn{padding:6px 9px;min-width:0;margin:11px auto;display:block}.set-header .content .parts-list .labelAdd{margin-left:14px}.set-header .dialog .el-dialog--large{width:1100px}.set-header .dialog .header .search-content{width:200px;margin-right:10px}.set-header .dialog .header .search-btn{position:absolute;top:15px;left:250px;width:30px;height:30px}.set-header .footer{width:100%;height:60px;line-height:60px;padding-left:40px;-webkit-box-shadow:0 -1px #2b2f3b;box-shadow:0 -1px #2b2f3b}.set-header .footer .footer-pagination{float:right}.set-header .pagination{padding:10px}","",{version:3,sources:["/Users/bys/工作/Bafang/BESST/besst-client/src/views/nl/warehouse/warehouse-setMinInventory.vue"],names:[],mappings:"AACA,YACE,WAAY,AACZ,WAAa,CACd,AACD,0BACI,cAAe,AACf,oBAAsB,CACzB,AACD,qBACI,wBAA0B,CAC7B,AACD,iCACM,WAAY,AACZ,YAAc,CACnB,AACD,wCACQ,YAAa,AACb,iBAAkB,AAClB,iBAAmB,CAC1B,AACD,uCACQ,WAAY,AACZ,WAAY,AACZ,aAAc,AACd,mBAAoB,AACpB,kCAAmC,AAC3B,yBAA2B,CAC1C,AACD,6CACU,iBAAkB,AAClB,gBAAiB,AACjB,UAAW,AACX,YAAa,AACb,oBAAsB,CAC/B,AACD,oDACY,qBAAsB,AACtB,YAAa,AACb,gBAAkB,CAC7B,AACD,oDACY,iBAAkB,AAClB,YAAa,AACb,2BAA6B,CACxC,AACD,yDACY,iBAAkB,AAClB,WAAa,CACxB,AACD,0DACY,WAAa,CACxB,AACD,yDACY,iBAAkB,AAClB,WAAa,CACxB,AACD,iCACM,iBAAkB,AAClB,eAAgB,AAChB,eAAgB,AAChB,gBAAiB,AACjB,YAAa,AACb,iBAAkB,AAClB,WAAY,AACZ,kCAAmC,AAC3B,yBAA2B,CACxC,AACD,0CACQ,gBAAiB,AACjB,YAAa,AACb,iBAAkB,AAClB,aAAe,CACtB,AACD,2CACQ,gBAAkB,CACzB,AACD,sCACI,YAAc,CACjB,AACD,4CACI,YAAa,AACb,iBAAmB,CACtB,AACD,wCACI,kBAAmB,AACnB,SAAU,AACV,WAAY,AACZ,WAAY,AACZ,WAAa,CAChB,AACD,oBACI,WAAY,AACZ,YAAa,AACb,iBAAkB,AAClB,kBAAmB,AACnB,kCAAmC,AAC3B,yBAA2B,CACtC,AACD,uCACM,WAAa,CAClB,AACD,wBACI,YAAc,CACjB",file:"warehouse-setMinInventory.vue",sourcesContent:["\n.set-header {\n  width: 100%;\n  height: 100%;\n}\n.set-header span.required {\n    color: #e26829;\n    display: inline-block;\n}\n.set-header .content {\n    border: 1px solid #2b2f3b;\n}\n.set-header .content .order-info {\n      width: 100%;\n      height: 332px;\n}\n.set-header .content .order-info .title {\n        height: 50px;\n        line-height: 50px;\n        padding-left: 40px;\n}\n.set-header .content .order-info .left {\n        float: left;\n        width: 100%;\n        height: 282px;\n        background: #353945;\n        -webkit-box-shadow: 0 -1px #2b2f3b;\n                box-shadow: 0 -1px #2b2f3b;\n}\n.set-header .content .order-info .left .item {\n          line-height: 60px;\n          overflow: hidden;\n          width: 49%;\n          height: 50px;\n          display: inline-block;\n}\n.set-header .content .order-info .left .item .label {\n            display: inline-block;\n            width: 110px;\n            margin-left: 15px;\n}\n.set-header .content .order-info .left .item .input {\n            margin-left: 10px;\n            width: 256px;\n            border-radius: 0 0 10px 10px;\n}\n.set-header .content .order-info .left .item .input-left {\n            margin-left: 10px;\n            width: 200px;\n}\n.set-header .content .order-info .left .item .input-right {\n            width: 200px;\n}\n.set-header .content .order-info .left .item .input-note {\n            margin-left: 10px;\n            width: 608px;\n}\n.set-header .content .parts-list {\n      text-align: right;\n      padding: 0 40px;\n      font-size: 12px;\n      overflow: hidden;\n      height: 50px;\n      line-height: 50px;\n      width: 100%;\n      -webkit-box-shadow: 0 -1px #2b2f3b;\n              box-shadow: 0 -1px #2b2f3b;\n}\n.set-header .content .parts-list .att-btn {\n        padding: 6px 9px;\n        min-width: 0;\n        margin: 11px auto;\n        display: block;\n}\n.set-header .content .parts-list .labelAdd {\n        margin-left: 14px;\n}\n.set-header .dialog .el-dialog--large {\n    width: 1100px;\n}\n.set-header .dialog .header .search-content {\n    width: 200px;\n    margin-right: 10px;\n}\n.set-header .dialog .header .search-btn {\n    position: absolute;\n    top: 15px;\n    left: 250px;\n    width: 30px;\n    height: 30px;\n}\n.set-header .footer {\n    width: 100%;\n    height: 60px;\n    line-height: 60px;\n    padding-left: 40px;\n    -webkit-box-shadow: 0 -1px #2b2f3b;\n            box-shadow: 0 -1px #2b2f3b;\n}\n.set-header .footer .footer-pagination {\n      float: right;\n}\n.set-header .pagination {\n    padding: 10px;\n}\n"],sourceRoot:""}])},2460:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(i(248)),a=s(i(3));function s(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){var e;return e={loading:!1,warehouse_id:"",tableHead:["Item Name","Item Code","Remind quantity","Operation"],itemHeadData:["Image","Name","Part No.","Firmware"],queryItemList:[],selectItems:[],orderItems:[],isSave:!1,queryItemCondition:"",purchase_order_id:"",allChecked:!1,currentPage:1,total:0,dialogCreateVisible:!1,dialogSelectCategoryVisible:!1,categoryList:[],defaultProps:{id:"id",children:"child",label:"name"},selectCategoryItem:{id:"",name:""}},(0,n.default)(e,"isSave",!1),(0,n.default)(e,"deleteStatus",!1),e},i18n:{messages:{}},computed:{allSelectedForAdd:{get:function(){return this.selectItems.reduce(function(e,t){return e&&t.selected},!0)},set:function(e){this.selectItems.forEach(function(t){t.selected=e})}}},mounted:function(){this.warehouse_id=this.$route.query.warehouse_id,this.loading=!0,this.getAllCategory()},methods:{createOrder:function(){var e=this,t=this,i=this.orderItems.map(function(e){return e.item_code=e.item_code,e.item_name=e.item_name,e.remind_quantity=e.remind_quantity,e});this.postInvenSave(i).then(function(i){if(-2===i.code)throw i.message;t.$message({message:"Save Successfully",type:"success"}),t.loading=!1,t.isSave=!1,e.$router.go(-1)}).catch(function(e){e.indexOf("DuplicateKeyException")>0?t.$message({message:"This item already exists",type:"error"}):t.$message({message:e,type:"error"}),t.loading=!1})},goAfterIndex:function(){this.$router.push({name:"warehouseInventoryDetails",query:{warehouse_id:this.warehouse_id}})},getAllCategory:function(){var e=this;this.loading=!0,a.default.Api.Category.getAllCategoryListOfBafang(a.default.Const.COMPONENT_ROOT_CATEGORY).then(function(t){e.categoryList=t.category_list,e.loading=!1},function(t){e.loading=!1})},deleteItem:function(e,t){var i=this;e.id?(i.loading=!0,i.deleteReceiptDetail(e.id).then(function(e){i.$message({message:"Delete Successfully",type:"success"}),i.loading=!1,i.orderItems.splice(t,1)},function(e){i.loading=!1})):i.orderItems.splice(t,1)},addItems:function(){var e=this,t=this;this.selectItems.forEach(function(i,n){if(!0===i.selected){var a=!1;if(e.orderItems.forEach(function(e){e.item_id===i.id&&(a=!0)}),!a){var s=e.selectItems[n];t.orderItems.push({item_name:s.name,item_code:s.ext_part_no,selected:!1,type:0,warehouse_id:t.warehouse_id})}}}),this.closeChooseItem()},closeChooseItem:function(){this.selectItems=[],this.queryItemList=[],this.queryItemCondition="",this.dialogCreateVisible=!1,this.isSave=!0},queryOrderItem:function(){var e=this,t=a.default.Data.getOrg(),i=this.queryItemCondition.trim();null!==t&&a.default.Api.Item.queryOrderItem(25,this.selectCategoryItem.id,"",i,this.currentPage).then(function(t){e.queryItemList=t.query,e.total=t.count,!e.queryItemList.length>0?e.$message({message:"There are no matching data",type:"warning"}):(e.selectItems=[],e.queryItemList.forEach(function(t,i){var n={selected:!0,key:i,name:t.name,img:t.img,ext_part_no:t.ext_part_no,id:t.id,category_root_id:t.category_root_id,category_id:t.category_id};e.selectItems.push(n)}))})},clearCondition:function(){this.selectItems=[],this.queryItemList=[],this.queryItemCondition="",this.selectCategoryItem="",this.total=0,this.currentPage=1},selectCategory:function(){this.dialogSelectCategoryVisible=!0},handleNodeClick:function(e){e.hasOwnProperty("child")&&(e.child.length<=0&&(this.selectCategoryItem=e,this.dialogSelectCategoryVisible=!1))},handleCurrentPageChange:function(e){this.currentPage=e,this.queryOrderItem()},checkParams:function(){return!!this.warehouse_id||(this.$message({message:"Please add Warehouse",type:"warning"}),!1)},postInvenSave:function(e){return a.default.Api.request({method:"POST",url:"/nl/warehouse/inventoryReminder/bulk",data:e})},deleteReceiptDetail:function(e){return a.default.Api.request({method:"delete",url:"/nl/order/receipt/detail/"+e})}}}},2461:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"set-header"},[i("div",{staticClass:"header"},[i("div",{staticClass:"btn-group-inline"},[i("div",{staticClass:"icons"},[i("div",{staticClass:"icon-item back",attrs:{title:"back"},on:{click:e.goAfterIndex}})])]),e._v(" "),i("label",{staticClass:"title"},[e._v("Setting Min Inventory")])]),e._v(" "),i("div",{staticClass:"content-wrap"},[i("div",{staticClass:"content"},[i("div",{staticClass:"table-wrap"},[i("table",{staticClass:"table-content",attrs:{border:"0",cellspacing:"0",cellpadding:"0"}},[i("thead",e._l(e.tableHead,function(t){return i("td",[e._v(e._s(t))])}),0),e._v(" "),i("tbody",e._l(e.orderItems,function(t,n){return i("tr",[i("td",[e._v(e._s(t.item_name))]),e._v(" "),i("td",[e._v(e._s(t.item_code))]),e._v(" "),i("td",[i("el-input-number",{staticClass:"input-number",attrs:{min:1},model:{value:t.remind_quantity,callback:function(i){e.$set(t,"remind_quantity",i)},expression:"item.remind_quantity"}})],1),e._v(" "),i("td",[i("button",{staticClass:"btn-underline",attrs:{disabled:e.deleteStatus},on:{click:function(i){return i.stopPropagation(),e.deleteItem(t,n)}}},[e._v("delete")])])])}),0)])]),e._v(" "),i("div",{staticClass:"parts-list"},[i("el-button",{staticClass:"att-btn",attrs:{type:"primary"},on:{click:function(t){e.dialogCreateVisible=!0}}},[e._v("+")])],1),e._v(" "),i("div",{staticClass:"parts-list"},[e.isSave?i("el-button",{attrs:{type:"primary"},on:{click:e.createOrder}},[e._v("SAVE")]):e._e()],1),e._v(" "),i("el-dialog",{staticClass:"dialog",attrs:{title:e.$t("addItem"),visible:e.dialogCreateVisible,size:"large",top:"10%"},on:{"update:visible":function(t){e.dialogCreateVisible=t}}},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[i("el-input",{staticClass:"search-content",attrs:{placeholder:e.$t("category"),disabled:!0},nativeOn:{click:function(t){return e.selectCategory.apply(null,arguments)}},model:{value:e.selectCategoryItem.name,callback:function(t){e.$set(e.selectCategoryItem,"name",t)},expression:"selectCategoryItem.name"}}),e._v(" "),i("el-input",{staticClass:"search-content",attrs:{placeholder:e.$t("modelNamePN")},model:{value:e.queryItemCondition,callback:function(t){e.queryItemCondition=t},expression:"queryItemCondition"}}),e._v(" "),i("div",{staticClass:"btn-group-inline"},[i("div",{staticClass:"icons"},[i("div",{staticClass:"icon-item search",attrs:{title:"search"},on:{click:e.queryOrderItem}}),e._v(" "),i("div",{staticClass:"icon-item clear",attrs:{title:"clear"},on:{click:e.clearCondition}})])])],1),e._v(" "),i("div",{staticClass:"table-wrap"},[i("table",{staticClass:"table-content",attrs:{border:"0",cellspacing:"0",cellpadding:"0"}},[i("thead",[i("td",[i("el-checkbox",{model:{value:e.allSelectedForAdd,callback:function(t){e.allSelectedForAdd=t},expression:"allSelectedForAdd"}})],1),e._v(" "),e._l(e.itemHeadData,function(t){return i("td",[e._v(e._s(t))])})],2),e._v(" "),i("tbody",e._l(e.selectItems,function(t,n){return i("tr",[i("td",[i("el-checkbox",{staticClass:"table-checkbox",model:{value:t.selected,callback:function(i){e.$set(t,"selected",i)},expression:"item.selected"}})],1),e._v(" "),i("td",[i("img",{attrs:{src:e._f("getImgUrl")(t.img)}})]),e._v(" "),i("td",[e._v(e._s(t.name))]),e._v(" "),i("td",[e._v(e._s(t.ext_part_no))]),e._v(" "),i("td",[e._v(e._s(n+1)+".bin")])])}),0)]),e._v(" "),i("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.currentPage,"page-size":10,layout:"prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentPageChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})],1),e._v(" "),i("div",{staticClass:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:e.addItems}},[e._v(e._s(e.$t("addItems")))])],1)])])],1)]),e._v(" "),i("el-dialog",{staticClass:"dialog",attrs:{title:e.$t("selectCategory"),visible:e.dialogSelectCategoryVisible,size:"large"},on:{"update:visible":function(t){e.dialogSelectCategoryVisible=t}}},[i("div",{staticClass:"content",staticStyle:{"max-height":"500px",overflow:"auto"}},[i("div",{staticClass:"category-tree"},[i("el-tree",{attrs:{data:e.categoryList,props:e.defaultProps},on:{"node-click":e.handleNodeClick}})],1)])])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=49.d141bf588fc168e0f17c.js.map