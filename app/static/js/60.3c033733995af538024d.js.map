{"version":3,"sources":["webpack:///./src/views/nl/role/role-setting.vue","webpack:///./src/views/nl/role/role-setting.vue?78de","webpack:///./src/views/nl/role/role-setting.vue?a7d9","webpack:///role-setting.vue","webpack:///./src/views/nl/role/role-setting.vue?004e"],"names":["Component","__webpack_require__","ssrContext","module","exports","content","i","locals","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","data","this","$createElement","formSearch","email","roleTransferData","setRoleData","renderFunc","h","option","role_no","toUpperCase","role_name","loading","userInfo","hasRole","role","department_id","org_id","remark","role_type","status","update_time","update_user_id","user_id","dialogTitle","departmentList","currentDepartment","i18n","messages","created","computed","mounted","_this","scope","getAllRole","then","res","code","message","map","key","id","label","catch","err","$message","type","getAllDepartment","methods","clearData","goAfterIndex","$router","name","onSearch","_this2","getUserByEmail","getUserRoleDepRelByEmail","rel","role_id","onSave","_this3","user","saveUserRoleDepRel","handleChange","value","direction","movedKeys","console","log","_core2","default","Api","request","method","url","params","watch","render","_vm","_h","_c","_self","staticClass","attrs","inline","model","placeholder","callback","$$v","$set","expression","slot","on","click","_v","title","_e","directives","rawName","modifiers","body","_s","org","length","filterable","_l","item","render-content","titles","button-texts","format","noChecked","hasChecked","change","staticRenderFns"],"mappings":"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","file":"static/js/60.3c033733995af538024d.js","sourcesContent":["function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-54213537\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./role-setting.vue\")\n}\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./role-setting.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-54213537\\\",\\\"hasScoped\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./role-setting.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/nl/role/role-setting.vue\n// module id = 2312\n// module chunks = 60","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-54213537\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./role-setting.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"242dcf84\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-54213537\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/nl/role/role-setting.vue\n// module id = 2558\n// module chunks = 60","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".permission-setting{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%}.permission-setting .list-form-inline{height:100%;line-height:50px}.permission-setting .list-form-inline .el-form-item{margin-right:2px!important;margin-bottom:0}.permission-setting .list-form-inline .el-form-item__content{width:220px!important}.permission-setting .parts-list{display:-webkit-box;display:-ms-flexbox;display:flex;padding:27px 40px;overflow:hidden;width:100%;-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-ms-flex-wrap:wrap;flex-wrap:wrap}.permission-setting .parts-list .item{width:45%;height:30px;margin:0 20px}.permission-setting .parts-list .item.label{display:inline-block;width:150px}.permission-setting .no-data-content{position:relative;text-align:center;width:80%;margin:0 auto;padding:15px 30%;color:#fff;text-align:left}.permission-setting .transfer-box{text-align:center}.permission-setting .transfer{text-align:left;display:inline-block}.permission-setting .transfer ::-webkit-scrollbar{width:3px;height:14px}.permission-setting .transfer .el-transfer-panel{width:350px}.permission-setting .dialog-per-setting{overflow:hidden}.permission-setting .dialog-per-setting .el-dialog__body{font-size:0}.permission-setting .dialog-per-setting .item{width:50%;line-height:30px;display:inline-block}.permission-setting .dialog-per-setting .item .land{width:250px}.permission-setting .dialog-per-setting .item .title{display:inline-block;width:80px}.permission-setting .dialog-per-setting .item .content{margin:10px;display:inline-block;width:250px}\", \"\", {\"version\":3,\"sources\":[\"/Users/bys/工作/Bafang/BESST/besst-client/src/views/nl/role/role-setting.vue\"],\"names\":[],\"mappings\":\"AACA,oBACE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,4BAA6B,AAC7B,6BAA8B,AAC1B,0BAA2B,AACvB,sBAAuB,AAC/B,WAAY,AACZ,WAAa,CACd,AACD,sCACI,YAAa,AACb,gBAAkB,CACrB,AACD,oDACM,2BAA6B,AAC7B,eAAiB,CACtB,AACD,6DACM,qBAAwB,CAC7B,AACD,gCACI,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,kBAAmB,AACnB,gBAAiB,AACjB,WAAY,AACZ,sBAAuB,AACnB,mBAAoB,AAChB,qBAAsB,AAC9B,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,mBAAoB,AAChB,cAAgB,CACvB,AACD,sCACM,UAAW,AACX,YAAa,AACb,aAAe,CACpB,AACD,4CACQ,qBAAsB,AACtB,WAAa,CACpB,AACD,qCACI,kBAAmB,AACnB,kBAAmB,AACnB,UAAW,AACX,cAAe,AACf,iBAAkB,AAClB,WAAY,AACZ,eAAiB,CACpB,AACD,kCACI,iBAAmB,CACtB,AACD,8BACI,gBAAiB,AACjB,oBAAsB,CACzB,AACD,kDACM,UAAW,AACX,WAAa,CAClB,AACD,iDACM,WAAa,CAClB,AACD,wCACI,eAAiB,CACpB,AACD,yDACM,WAAa,CAClB,AACD,8CACM,UAAW,AACX,iBAAkB,AAClB,oBAAsB,CAC3B,AACD,oDACQ,WAAa,CACpB,AACD,qDACQ,qBAAsB,AACtB,UAAY,CACnB,AACD,uDACQ,YAAa,AACb,qBAAsB,AACtB,WAAa,CACpB\",\"file\":\"role-setting.vue\",\"sourcesContent\":[\"\\n.permission-setting {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: column;\\n          flex-direction: column;\\n  width: 100%;\\n  height: 100%;\\n}\\n.permission-setting .list-form-inline {\\n    height: 100%;\\n    line-height: 50px;\\n}\\n.permission-setting .list-form-inline .el-form-item {\\n      margin-right: 2px !important;\\n      margin-bottom: 0;\\n}\\n.permission-setting .list-form-inline .el-form-item__content {\\n      width: 220px !important;\\n}\\n.permission-setting .parts-list {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    padding: 27px 40px;\\n    overflow: hidden;\\n    width: 100%;\\n    -webkit-box-pack: left;\\n        -ms-flex-pack: left;\\n            justify-content: left;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n    -ms-flex-wrap: wrap;\\n        flex-wrap: wrap;\\n}\\n.permission-setting .parts-list .item {\\n      width: 45%;\\n      height: 30px;\\n      margin: 0 20px;\\n}\\n.permission-setting .parts-list .item.label {\\n        display: inline-block;\\n        width: 150px;\\n}\\n.permission-setting .no-data-content {\\n    position: relative;\\n    text-align: center;\\n    width: 80%;\\n    margin: 0 auto;\\n    padding: 15px 30%;\\n    color: #fff;\\n    text-align: left;\\n}\\n.permission-setting .transfer-box {\\n    text-align: center;\\n}\\n.permission-setting .transfer {\\n    text-align: left;\\n    display: inline-block;\\n}\\n.permission-setting .transfer ::-webkit-scrollbar {\\n      width: 3px;\\n      height: 14px;\\n}\\n.permission-setting .transfer .el-transfer-panel {\\n      width: 350px;\\n}\\n.permission-setting .dialog-per-setting {\\n    overflow: hidden;\\n}\\n.permission-setting .dialog-per-setting .el-dialog__body {\\n      font-size: 0;\\n}\\n.permission-setting .dialog-per-setting .item {\\n      width: 50%;\\n      line-height: 30px;\\n      display: inline-block;\\n}\\n.permission-setting .dialog-per-setting .item .land {\\n        width: 250px;\\n}\\n.permission-setting .dialog-per-setting .item .title {\\n        display: inline-block;\\n        width: 80px;\\n}\\n.permission-setting .dialog-per-setting .item .content {\\n        margin: 10px;\\n        display: inline-block;\\n        width: 250px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-54213537\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/nl/role/role-setting.vue\n// module id = 2559\n// module chunks = 60","<template>\n  <div class=\"permission-setting\">\n    <div class=\"header\">\n      <el-form :inline=\"true\" :model=\"formSearch\" class=\"list-form-inline\">\n        <!-- <div class=\"btn-group-inline\">\n          <div class=\"icons\">\n            <span class=\"icon-item back\" @click=\"goAfterIndex\" title=\"back\"></span>\n          </div>\n        </div> -->\n        <el-form-item>\n          <el-input v-model=\"formSearch.email\" placeholder=\"Email\" class=\"input\">\n            <el-button slot=\"append\" @click=\"onSearch\">\n              <i class=\"el-icon-search\"></i>\n            </el-button>\n          </el-input>\n        </el-form-item>\n      </el-form>\n      <div class=\"btn-group-top\">\n        <div class=\"icons\">\n          <div class=\"icon-item save\" @click=\"onSave\" v-if=\"hasRole\" title=\"save\"></div>\n        </div>\n      </div>\n    </div>\n    <div class=\"content-wrap\" v-loading.body=\"loading\">\n      <div class=\"content\">\n        <div class=\"parts-list\">\n          <div class=\"item\">\n            <label class=\"label\">User ID :</label>\n            <span>{{userInfo.user && userInfo.user.id || '-'}}</span>\n          </div>\n          <div class=\"item\">\n            <label class=\"label\">Name :</label>\n            <span>{{userInfo.user && userInfo.user.name || '-'}}</span>\n          </div>\n          <div class=\"item\">\n            <label class=\"label\">Email :</label>\n            <span>{{userInfo.user && userInfo.user.email || '-'}}</span>\n          </div>\n          <div class=\"item\">\n            <label class=\"label\">Organization ID :</label>\n            <span>{{userInfo.org && userInfo.org.id || '-'}}</span>\n          </div>\n          <div class=\"item\">\n            <label class=\"label\">Organization Name :</label>\n            <span>{{userInfo.org && userInfo.org.name || '-'}}</span>\n          </div>\n          <div class=\"item\" v-if=\"!loading && roleTransferData.length>0 && hasRole\">\n            <label class=\"label\">Department :</label>\n            <el-select class=\"land\" v-model=\"currentDepartment\" filterable slot=\"prepend\">\n              <el-option\n                v-for=\"item in departmentList\"\n                :key=\"item.id\"\n                :label=\"item.name\"\n                :value=\"item.id\"\n              ></el-option>\n            </el-select>\n          </div>\n        </div>\n      </div>\n      <div class=\"no-data-content\" v-if=\"!hasRole && !loading\">noResult</div>\n      <div class=\"transfer-box\" v-if=\"!loading && roleTransferData.length>0 && hasRole\">\n        <el-transfer\n          class=\"transfer\"\n          v-model=\"setRoleData\"\n          filterable\n          :render-content=\"renderFunc\"\n          :titles=\"['All Role', 'Set Role']\"\n          :button-texts=\"['Del','Add']\"\n          :format=\"{\n                        noChecked: '${total}',\n                        hasChecked: '${checked}/${total}'\n                    }\"\n          @change=\"handleChange\"\n          :data=\"roleTransferData\"\n        ></el-transfer>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Core from \"core/core\";\nexport default {\n  data() {\n    return {\n      formSearch: {\n        email: \"\"\n      },\n      roleTransferData: [],\n      setRoleData: [],\n      renderFunc(h, option) {\n        return (\n          <span>\n            {option.role_no.toUpperCase()} - {option.role_name}\n          </span>\n        );\n      },\n      loading: false,\n      userInfo: {},\n      hasRole: false,\n      role: {\n        department_id: 0,\n        org_id: 0,\n        remark: \"\",\n        role_name: \"\",\n        role_no: \"\",\n        role_type: null,\n        status: 0,\n        update_time: 0,\n        update_user_id: 0,\n        user_id: 0\n      },\n      // 弹窗\n      dialogTitle: \"\",\n      //部门\n      departmentList: \"\",\n      //当前选中部门\n      currentDepartment: \"\"\n    };\n  },\n  i18n: {\n    messages: {}\n  },\n  created() {},\n  computed: {},\n  mounted() {\n    const scope = this;\n    this.loading = true;\n    this.getAllRole()\n      .then(res => {\n        if (res.code === -2) {\n          throw res.message;\n        }\n        scope.roleTransferData = res.map(res => {\n          res.key = res.id;\n          res.label = res.role_name;\n          return res;\n        });\n        this.loading = false;\n      })\n      .catch(err => {\n        this.$message({\n          message: err,\n          type: \"error\"\n        });\n        this.loading = false;\n      });\n\n    this.loading = true;\n    this.getAllDepartment()\n      .then(res => {\n        if (res.code === -2) {\n          throw res.message;\n        }\n        this.departmentList = res;\n        this.loading = false;\n      })\n      .catch(err => {\n        this.$message({\n          message: err,\n          type: \"error\"\n        });\n        this.loading = false;\n      });\n  },\n  methods: {\n    clearData() {\n      this.setRoleData = [];\n      this.userInfo = {};\n      this.hasRole = false;\n      this.loading = false;\n    },\n    // 返回路由\n    goAfterIndex() {\n      this.$router.push({ name: \"afterIndex\" });\n    },\n    // 搜索\n    onSearch() {\n      if (!this.formSearch.email) {\n        this.$message({\n          message: \"Please input email\",\n          type: \"warning\"\n        });\n        this.clearData();\n        return;\n      }\n\n      this.loading = true;\n      this.getUserByEmail(this.formSearch.email)\n        .then(\n          res => {\n            if (res.code === 5 || res.code === 2) {\n              this.$message({\n                message: res.message,\n                type: \"warning\"\n              });\n              return false;\n            } else {\n              this.userInfo = res.data;\n              return this.getUserRoleDepRelByEmail(this.formSearch.email);\n            }\n          },\n          err => {\n            this.$message({\n              message: \"has error\",\n              type: \"error\"\n            });\n            return false;\n          }\n        )\n        .then(res => {\n          if (res === false) {\n            this.clearData();\n            return;\n          }\n\n          if (res.code === 5 || res.code === 2) {\n            this.$message({\n              message: res.message,\n              type: \"warning\"\n            });\n            this.clearData();\n          } else {\n            this.loading = false;\n            this.hasRole = true;\n            this.currentDepartment =\n              res.data.rel[0] && res.data.rel[0].department_id;\n            this.setRoleData = res.data.rel.map(res => {\n              return res.role_id;\n            });\n          }\n        });\n    },\n    onSave() {\n      if (!this.currentDepartment) {\n        this.$message({\n          message: \"Please select department\",\n          type: \"warning\"\n        });\n        return;\n      }\n\n      const data = this.setRoleData.map(res => {\n        return {\n          role_id: res,\n          user_id: this.userInfo.user.id,\n          department_id: this.currentDepartment\n        };\n      });\n      this.loading = true;\n      this.saveUserRoleDepRel(data, this.userInfo.user.email).then(\n        res => {\n          this.loading = false;\n        },\n        err => {\n          this.$message({\n            message: \"has error\",\n            type: \"error\"\n          });\n          this.clearData();\n        }\n      );\n    },\n    handleChange(value, direction, movedKeys) {\n      console.log(value, direction, movedKeys);\n    },\n    // 查询用户ByEmail\n    getUserByEmail(email) {\n      return Core.Api.request({\n        method: \"GET\",\n        url: \"/user/user-by-email\",\n        data: {\n          email: email\n        }\n      });\n    },\n    // 查询角色部门关系ByEmail\n    getUserRoleDepRelByEmail(email) {\n      return Core.Api.request({\n        method: \"GET\",\n        url: \"/nl/public/userRoleDepartmentRel/email-to-rel\",\n        data: {\n          email: email\n        }\n      });\n    },\n    // 查询所有Role\n    getAllRole() {\n      return Core.Api.request({\n        method: \"GET\",\n        url: \"/nl/public/role/all\"\n      });\n    },\n    //获取所有部门\n    getAllDepartment() {\n      return Core.Api.request({\n        method: \"GET\",\n        url: \"/nl/public/department/all\"\n      });\n    },\n    //保存角色部门关系\n    saveUserRoleDepRel(data, email) {\n      return Core.Api.request({\n        method: \"POST\",\n        url: \"/nl/public/userRoleDepartmentRel/bulk-to-email\",\n        data: data,\n        params: {\n          email: email\n        }\n      });\n    }\n  },\n  watch: {}\n};\n</script>\n\n<style lang=\"scss\" rel=\"stylesheet/scss\">\n.permission-setting {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  .list-form-inline {\n    height: 100%;\n    line-height: 50px;\n    .el-form-item {\n      margin-right: 2px !important;\n      margin-bottom: 0;\n    }\n    .el-form-item__content {\n      width: 220px !important;\n    }\n  }\n\n  .parts-list {\n    display: flex;\n    padding: 27px 40px;\n    overflow: hidden;\n    width: 100%;\n    justify-content: left;\n    align-items: center;\n    flex-wrap: wrap;\n    .item {\n      width: 45%;\n      height: 30px;\n      margin: 0 20px;\n      &.label {\n        display: inline-block;\n        width: 150px;\n      }\n    }\n  }\n\n  .no-data-content {\n    position: relative;\n    text-align: center;\n    width: 80%;\n    margin: 0 auto;\n    padding: 15px 30%;\n    color: #fff;\n    text-align: left;\n  }\n  .transfer-box {\n    text-align: center;\n  }\n  .transfer {\n    text-align: left;\n    display: inline-block;\n    ::-webkit-scrollbar {\n      width: 3px;\n      height: 14px;\n    }\n\n    .el-transfer-panel {\n      width: 350px;\n    }\n  }\n\n  .dialog-per-setting {\n    overflow: hidden;\n    .el-dialog__body {\n      font-size: 0;\n    }\n    .item {\n      width: 50%;\n      line-height: 30px;\n      display: inline-block;\n      .land {\n        width: 250px;\n      }\n      .title {\n        display: inline-block;\n        width: 80px;\n      }\n      .content {\n        margin: 10px;\n        display: inline-block;\n        width: 250px;\n      }\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// role-setting.vue?5b76f4f8","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"permission-setting\"\n  }, [_c('div', {\n    staticClass: \"header\"\n  }, [_c('el-form', {\n    staticClass: \"list-form-inline\",\n    attrs: {\n      \"inline\": true,\n      \"model\": _vm.formSearch\n    }\n  }, [_c('el-form-item', [_c('el-input', {\n    staticClass: \"input\",\n    attrs: {\n      \"placeholder\": \"Email\"\n    },\n    model: {\n      value: (_vm.formSearch.email),\n      callback: function($$v) {\n        _vm.$set(_vm.formSearch, \"email\", $$v)\n      },\n      expression: \"formSearch.email\"\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"slot\": \"append\"\n    },\n    on: {\n      \"click\": _vm.onSearch\n    },\n    slot: \"append\"\n  }, [_c('i', {\n    staticClass: \"el-icon-search\"\n  })])], 1)], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"btn-group-top\"\n  }, [_c('div', {\n    staticClass: \"icons\"\n  }, [(_vm.hasRole) ? _c('div', {\n    staticClass: \"icon-item save\",\n    attrs: {\n      \"title\": \"save\"\n    },\n    on: {\n      \"click\": _vm.onSave\n    }\n  }) : _vm._e()])])], 1), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading.body\",\n      value: (_vm.loading),\n      expression: \"loading\",\n      modifiers: {\n        \"body\": true\n      }\n    }],\n    staticClass: \"content-wrap\"\n  }, [_c('div', {\n    staticClass: \"content\"\n  }, [_c('div', {\n    staticClass: \"parts-list\"\n  }, [_c('div', {\n    staticClass: \"item\"\n  }, [_c('label', {\n    staticClass: \"label\"\n  }, [_vm._v(\"User ID :\")]), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(_vm.userInfo.user && _vm.userInfo.user.id || '-'))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"item\"\n  }, [_c('label', {\n    staticClass: \"label\"\n  }, [_vm._v(\"Name :\")]), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(_vm.userInfo.user && _vm.userInfo.user.name || '-'))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"item\"\n  }, [_c('label', {\n    staticClass: \"label\"\n  }, [_vm._v(\"Email :\")]), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(_vm.userInfo.user && _vm.userInfo.user.email || '-'))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"item\"\n  }, [_c('label', {\n    staticClass: \"label\"\n  }, [_vm._v(\"Organization ID :\")]), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(_vm.userInfo.org && _vm.userInfo.org.id || '-'))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"item\"\n  }, [_c('label', {\n    staticClass: \"label\"\n  }, [_vm._v(\"Organization Name :\")]), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(_vm.userInfo.org && _vm.userInfo.org.name || '-'))])]), _vm._v(\" \"), (!_vm.loading && _vm.roleTransferData.length > 0 && _vm.hasRole) ? _c('div', {\n    staticClass: \"item\"\n  }, [_c('label', {\n    staticClass: \"label\"\n  }, [_vm._v(\"Department :\")]), _vm._v(\" \"), _c('el-select', {\n    staticClass: \"land\",\n    attrs: {\n      \"slot\": \"prepend\",\n      \"filterable\": \"\"\n    },\n    slot: \"prepend\",\n    model: {\n      value: (_vm.currentDepartment),\n      callback: function($$v) {\n        _vm.currentDepartment = $$v\n      },\n      expression: \"currentDepartment\"\n    }\n  }, _vm._l((_vm.departmentList), function(item) {\n    return _c('el-option', {\n      key: item.id,\n      attrs: {\n        \"label\": item.name,\n        \"value\": item.id\n      }\n    })\n  }), 1)], 1) : _vm._e()])]), _vm._v(\" \"), (!_vm.hasRole && !_vm.loading) ? _c('div', {\n    staticClass: \"no-data-content\"\n  }, [_vm._v(\"noResult\")]) : _vm._e(), _vm._v(\" \"), (!_vm.loading && _vm.roleTransferData.length > 0 && _vm.hasRole) ? _c('div', {\n    staticClass: \"transfer-box\"\n  }, [_c('el-transfer', {\n    staticClass: \"transfer\",\n    attrs: {\n      \"filterable\": \"\",\n      \"render-content\": _vm.renderFunc,\n      \"titles\": ['All Role', 'Set Role'],\n      \"button-texts\": ['Del', 'Add'],\n      \"format\": {\n        noChecked: '${total}',\n        hasChecked: '${checked}/${total}'\n      },\n      \"data\": _vm.roleTransferData\n    },\n    on: {\n      \"change\": _vm.handleChange\n    },\n    model: {\n      value: (_vm.setRoleData),\n      callback: function($$v) {\n        _vm.setRoleData = $$v\n      },\n      expression: \"setRoleData\"\n    }\n  })], 1) : _vm._e()])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-54213537\",\"hasScoped\":false}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/nl/role/role-setting.vue\n// module id = 2561\n// module chunks = 60"],"sourceRoot":""}