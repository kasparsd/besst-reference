webpackJsonp([23],{2286:function(e,t,a){var i=a(2)(a(2455),a(2457),function(e){a(2453)},null,null);e.exports=i.exports},2376:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=s(a(194)),o=s(a(195)),n=(i=(0,o.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l.default.HttpHelp.request({method:"POST",url:"/nl/afterSales/parcelInformation/filter",data:{status:t},params:{page:1,size:999}}));case 1:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)}),l=s(a(3));function s(e){return e&&e.__esModule?e:{default:e}}var c={filterParcelInfo:function(e,t){return l.default.HttpHelp.request({method:"POST",url:"/nl/afterSales/parcelInformation/filter",data:{parcel_no:t.parcel_no,status:t.status},params:{page:e,size:10}})},postParcelInfo:function(e){return l.default.HttpHelp.request({method:"POST",url:"/nl/afterSales/parcelInformation",data:e})},deleteParcelInfo:function(e){return l.default.HttpHelp.request({method:"DELETE",url:"/nl/afterSales/parcelInformation/"+e})},getParcelInfo:function(e){return l.default.HttpHelp.request({method:"GET",url:"/nl/afterSales/parcelInformation/"+e})},getParcelInfoDetail:function(e){return l.default.HttpHelp.request({method:"POST",url:"/nl/afterSales/parcelInformationDetail/filter",data:{parcel_id:e},params:{page:1,size:999}})},bulkParcelInfoDetail:function(e){return l.default.HttpHelp.request({method:"POST",url:"/nl/afterSales/parcelInformationDetail/bulk2",data:e})},putParcelInfoStatus:function(e,t){return l.default.HttpHelp.request({method:"put",url:"/nl/afterSales/parcelInformation/"+e+"/status",params:{status:t}})},filterParcelInfoByStatus:n};t.default=c},2453:function(e,t,a){var i=a(2454);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(2279)("2526ef3d",i,!0,{})},2454:function(e,t,a){(e.exports=a(2278)(!0)).push([e.i,".warehouse-storage-cache{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%}.warehouse-storage-cache .header .title{color:#e26829}.warehouse-storage-cache span.required{color:#e26829;display:inline-block}.warehouse-storage-cache .list-form-inline{height:100%;line-height:50px}.warehouse-storage-cache .list-form-inline .el-form-item{margin-right:2px!important;margin-bottom:0}.warehouse-storage-cache .list-form-inline .el-form-item__label{color:#fff;width:110px;margin-left:5px;text-align:left}.warehouse-storage-cache .list-form-inline .el-form-item__content{width:180px!important}.warehouse-storage-cache .table-wrap .long-td{max-width:270px;text-overflow:ellipsis;overflow:hidden;text-align:left}.warehouse-storage-cache .dialog-area-details{overflow:hidden}.warehouse-storage-cache .dialog-area-details .el-dialog__body{padding:30px 20px 30px 50px;font-size:0}.warehouse-storage-cache .dialog-area-details .item{width:50%;line-height:30px;display:inline-block}.warehouse-storage-cache .dialog-area-details .item .land{width:200px}.warehouse-storage-cache .dialog-area-details .item .title{display:inline-block;width:142px}.warehouse-storage-cache .dialog-area-details .item .content{margin:10px;display:inline-block;width:200px}.warehouse-storage-cache .dialog-category .el-dialog--large{width:1100px}.warehouse-storage-cache .dialog-category .header .search-content{width:200px;margin-right:10px}.warehouse-storage-cache .dialog-category .header .search-btn{position:absolute;top:15px;left:250px;width:30px;height:30px}","",{version:3,sources:["/Users/bys/工作/Bafang/BESST/besst-client/src/views/nl/warehouse/warehouse-storage-cache.vue"],names:[],mappings:"AACA,yBACE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,4BAA6B,AAC7B,6BAA8B,AAC1B,0BAA2B,AACvB,sBAAuB,AAC/B,WAAY,AACZ,WAAa,CACd,AACD,wCACI,aAAe,CAClB,AACD,uCACI,cAAe,AACf,oBAAsB,CACzB,AACD,2CACI,YAAa,AACb,gBAAkB,CACrB,AACD,yDACM,2BAA6B,AAC7B,eAAiB,CACtB,AACD,gEACM,WAAY,AACZ,YAAa,AACb,gBAAiB,AACjB,eAAiB,CACtB,AACD,kEACM,qBAAwB,CAC7B,AACD,8CACI,gBAAiB,AACjB,uBAAwB,AACxB,gBAAiB,AACjB,eAAiB,CACpB,AACD,8CACI,eAAiB,CACpB,AACD,+DACM,4BAA6B,AAC7B,WAAa,CAClB,AACD,oDACM,UAAW,AACX,iBAAkB,AAClB,oBAAsB,CAC3B,AACD,0DACQ,WAAa,CACpB,AACD,2DACQ,qBAAsB,AACtB,WAAa,CACpB,AACD,6DACQ,YAAa,AACb,qBAAsB,AACtB,WAAa,CACpB,AACD,4DACI,YAAc,CACjB,AACD,kEACI,YAAa,AACb,iBAAmB,CACtB,AACD,8DACI,kBAAmB,AACnB,SAAU,AACV,WAAY,AACZ,WAAY,AACZ,WAAa,CAChB",file:"warehouse-storage-cache.vue",sourcesContent:["\n.warehouse-storage-cache {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  width: 100%;\n  height: 100%;\n}\n.warehouse-storage-cache .header .title {\n    color: #e26829;\n}\n.warehouse-storage-cache span.required {\n    color: #e26829;\n    display: inline-block;\n}\n.warehouse-storage-cache .list-form-inline {\n    height: 100%;\n    line-height: 50px;\n}\n.warehouse-storage-cache .list-form-inline .el-form-item {\n      margin-right: 2px !important;\n      margin-bottom: 0;\n}\n.warehouse-storage-cache .list-form-inline .el-form-item__label {\n      color: #fff;\n      width: 110px;\n      margin-left: 5px;\n      text-align: left;\n}\n.warehouse-storage-cache .list-form-inline .el-form-item__content {\n      width: 180px !important;\n}\n.warehouse-storage-cache .table-wrap .long-td {\n    max-width: 270px;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    text-align: left;\n}\n.warehouse-storage-cache .dialog-area-details {\n    overflow: hidden;\n}\n.warehouse-storage-cache .dialog-area-details .el-dialog__body {\n      padding: 30px 20px 30px 50px;\n      font-size: 0;\n}\n.warehouse-storage-cache .dialog-area-details .item {\n      width: 50%;\n      line-height: 30px;\n      display: inline-block;\n}\n.warehouse-storage-cache .dialog-area-details .item .land {\n        width: 200px;\n}\n.warehouse-storage-cache .dialog-area-details .item .title {\n        display: inline-block;\n        width: 142px;\n}\n.warehouse-storage-cache .dialog-area-details .item .content {\n        margin: 10px;\n        display: inline-block;\n        width: 200px;\n}\n.warehouse-storage-cache .dialog-category .el-dialog--large {\n    width: 1100px;\n}\n.warehouse-storage-cache .dialog-category .header .search-content {\n    width: 200px;\n    margin-right: 10px;\n}\n.warehouse-storage-cache .dialog-category .header .search-btn {\n    position: absolute;\n    top: 15px;\n    left: 250px;\n    width: 30px;\n    height: 30px;\n}\n"],sourceRoot:""}])},2455:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=p(a(20)),r=p(a(194)),o=p(a(195)),n=p(a(3)),l=p(a(5)),s=p(a(7)),c=p(a(9)),d=p(a(10)),u=p(a(8)),h=p(a(2456)),f=p(a(2376));function p(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){return{loading:!1,formSearch:{parcel_no:"",warehouse_region_id:this.$route.query.warehouse_region_id,warehouse_id:this.$route.query.warehouse_id,area_id:this.$route.query.area_id},headData:[],tableList:[],currentPage:1,total:0,dialogTitle:"",dialogAddVisible:!1,dialogDeleteVisible:!1,currentID:"",formData:{},parcelList:[]}},i18n:{messages:{fr:u.default.Component.Order.Save,en:l.default.Component.Order.Save,zh:s.default.Component.Order.Save,de:c.default.Component.Order.Save,nl:d.default.Component.Order.Save}},created:function(){},computed:{},mounted:function(){var e=(0,o.default)(r.default.mark(function e(){var t=this;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,f.default.filterParcelInfoByStatus(1).then(function(e){if(-2===e.data.code)throw e.data.message;t.parcelList=e.data.content,t.loading=!1}).catch(function(e){t.$message({message:e,type:"error"}),t.loading=!1});case 3:this.filterStorageCache(),this.headData=["Warehouse Code","Parcel No.","Customer Name","Create User","Creat time","Operation"];case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),methods:{backArea:function(){var e=[this.$route.query.warehouse_region_id,this.$route.query.warehouse_id];this.$store.commit("setChangeFilter",e),this.$store.commit("changeTrueStatus"),this.$router.push({name:"warehouseArea"})},onSearch:function(){this.filterStorageCache()},onClean:function(){this.formSearch.parcel_no="",this.filterStorageCache()},onEdit:function(e){this.dialogTitle="Edit Area",this.formData=JSON.parse((0,i.default)(e)),this.dialogAddVisible=!0},onDelete:function(e){this.currentID=e.id,this.dialogDeleteVisible=!0},handleCurrentChange:function(e){this.currentPage=e,n.default.Data.set(n.default.Const.DATA.KEY_AFTER_SALES_PAGE,this.currentPage)},filterStorageCache:function(){var e=this;this.loading=!0,h.default.filterStorageCache(this.currentPage,this.formSearch).then(function(t){if(-2===t.data.code)throw t.data.message;e.tableList=t.data.content,e.total=t.data.totalElements,e.loading=!1}).catch(function(t){e.$message({message:t,type:"error"}),e.loading=!1})},addstorageCache:function(){this.dialogTitle="Add",this.dialogAddVisible=!0,this.formData={area_id:this.$route.query.area_id,warehouse_id:this.$route.query.warehouse_id,warehouse_region_id:this.$route.query.warehouse_region_id,warehouse_code:"",parcel_no:""}},dialogConfirm:function(){var e=this;this.checkParams()&&(this.loading=!0,h.default.postStorageCache(this.formData).then(function(t){if(-2===t.data.code)throw t.data.message;e.loading=!1,e.dialogAddVisible=!1,e.filterStorageCache()}).catch(function(t){e.$message({message:t,type:"error"}),e.loading=!1}))},dialogCancel:function(){this.dialogAddVisible=!1},deleteInvitation:function(){var e=this;e.loading=!0,h.default.deleteStorageCache(e.currentID).then(function(t){if(-2===t.data.code)throw t.data.message;e.loading=!1,e.dialogDeleteVisible=!1,e.filterStorageCache()}).catch(function(t){e.$message({message:t,type:"error"}),e.loading=!1})},checkParams:function(){return""===this.formData.warehouse_code?(this.$message({message:"Please add Warehouse Code",type:"warning"}),!1):""!==this.formData.parcel_no||(this.$message({message:"Please add Parcel No.",type:"warning"}),!1)},changeParcel:function(e){var t=this.parcelList.find(function(t){return t.parcel_no===e});t&&(this.formData.customer_name=t.customer_name)}},watch:{}}},2456:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=a(3),o=(i=r)&&i.__esModule?i:{default:i};var n={filterStorageCache:function(e,t){return o.default.HttpHelp.request({method:"post",url:"/nl/warehouse/StorageCache/filter",data:{warehouse_region_id:t.warehouse_region_id,warehouse_id:t.warehouse_id,area_id:t.area_id,parcel_no:t.parcel_no},params:{size:10,page:e}})},postStorageCache:function(e){return o.default.HttpHelp.request({method:"post",url:"/nl/warehouse/StorageCache",data:e})},deleteStorageCache:function(e){return o.default.HttpHelp.request({method:"delete",url:"/nl/warehouse/StorageCache/"+e})}};t.default=n},2457:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warehouse-storage-cache"},[a("div",{staticClass:"search-header"},[a("div",{staticClass:"btn-group-inline"},[a("div",{staticClass:"icons"},[a("span",{staticClass:"icon-item back",attrs:{title:"back"},on:{click:e.backArea}})])]),e._v(" "),a("el-form",{staticClass:"list-form-inline",attrs:{inline:!0,model:e.formSearch}},[a("el-form-item",{attrs:{label:"Parcel No."}},[a("el-input",{attrs:{placeholder:"Parcel No."},model:{value:e.formSearch.parcel_no,callback:function(t){e.$set(e.formSearch,"parcel_no",t)},expression:"formSearch.parcel_no"}})],1),e._v(" "),a("div",{staticClass:"btn-group-inline-icon"},[a("div",{staticClass:"icons"},[a("div",{staticClass:"icon-item search",attrs:{title:"search"},on:{click:e.onSearch}}),e._v(" "),a("div",{staticClass:"icon-item clear",attrs:{title:"clear"},on:{click:e.onClean}})])])],1),e._v(" "),a("div",{staticClass:"btn-group-top"},[a("div",{staticClass:"icons"},[a("div",{staticClass:"icon-item add-v2",attrs:{title:"add"},on:{click:e.addstorageCache}})])])],1),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading.body",value:e.loading,expression:"loading",modifiers:{body:!0}}],staticClass:"table-wrap"},[a("div",{staticClass:"table-content-holder"},[e.tableList.length<=0&&!e.loading?a("div",{staticClass:"no-data-content"},[e._v("\n        noResult\n      ")]):a("table",{staticClass:"table-content",attrs:{border:"0",cellspacing:"0",cellpadding:"0"}},[a("thead",e._l(e.headData,function(t,i){return a("td",{key:i},[e._v(e._s(t))])}),0),e._v(" "),!e.loading&&e.tableList.length>0?a("tbody",e._l(e.tableList,function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.customer_name))]),e._v(" "),a("td",[e._v(e._s(t.parcel_no))]),e._v(" "),a("td",[e._v(e._s(t.warehouse_code))]),e._v(" "),a("td",[e._v(e._s(t.create_user_name))]),e._v(" "),a("td",[e._v(e._s(e._f("dateFormat")(t.create_time)))]),e._v(" "),a("td",[a("a",{staticClass:"btn-underline",on:{click:function(a){return a.stopPropagation(),e.onEdit(t)}}},[e._v("edit")]),e._v(" "),a("a",{staticClass:"btn-underline",on:{click:function(a){return a.stopPropagation(),e.onDelete(t)}}},[e._v("delete")])])])}),0):e._e()])]),e._v(" "),a("div",{staticClass:"table-footer"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":10,layout:"prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}}),e._v(" "),a("p",{staticClass:"total"},[e._v("total: "+e._s(e.total))])],1)]),e._v(" "),a("el-dialog",{staticClass:"dialog-area-details",attrs:{title:e.dialogTitle,visible:e.dialogAddVisible,"custom-class":"edit-dialog"},on:{"update:title":function(t){e.dialogTitle=t},"update:visible":function(t){e.dialogAddVisible=t}}},[a("div",{staticClass:"item"},[a("label",{staticClass:"title"},[e._v("\n        Warehouse Code\n        "),a("span",{staticClass:"required"},[e._v("*")])]),e._v(" "),a("div",{staticClass:"content"},[a("el-input",{model:{value:e.formData.warehouse_code,callback:function(t){e.$set(e.formData,"warehouse_code",t)},expression:"formData.warehouse_code"}})],1)]),e._v(" "),a("div",{staticClass:"item"},[a("label",{staticClass:"title"},[e._v("\n        Parcel No.\n        "),a("span",{staticClass:"required"},[e._v("*")])]),e._v(" "),a("div",{staticClass:"content"},[a("el-select",{staticClass:"input",attrs:{slot:"prepend",filterable:""},on:{change:function(t){return e.changeParcel(e.formData.parcel_no)}},slot:"prepend",model:{value:e.formData.parcel_no,callback:function(t){e.$set(e.formData,"parcel_no",t)},expression:"formData.parcel_no"}},e._l(e.parcelList,function(e){return a("el-option",{key:e.id,attrs:{label:e.parcel_no,value:e.parcel_no}})}),1)],1)]),e._v(" "),a("div",{staticClass:"item"},[a("label",{staticClass:"title"},[e._v("\n        Customer Name\n        "),a("span",{staticClass:"required"},[e._v("*")])]),e._v(" "),a("div",{staticClass:"content"},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.customer_name,callback:function(t){e.$set(e.formData,"customer_name",t)},expression:"formData.customer_name"}})],1)]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"preview"},on:{click:e.dialogConfirm}},[e._v("confirm")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.dialogCancel}},[e._v("cancel")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogDeleteVisible,size:"tiny"},on:{"update:title":function(t){e.dialogTitle=t},"update:visible":function(t){e.dialogDeleteVisible=t}}},[a("p",[e._v("Are you sure to delete it ?")]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.deleteInvitation}},[e._v("yes")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogDeleteVisible=!1}}},[e._v("no")])],1)])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=23.51a93ed02ce7d4e164ea.js.map