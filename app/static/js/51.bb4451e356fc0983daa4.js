webpackJsonp([51],{2282:function(t,e,a){var i=a(2)(a(2437),a(2438),function(t){a(2435)},null,null);t.exports=i.exports},2435:function(t,e,a){var i=a(2436);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(2279)("bfc366c0",i,!0,{})},2436:function(t,e,a){(t.exports=a(2278)(!0)).push([t.i,".warehouse-location{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%}.warehouse-location .header .title{color:#e26829}.warehouse-location span.required{color:#e26829;display:inline-block}.warehouse-location .list-form-inline{height:100%;line-height:50px}.warehouse-location .list-form-inline .el-form-item{margin-right:2px!important;margin-bottom:0}.warehouse-location .list-form-inline .el-form-item__label{color:#fff;width:110px;margin-left:5px;text-align:left}.warehouse-location .list-form-inline .el-form-item__content{width:180px!important}.warehouse-location .table-wrap .long-td{max-width:270px;text-overflow:ellipsis;overflow:hidden;text-align:left}.warehouse-location .dialog-area-details{overflow:hidden}.warehouse-location .dialog-area-details .el-dialog__body{padding:30px 20px 30px 50px;font-size:0}.warehouse-location .dialog-area-details .item{width:50%;line-height:30px;display:inline-block}.warehouse-location .dialog-area-details .item .land{width:200px}.warehouse-location .dialog-area-details .item .title{display:inline-block;width:142px}.warehouse-location .dialog-area-details .item .content{margin:10px;display:inline-block;width:200px}.warehouse-location .dialog-category .el-dialog--large{width:1100px}.warehouse-location .dialog-category .header .search-content{width:200px;margin-right:10px}.warehouse-location .dialog-category .header .search-btn{position:absolute;top:15px;left:250px;width:30px;height:30px}","",{version:3,sources:["/Users/bys/工作/Bafang/BESST/besst-client/src/views/nl/warehouse/warehouse-location.vue"],names:[],mappings:"AACA,oBACE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,4BAA6B,AAC7B,6BAA8B,AAC1B,0BAA2B,AACvB,sBAAuB,AAC/B,WAAY,AACZ,WAAa,CACd,AACD,mCACI,aAAe,CAClB,AACD,kCACI,cAAe,AACf,oBAAsB,CACzB,AACD,sCACI,YAAa,AACb,gBAAkB,CACrB,AACD,oDACM,2BAA6B,AAC7B,eAAiB,CACtB,AACD,2DACM,WAAY,AACZ,YAAa,AACb,gBAAiB,AACjB,eAAiB,CACtB,AACD,6DACM,qBAAwB,CAC7B,AACD,yCACI,gBAAiB,AACjB,uBAAwB,AACxB,gBAAiB,AACjB,eAAiB,CACpB,AACD,yCACI,eAAiB,CACpB,AACD,0DACM,4BAA6B,AAC7B,WAAa,CAClB,AACD,+CACM,UAAW,AACX,iBAAkB,AAClB,oBAAsB,CAC3B,AACD,qDACQ,WAAa,CACpB,AACD,sDACQ,qBAAsB,AACtB,WAAa,CACpB,AACD,wDACQ,YAAa,AACb,qBAAsB,AACtB,WAAa,CACpB,AACD,uDACI,YAAc,CACjB,AACD,6DACI,YAAa,AACb,iBAAmB,CACtB,AACD,yDACI,kBAAmB,AACnB,SAAU,AACV,WAAY,AACZ,WAAY,AACZ,WAAa,CAChB",file:"warehouse-location.vue",sourcesContent:["\n.warehouse-location {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  width: 100%;\n  height: 100%;\n}\n.warehouse-location .header .title {\n    color: #e26829;\n}\n.warehouse-location span.required {\n    color: #e26829;\n    display: inline-block;\n}\n.warehouse-location .list-form-inline {\n    height: 100%;\n    line-height: 50px;\n}\n.warehouse-location .list-form-inline .el-form-item {\n      margin-right: 2px !important;\n      margin-bottom: 0;\n}\n.warehouse-location .list-form-inline .el-form-item__label {\n      color: #fff;\n      width: 110px;\n      margin-left: 5px;\n      text-align: left;\n}\n.warehouse-location .list-form-inline .el-form-item__content {\n      width: 180px !important;\n}\n.warehouse-location .table-wrap .long-td {\n    max-width: 270px;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    text-align: left;\n}\n.warehouse-location .dialog-area-details {\n    overflow: hidden;\n}\n.warehouse-location .dialog-area-details .el-dialog__body {\n      padding: 30px 20px 30px 50px;\n      font-size: 0;\n}\n.warehouse-location .dialog-area-details .item {\n      width: 50%;\n      line-height: 30px;\n      display: inline-block;\n}\n.warehouse-location .dialog-area-details .item .land {\n        width: 200px;\n}\n.warehouse-location .dialog-area-details .item .title {\n        display: inline-block;\n        width: 142px;\n}\n.warehouse-location .dialog-area-details .item .content {\n        margin: 10px;\n        display: inline-block;\n        width: 200px;\n}\n.warehouse-location .dialog-category .el-dialog--large {\n    width: 1100px;\n}\n.warehouse-location .dialog-category .header .search-content {\n    width: 200px;\n    margin-right: 10px;\n}\n.warehouse-location .dialog-category .header .search-btn {\n    position: absolute;\n    top: 15px;\n    left: 250px;\n    width: 30px;\n    height: 30px;\n}\n"],sourceRoot:""}])},2437:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=d(a(20)),o=d(a(3)),n=d(a(5)),l=d(a(7)),s=d(a(9)),r=d(a(10)),c=d(a(8));function d(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{loading:!1,formSearch:{location_no:"",location_name:"",type_code:""},headData:[],tableList:[],currentPage:1,total:0,dialogTitle:"",dialogAddVisible:!1,dialogDeleteVisible:!1,currentID:"",formData:{},defaultProps:{id:"id",children:"child",label:"name"},categoryList:[],selectCategoryItem:{id:"",name:""},dialogSelectCategoryVisible:!1}},i18n:{messages:{fr:c.default.Component.Order.Save,en:n.default.Component.Order.Save,zh:l.default.Component.Order.Save,de:s.default.Component.Order.Save,nl:r.default.Component.Order.Save}},created:function(){},computed:{},mounted:function(){this.getAreaLocation(),this.getAllCategory(),this.headData=["Location No.","Location Name","Max Quantity","Max Cartons","Weight Capacity","Category Code","Cube","Operation"]},methods:{backArea:function(){var t=[this.$route.query.warehouse_region_id,this.$route.query.warehouse_id];this.$store.commit("setChangeFilter",t),this.$store.commit("changeTrueStatus"),this.$router.push({name:"warehouseArea"})},handleNodeClick:function(t){t.hasOwnProperty("child")&&(t.child.length<=0&&(this.selectCategoryItem=t,this.dialogSelectCategoryVisible=!1))},getAllCategory:function(){var t=this;this.loading=!0,o.default.Api.Category.getAllCategoryListOfBafang(o.default.Const.COMPONENT_ROOT_CATEGORY).then(function(e){t.categoryList=e.category_list,t.loading=!1})},selectCategory:function(){this.dialogSelectCategoryVisible=!0},onSearch:function(){this.getAreaLocation()},onClean:function(){this.formSearch.location_name="",this.formSearch.location_no="",this.formSearch.type_code="",this.getAreaLocation()},onEdit:function(t){this.dialogTitle="Edit Area",this.formData=JSON.parse((0,i.default)(t)),this.selectCategoryItem.name=this.formData.category_code,this.dialogAddVisible=!0},onDelete:function(t){this.currentID=t.id,this.dialogDeleteVisible=!0},handleCurrentChange:function(t){this.currentPage=t,o.default.Data.set(o.default.Const.DATA.KEY_AFTER_SALES_PAGE,this.currentPage)},getAreaLocation:function(){var t=this;this.loading=!0,o.default.Api.request({method:"post",url:"/nl/warehouse/location/filter2",data:{warehouse_region_id:this.$route.query.warehouse_region_id,warehouse_id:this.$route.query.warehouse_id,area_id:this.$route.query.area_id,location_no:this.formSearch.location_no,location_name:this.formSearch.location_name,type_code:this.formSearch.type_code},params:{page:this.currentPage,size:10}}).then(function(e){t.tableList=e.content,t.total=e.totalElements,t.loading=!1},function(e){t.loading=!1})},postAreaLocation:function(t){return o.default.Api.request({method:"post",url:"/nl/warehouse/location",data:t})},addAreaLocation:function(){this.dialogTitle="Add",this.dialogAddVisible=!0,this.formData={max_quantity:"",max_cartons:"",location_no:"",weight_capacity:"",x_coord:"",category_code:"",length:"",active:!0,z_coord:"",area_id:this.$route.query.area_id,location_name:"",width:"",y_coord:"",cube:"",warehouse_id:this.$route.query.warehouse_id,warehouse_region_id:this.$route.query.warehouse_region_id,height:"",type_code:""}},dialogConfirm:function(){var t=this;this.formData.category_code=this.selectCategoryItem.name,this.checkParams()&&(this.loading=!0,this.postAreaLocation(this.formData).then(function(e){if(-2===e.code)throw e.message;t.loading=!1,t.dialogAddVisible=!1,t.getAreaLocation()}).catch(function(t){scope.$message({message:t,type:"error"}),scope.loading=!1}))},dialogCancel:function(){this.dialogAddVisible=!1},deleteInvitation:function(){var t=this,e=this;e.loading=!0,this.deleteAreaLocation(e.currentID).then(function(t){e.loading=!1,e.dialogDeleteVisible=!1,e.getAreaLocation()},function(e){t.loading=!1})},checkParams:function(){return""===this.formData.location_no?(this.$message({message:"Please add Location No.",type:"warning"}),!1):""===this.formData.location_name?(this.$message({message:"Please add Location Name",type:"warning"}),!1):""===this.formData.max_quantity?(this.$message({message:"Please add Max Quantity",type:"warning"}),!1):""===this.formData.max_cartons?(this.$message({message:"Please add Max Cartons",type:"warning"}),!1):""===this.formData.weight_capacity?(this.$message({message:"Please add Weight Capacity",type:"warning"}),!1):""!==this.formData.category_code||(this.$message({message:"Please add Category",type:"warning"}),!1)},deleteAreaLocation:function(t){return o.default.Api.request({method:"delete",url:"/nl/warehouse/location/"+t})}},watch:{}}},2438:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"warehouse-location"},[a("div",{staticClass:"search-header"},[a("div",{staticClass:"btn-group-inline"},[a("div",{staticClass:"icons"},[a("span",{staticClass:"icon-item back",attrs:{title:"back"},on:{click:t.backArea}})])]),t._v(" "),a("el-form",{staticClass:"list-form-inline",attrs:{inline:!0,model:t.formSearch}},[a("el-form-item",{attrs:{label:"Location No."}},[a("el-input",{attrs:{placeholder:"Location No."},model:{value:t.formSearch.location_no,callback:function(e){t.$set(t.formSearch,"location_no",e)},expression:"formSearch.location_no"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Location Name"}},[a("el-input",{attrs:{placeholder:"Location Name"},model:{value:t.formSearch.location_name,callback:function(e){t.$set(t.formSearch,"location_name",e)},expression:"formSearch.location_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Type Code"}},[a("el-input",{attrs:{placeholder:"Type Code"},model:{value:t.formSearch.type_code,callback:function(e){t.$set(t.formSearch,"type_code",e)},expression:"formSearch.type_code"}})],1),t._v(" "),a("div",{staticClass:"btn-group-inline-icon"},[a("div",{staticClass:"icons"},[a("div",{staticClass:"icon-item search",attrs:{title:"search"},on:{click:t.onSearch}}),t._v(" "),a("div",{staticClass:"icon-item clear",attrs:{title:"clear"},on:{click:t.onClean}})])])],1),t._v(" "),a("div",{staticClass:"btn-group-top"},[a("div",{staticClass:"icons"},[a("div",{staticClass:"icon-item add-v2",attrs:{title:"add"},on:{click:t.addAreaLocation}})])])],1),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading.body",value:t.loading,expression:"loading",modifiers:{body:!0}}],staticClass:"table-wrap"},[a("div",{staticClass:"table-content-holder"},[t.tableList.length<=0&&!t.loading?a("div",{staticClass:"no-data-content"},[t._v("\n        noResult\n      ")]):a("table",{staticClass:"table-content",attrs:{border:"0",cellspacing:"0",cellpadding:"0"}},[a("thead",t._l(t.headData,function(e,i){return a("td",{key:i},[t._v(t._s(e))])}),0),t._v(" "),!t.loading&&t.tableList.length>0?a("tbody",t._l(t.tableList,function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.location_no))]),t._v(" "),a("td",[t._v(t._s(e.location_name))]),t._v(" "),a("td",[t._v(t._s(e.max_quantity))]),t._v(" "),a("td",[t._v(t._s(e.max_cartons))]),t._v(" "),a("td",[t._v(t._s(e.weight_capacity))]),t._v(" "),a("td",[t._v(t._s(e.category_code))]),t._v(" "),a("td",[t._v(t._s(e.cube))]),t._v(" "),a("td",[a("a",{staticClass:"btn-underline",on:{click:function(a){return a.stopPropagation(),t.onEdit(e)}}},[t._v("edit")]),t._v(" "),a("a",{staticClass:"btn-underline",on:{click:function(a){return a.stopPropagation(),t.onDelete(e)}}},[t._v("delete")])])])}),0):t._e()])]),t._v(" "),a("div",{staticClass:"table-footer"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":10,layout:"prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}}),t._v(" "),a("p",{staticClass:"total"},[t._v("total: "+t._s(t.total))])],1)]),t._v(" "),a("el-dialog",{staticClass:"dialog-area-details",attrs:{title:t.dialogTitle,visible:t.dialogAddVisible,"custom-class":"edit-dialog"},on:{"update:title":function(e){t.dialogTitle=e},"update:visible":function(e){t.dialogAddVisible=e}}},[a("div",{staticClass:"item"},[a("label",{staticClass:"title"},[t._v("\n        Location No.\n        "),a("span",{staticClass:"required"},[t._v("*")])]),t._v(" "),a("div",{staticClass:"content"},[a("el-input",{model:{value:t.formData.location_no,callback:function(e){t.$set(t.formData,"location_no",e)},expression:"formData.location_no"}})],1)]),t._v(" "),a("div",{staticClass:"item"},[a("label",{staticClass:"title"},[t._v("\n        Location Name\n        "),a("span",{staticClass:"required"},[t._v("*")])]),t._v(" "),a("div",{staticClass:"content"},[a("el-input",{model:{value:t.formData.location_name,callback:function(e){t.$set(t.formData,"location_name",e)},expression:"formData.location_name"}})],1)]),t._v(" "),a("div",{staticClass:"item"},[a("label",{staticClass:"title"},[t._v("\n        Max Quantity\n        "),a("span",{staticClass:"required"},[t._v("*")])]),t._v(" "),a("div",{staticClass:"content"},[a("el-input",{model:{value:t.formData.max_quantity,callback:function(e){t.$set(t.formData,"max_quantity",e)},expression:"formData.max_quantity"}})],1)]),t._v(" "),a("div",{staticClass:"item"},[a("label",{staticClass:"title"},[t._v("\n        Max Cartons\n        "),a("span",{staticClass:"required"},[t._v("*")])]),t._v(" "),a("div",{staticClass:"content"},[a("el-input",{model:{value:t.formData.max_cartons,callback:function(e){t.$set(t.formData,"max_cartons",e)},expression:"formData.max_cartons"}})],1)]),t._v(" "),a("div",{staticClass:"item"},[a("label",{staticClass:"title"},[t._v("\n        Weight Capacity (Kg)\n        "),a("span",{staticClass:"required"},[t._v("*")])]),t._v(" "),a("div",{staticClass:"content"},[a("el-input",{model:{value:t.formData.weight_capacity,callback:function(e){t.$set(t.formData,"weight_capacity",e)},expression:"formData.weight_capacity"}})],1)]),t._v(" "),a("div",{staticClass:"item"},[a("label",{staticClass:"title"},[t._v("\n        "+t._s(t.$t("category"))+"\n        "),a("span",{staticClass:"required"},[t._v("*")])]),t._v(" "),a("div",{staticClass:"content"},[a("el-input",{staticClass:"input",attrs:{placeholder:t.$t("category"),disabled:!0},nativeOn:{click:function(e){return t.selectCategory.apply(null,arguments)}},model:{value:t.selectCategoryItem.name,callback:function(e){t.$set(t.selectCategoryItem,"name",e)},expression:"selectCategoryItem.name"}})],1)]),t._v(" "),a("div",{staticClass:"item"},[a("label",{staticClass:"title"},[t._v("Cube (m³)")]),t._v(" "),a("div",{staticClass:"content"},[a("el-input",{model:{value:t.formData.cube,callback:function(e){t.$set(t.formData,"cube",e)},expression:"formData.cube"}})],1)]),t._v(" "),a("div",{staticClass:"item"},[a("label",{staticClass:"title"},[t._v("Height (m)")]),t._v(" "),a("div",{staticClass:"content"},[a("el-input",{model:{value:t.formData.height,callback:function(e){t.$set(t.formData,"height",e)},expression:"formData.height"}})],1)]),t._v(" "),a("div",{staticClass:"item"},[a("label",{staticClass:"title"},[t._v("Length (m)")]),t._v(" "),a("div",{staticClass:"content"},[a("el-input",{model:{value:t.formData.length,callback:function(e){t.$set(t.formData,"length",e)},expression:"formData.length"}})],1)]),t._v(" "),a("div",{staticClass:"item"},[a("label",{staticClass:"title"},[t._v("Width (m)")]),t._v(" "),a("div",{staticClass:"content"},[a("el-input",{model:{value:t.formData.width,callback:function(e){t.$set(t.formData,"width",e)},expression:"formData.width"}})],1)]),t._v(" "),a("div",{staticClass:"item"},[a("label",{staticClass:"title"},[t._v("Type Code")]),t._v(" "),a("div",{staticClass:"content"},[a("el-input",{model:{value:t.formData.type_code,callback:function(e){t.$set(t.formData,"type_code",e)},expression:"formData.type_code"}})],1)]),t._v(" "),a("div",{staticClass:"item"},[a("label",{staticClass:"title"},[t._v("X Coord (m)")]),t._v(" "),a("div",{staticClass:"content"},[a("el-input",{model:{value:t.formData.x_coord,callback:function(e){t.$set(t.formData,"x_coord",e)},expression:"formData.x_coord"}})],1)]),t._v(" "),a("div",{staticClass:"item"},[a("label",{staticClass:"title"},[t._v("Y Coord (m)")]),t._v(" "),a("div",{staticClass:"content"},[a("el-input",{model:{value:t.formData.y_coord,callback:function(e){t.$set(t.formData,"y_coord",e)},expression:"formData.y_coord"}})],1)]),t._v(" "),a("div",{staticClass:"item"},[a("label",{staticClass:"title"},[t._v("Z Coord (m)")]),t._v(" "),a("div",{staticClass:"content"},[a("el-input",{model:{value:t.formData.z_coord,callback:function(e){t.$set(t.formData,"z_coord",e)},expression:"formData.z_coord"}})],1)]),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"preview"},on:{click:t.dialogConfirm}},[t._v("confirm")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.dialogCancel}},[t._v("cancel")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:t.dialogTitle,visible:t.dialogDeleteVisible,size:"tiny"},on:{"update:title":function(e){t.dialogTitle=e},"update:visible":function(e){t.dialogDeleteVisible=e}}},[a("p",[t._v("Are you sure to delete it ?")]),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.deleteInvitation}},[t._v("yes")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogDeleteVisible=!1}}},[t._v("no")])],1)]),t._v(" "),a("el-dialog",{staticClass:"dialog-category",attrs:{title:t.$t("selectCategory"),visible:t.dialogSelectCategoryVisible,size:"large"},on:{"update:visible":function(e){t.dialogSelectCategoryVisible=e}}},[a("div",{staticClass:"content",staticStyle:{"max-height":"500px",overflow:"auto"}},[a("div",{staticClass:"category-tree"},[a("el-tree",{attrs:{data:t.categoryList,props:t.defaultProps},on:{"node-click":t.handleNodeClick}})],1)])])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=51.bb4451e356fc0983daa4.js.map