webpackJsonp([33],{2291:function(t,e,n){var i=n(2)(n(2476),n(2477),function(t){n(2474)},null,null);t.exports=i.exports},2370:function(t,e,n){"use strict";(function(e){var i=n(2371);
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function o(t,e){if(t===e)return 0;for(var n=t.length,i=e.length,o=0,r=Math.min(n,i);o<r;++o)if(t[o]!==e[o]){n=t[o],i=e[o];break}return n<i?-1:i<n?1:0}function r(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var a=n(769),s=Object.prototype.hasOwnProperty,l=Array.prototype.slice,c="foo"===function(){}.name;function f(t){return Object.prototype.toString.call(t)}function d(t){return!r(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var A=t.exports=h,u=/\s*function\s+([^\(\s]*)\s*/;function p(t){if(a.isFunction(t)){if(c)return t.name;var e=t.toString().match(u);return e&&e[1]}}function v(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function C(t){if(c||!a.isFunction(t))return a.inspect(t);var e=p(t);return"[Function"+(e?": "+e:"")+"]"}function b(t,e,n,i,o){throw new A.AssertionError({message:n,actual:t,expected:e,operator:i,stackStartFunction:o})}function h(t,e){t||b(t,!0,e,"==",A.ok)}function g(t,e,n,i){if(t===e)return!0;if(r(t)&&r(e))return 0===o(t,e);if(a.isDate(t)&&a.isDate(e))return t.getTime()===e.getTime();if(a.isRegExp(t)&&a.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(d(t)&&d(e)&&f(t)===f(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===o(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(r(t)!==r(e))return!1;var s=(i=i||{actual:[],expected:[]}).actual.indexOf(t);return-1!==s&&s===i.expected.indexOf(e)||(i.actual.push(t),i.expected.push(e),function(t,e,n,i){if(null===t||void 0===t||null===e||void 0===e)return!1;if(a.isPrimitive(t)||a.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var o=m(t),r=m(e);if(o&&!r||!o&&r)return!1;if(o)return t=l.call(t),e=l.call(e),g(t,e,n);var s,c,f=B(t),d=B(e);if(f.length!==d.length)return!1;for(f.sort(),d.sort(),c=f.length-1;c>=0;c--)if(f[c]!==d[c])return!1;for(c=f.length-1;c>=0;c--)if(s=f[c],!g(t[s],e[s],n,i))return!1;return!0}(t,e,n,i))}return n?t===e:t==e}function m(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function _(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function x(t,e,n,i){var o;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(i=n,n=null),o=function(t){var e;try{t()}catch(t){e=t}return e}(e),i=(n&&n.name?" ("+n.name+").":".")+(i?" "+i:"."),t&&!o&&b(o,n,"Missing expected exception"+i);var r="string"==typeof i,s=!t&&a.isError(o),l=!t&&o&&!n;if((s&&r&&_(o,n)||l)&&b(o,n,"Got unwanted exception"+i),t&&o&&n&&!_(o,n)||!t&&o)throw o}A.AssertionError=function(t){var e;this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=v(C((e=this).actual),128)+" "+e.operator+" "+v(C(e.expected),128),this.generatedMessage=!0);var n=t.stackStartFunction||b;if(Error.captureStackTrace)Error.captureStackTrace(this,n);else{var i=new Error;if(i.stack){var o=i.stack,r=p(n),a=o.indexOf("\n"+r);if(a>=0){var s=o.indexOf("\n",a+1);o=o.substring(s+1)}this.stack=o}}},a.inherits(A.AssertionError,Error),A.fail=b,A.ok=h,A.equal=function(t,e,n){t!=e&&b(t,e,n,"==",A.equal)},A.notEqual=function(t,e,n){t==e&&b(t,e,n,"!=",A.notEqual)},A.deepEqual=function(t,e,n){g(t,e,!1)||b(t,e,n,"deepEqual",A.deepEqual)},A.deepStrictEqual=function(t,e,n){g(t,e,!0)||b(t,e,n,"deepStrictEqual",A.deepStrictEqual)},A.notDeepEqual=function(t,e,n){g(t,e,!1)&&b(t,e,n,"notDeepEqual",A.notDeepEqual)},A.notDeepStrictEqual=function t(e,n,i){g(e,n,!0)&&b(e,n,i,"notDeepStrictEqual",t)},A.strictEqual=function(t,e,n){t!==e&&b(t,e,n,"===",A.strictEqual)},A.notStrictEqual=function(t,e,n){t===e&&b(t,e,n,"!==",A.notStrictEqual)},A.throws=function(t,e,n){x(!0,t,e,n)},A.doesNotThrow=function(t,e,n){x(!1,t,e,n)},A.ifError=function(t){if(t)throw t},A.strict=i(function t(e,n){e||b(e,!0,n,"==",t)},A,{equal:A.strictEqual,deepEqual:A.deepStrictEqual,notEqual:A.notStrictEqual,notDeepEqual:A.notDeepStrictEqual}),A.strict.strict=A.strict;var B=Object.keys||function(t){var e=[];for(var n in t)s.call(t,n)&&e.push(n);return e}}).call(e,n(54))},2371:function(t,e,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,a,s=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))o.call(n,c)&&(s[c]=n[c]);if(i){a=i(n);for(var f=0;f<a.length;f++)r.call(n,a[f])&&(s[a[f]]=n[a[f]])}}return s}},2474:function(t,e,n){var i=n(2475);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(2279)("2165b264",i,!0,{})},2475:function(t,e,n){(t.exports=n(2278)(!0)).push([t.i,".invoice-detail{width:100%;height:100%}.invoice-detail .content{border:1px solid #2b2f3b;width:1080px}.invoice-detail .content .order-info{width:100%;height:332px;border-bottom:1px solid #2b2f3b}.invoice-detail .content .order-info .title{height:50px;line-height:50px;padding-left:40px}.invoice-detail .content .order-info .left{float:left;width:100%;height:282px;background:#353945;-webkit-box-shadow:0 -1px #2b2f3b;box-shadow:0 -1px #2b2f3b}.invoice-detail .content .order-info .left .item{line-height:60px;overflow:hidden;width:49%;height:50px;display:inline-block}.invoice-detail .content .order-info .left .item .label{display:inline-block;width:110px;margin-left:15px}.invoice-detail .content .order-info .left .item span{display:inline-block;padding-left:10px}.invoice-detail .content .order-info-two{width:100%;height:111px}.invoice-detail .content .order-info-two .title{height:50px;line-height:50px;padding-left:40px}.invoice-detail .content .order-info-two .pi-left{float:left;width:100%;height:60px;background:#353945;-webkit-box-shadow:0 -1px #2b2f3b;box-shadow:0 -1px #2b2f3b;padding:16px;border-bottom:1px solid #2b2f3b}.invoice-detail .content .order-info-two .pi-left .el-tag+.el-tag{margin-left:10px}.invoice-detail .content .order-info-two .pi-left .button-new-tag{margin-left:6px}.invoice-detail .content .parts-list{text-align:right;padding:0 40px;font-size:12px;overflow:hidden;height:50px;line-height:50px;width:100%;-webkit-box-shadow:0 -1px #2b2f3b;box-shadow:0 -1px #2b2f3b;position:relative}.invoice-detail .content .parts-list .att-total{display:inline-block;position:absolute;top:0;right:25px;color:#e26829}","",{version:3,sources:["/Users/bys/工作/Bafang/BESST/besst-client/src/views/nl/finance/invoice-list-details.vue"],names:[],mappings:"AACA,gBACE,WAAY,AACZ,WAAa,CACd,AACD,yBACI,yBAA0B,AAC1B,YAAc,CACjB,AACD,qCACM,WAAY,AACZ,aAAc,AACd,+BAAiC,CACtC,AACD,4CACQ,YAAa,AACb,iBAAkB,AAClB,iBAAmB,CAC1B,AACD,2CACQ,WAAY,AACZ,WAAY,AACZ,aAAc,AACd,mBAAoB,AACpB,kCAAmC,AAC3B,yBAA2B,CAC1C,AACD,iDACU,iBAAkB,AAClB,gBAAiB,AACjB,UAAW,AACX,YAAa,AACb,oBAAsB,CAC/B,AACD,wDACY,qBAAsB,AACtB,YAAa,AACb,gBAAkB,CAC7B,AACD,sDACY,qBAAsB,AACtB,iBAAmB,CAC9B,AACD,yCACM,WAAY,AACZ,YAAc,CACnB,AACD,gDACQ,YAAa,AACb,iBAAkB,AAClB,iBAAmB,CAC1B,AACD,kDACQ,WAAY,AACZ,WAAY,AACZ,YAAa,AACb,mBAAoB,AACpB,kCAAmC,AAC3B,0BAA2B,AACnC,aAAc,AACd,+BAAiC,CACxC,AACD,kEACU,gBAAkB,CAC3B,AACD,kEACU,eAAiB,CAC1B,AACD,qCACM,iBAAkB,AAClB,eAAgB,AAChB,eAAgB,AAChB,gBAAiB,AACjB,YAAa,AACb,iBAAkB,AAClB,WAAY,AACZ,kCAAmC,AAC3B,0BAA2B,AACnC,iBAAmB,CACxB,AACD,gDACQ,qBAAsB,AACtB,kBAAmB,AACnB,MAAO,AACP,WAAY,AACZ,aAAe,CACtB",file:"invoice-list-details.vue",sourcesContent:["\n.invoice-detail {\n  width: 100%;\n  height: 100%;\n}\n.invoice-detail .content {\n    border: 1px solid #2b2f3b;\n    width: 1080px;\n}\n.invoice-detail .content .order-info {\n      width: 100%;\n      height: 332px;\n      border-bottom: 1px solid #2b2f3b;\n}\n.invoice-detail .content .order-info .title {\n        height: 50px;\n        line-height: 50px;\n        padding-left: 40px;\n}\n.invoice-detail .content .order-info .left {\n        float: left;\n        width: 100%;\n        height: 282px;\n        background: #353945;\n        -webkit-box-shadow: 0 -1px #2b2f3b;\n                box-shadow: 0 -1px #2b2f3b;\n}\n.invoice-detail .content .order-info .left .item {\n          line-height: 60px;\n          overflow: hidden;\n          width: 49%;\n          height: 50px;\n          display: inline-block;\n}\n.invoice-detail .content .order-info .left .item .label {\n            display: inline-block;\n            width: 110px;\n            margin-left: 15px;\n}\n.invoice-detail .content .order-info .left .item span {\n            display: inline-block;\n            padding-left: 10px;\n}\n.invoice-detail .content .order-info-two {\n      width: 100%;\n      height: 111px;\n}\n.invoice-detail .content .order-info-two .title {\n        height: 50px;\n        line-height: 50px;\n        padding-left: 40px;\n}\n.invoice-detail .content .order-info-two .pi-left {\n        float: left;\n        width: 100%;\n        height: 60px;\n        background: #353945;\n        -webkit-box-shadow: 0 -1px #2b2f3b;\n                box-shadow: 0 -1px #2b2f3b;\n        padding: 16px;\n        border-bottom: 1px solid #2b2f3b;\n}\n.invoice-detail .content .order-info-two .pi-left .el-tag + .el-tag {\n          margin-left: 10px;\n}\n.invoice-detail .content .order-info-two .pi-left .button-new-tag {\n          margin-left: 6px;\n}\n.invoice-detail .content .parts-list {\n      text-align: right;\n      padding: 0 40px;\n      font-size: 12px;\n      overflow: hidden;\n      height: 50px;\n      line-height: 50px;\n      width: 100%;\n      -webkit-box-shadow: 0 -1px #2b2f3b;\n              box-shadow: 0 -1px #2b2f3b;\n      position: relative;\n}\n.invoice-detail .content .parts-list .att-total {\n        display: inline-block;\n        position: absolute;\n        top: 0;\n        right: 25px;\n        color: #e26829;\n}\n"],sourceRoot:""}])},2476:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=c(n(3)),o=c(n(7)),r=c(n(5)),a=c(n(9)),s=c(n(10)),l=c(n(8));n(2370);function c(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{loading:!1,isEditPage:!1,tableHead:["Model Name","BF Art Nr.","Customer Art Nr.","Description","Unit Pricee","VAT rate","Quantity","Amount"],orderId:0,currencies:[{currency:1,label:"€"},{currency:2,label:"$"},{currency:3,label:"DM."},{currency:4,label:"￥"},{currency:5,label:"￡"}],formData:{},index:0,invoiceItems:[],dynamicTags:[],tradeTerms:i.default.ConstData.TRADE_TERMS,paymentTerms:i.default.ConstData.PAYMENT_TERMS}},i18n:{messages:{fr:l.default.Component.Order.Save,en:r.default.Component.Order.Save,zh:o.default.Component.Order.Save,de:a.default.Component.Order.Save,nl:s.default.Component.Order.Save}},computed:{totalCount:function(){var t=0;return this.invoiceItems.forEach(function(e){t+=e.amount}),Math.round(100*t)/100}},mounted:function(){var t=this;t.orderId=this.$route.query.orderId,t.loading=!0,t.isEditPage=!0,t.getFinanceInvoiceById(t.orderId).then(function(e){if(-2===e.code)throw e.message;return t.formData=e}).then(function(e){if(-2===e.code)throw e.message;return t.formData.salesman=i.default.Data.getOrg().name,t.getInvoicePIref(e.id)}).then(function(e){if(-2===e.code)throw e.message;return t.invoiceItems=e,t.getInvoiceDetail()}).then(function(e){if(-2===e.code)throw e.message;t.dynamicTags=e.content,t.loading=!1}).catch(function(e){t.$message({message:e.message,type:"error"}),t.loading=!1})},methods:{goAfterIndex:function(){this.$router.push({name:"invoiceList"})},getFinanceInvoiceById:function(t){return i.default.Api.request({method:"get",url:"/nl/finance/invoice/"+t})},getInvoicePIref:function(t){return i.default.Api.request({method:"get",url:"/nl/finance/invoice/"+t+"/pi/detail"})},getInvoiceDetail:function(){return i.default.Api.request({method:"post",url:"/nl/finance/invoice/detail/filter",data:{invoice_id:this.orderId},params:{page:1,size:999}})}}}},2477:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"invoice-detail"},[n("div",{staticClass:"header"},[n("div",{staticClass:"btn-group-inline"},[n("div",{staticClass:"icons"},[n("div",{staticClass:"icon-item back",attrs:{title:"back"},on:{click:t.goAfterIndex}})])]),t._v(" "),n("label",{staticClass:"title"},[t._v("Invoice Info Details")])]),t._v(" "),n("div",{staticClass:"content-wrap"},[n("div",{directives:[{name:"loading",rawName:"v-loading.body",value:t.loading,expression:"loading",modifiers:{body:!0}}],staticClass:"content"},[n("div",{staticClass:"order-info"},[n("label",{staticClass:"title"},[t._v("Invoice Info")]),t._v(" "),n("div",{staticClass:"left"},[n("div",{staticClass:"item"},[n("label",{staticClass:"label"},[t._v("Customer")]),t._v(" "),n("span",[t._v(t._s(t.formData.customer_name))])]),t._v(" "),n("div",{staticClass:"item"},[n("label",{staticClass:"label"},[t._v("Customer No.")]),t._v(" "),n("span",[t._v(t._s(t.formData.customer_no))])]),t._v(" "),n("div",{staticClass:"item"},[n("label",{staticClass:"label"},[t._v("Currency/Amount")]),t._v(" "),n("span",[t._v(t._s(t._f("currencyType")(t.formData.currency))+t._s(t.formData.invoice_amount))])]),t._v(" "),n("div",{staticClass:"item"},[n("label",{staticClass:"label"},[t._v("VAT No.")]),t._v(" "),n("span",[t._v(t._s(t.formData.vat_no))])]),t._v(" "),n("div",{staticClass:"item"},[n("label",{staticClass:"label"},[t._v("Invoice No.")]),t._v(" "),n("span",[t._v(t._s(t.formData.invoice_no))])]),t._v(" "),n("div",{staticClass:"item"},[n("label",{staticClass:"label"},[t._v("Trade Terms")]),t._v(" "),n("span",[t._v(t._s(t.formData.trade_terms))])]),t._v(" "),n("div",{staticClass:"item"},[n("label",{staticClass:"label"},[t._v("Invoice Date")]),t._v(" "),n("span",[t._v(t._s(t._f("dateFormat")(t.formData.invoice_date)))])]),t._v(" "),n("div",{staticClass:"item"},[n("label",{staticClass:"label"},[t._v("Payment Term")]),t._v(" "),n("span",[t._v(t._s(t.formData.payment_term))])])])]),t._v(" "),n("div",{staticClass:"order-info-two"},[n("label",{staticClass:"title"},[t._v("Add PI")]),t._v(" "),n("div",{staticClass:"pi-left"},t._l(t.dynamicTags,function(e){return n("el-tag",{key:e.id,attrs:{size:"small"}},[t._v(t._s(e.pi_no))])}),1)]),t._v(" "),n("div",{staticClass:"table-wrap"},[n("table",{staticClass:"table-content",attrs:{border:"0",cellspacing:"0",cellpadding:"0"}},[n("thead",t._l(t.tableHead,function(e){return n("td",[t._v(t._s(e))])}),0),t._v(" "),n("tbody",t._l(t.invoiceItems,function(e,i){return n("tr",[n("td",[t._v(t._s(e.model_name))]),t._v(" "),n("td",[t._v(t._s(e.bf_art_no))]),t._v(" "),n("td",[t._v(t._s(e.customer_art_no))]),t._v(" "),n("td",[t._v(t._s(e.description))]),t._v(" "),n("td",[t._v(t._s(t._f("currencyType")(e.currency))+t._s(e.unit_price))]),t._v(" "),n("td",[t._v(t._s(e.vat_rate)+"%")]),t._v(" "),n("td",[t._v(t._s(e.quantity))]),t._v(" "),n("td",[t._v(t._s(e.amount))])])}),0)])]),t._v(" "),n("div",{staticClass:"parts-list"},[n("span",{staticClass:"att-total"},[t._v("total: "+t._s(t._f("currencyType")(t.formData.currency))+t._s(t.totalCount))])])])])])},staticRenderFns:[]}}});
//# sourceMappingURL=33.96509658493ced3d8fd8.js.map