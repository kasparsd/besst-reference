webpackJsonp([74],{2296:function(t,e,i){var n=i(2)(i(2496),i(2497),function(t){i(2494)},null,null);t.exports=n.exports},2494:function(t,e,i){var n=i(2495);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(2279)("5dae86d4",n,!0,{})},2495:function(t,e,i){(t.exports=i(2278)(!0)).push([t.i,".customer-list{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%}.customer-list span.required{color:#e26829;display:inline-block}.customer-list .list-form-inline{height:100%;line-height:50px}.customer-list .list-form-inline .el-form-item{margin-right:2px!important;margin-bottom:0}.customer-list .list-form-inline .el-form-item__label{color:#fff;width:100px;text-align:left;margin-left:5px}.customer-list .list-form-inline .el-form-item__content{width:180px!important}.customer-list .loading{width:100px;height:100px;position:absolute;top:50%;left:50%;margin-top:-50px;margin-left:-50px}.customer-list .table-wrap .long-td{max-width:270px;text-overflow:ellipsis;overflow:hidden;text-align:left}.customer-list .dialog-sm .item{margin:20px 0;font-size:0;height:30px}.customer-list .dialog-sm .item .item-box{line-height:30px}.customer-list .dialog-sm .item .label{display:inline-block;width:120px;height:30px;vertical-align:middle}.customer-list .dialog-sm .item .input{margin-left:40px;width:260px}.customer-list .dialog-md{overflow:hidden}.customer-list .dialog-md .el-dialog__body{font-size:0;padding:30px 20px 30px 54px}.customer-list .dialog-md .item{width:50%;line-height:30px;display:inline-block}.customer-list .dialog-md .item .land{width:250px}.customer-list .dialog-md .item .title{display:inline-block;width:90px}.customer-list .dialog-md .item .content{margin:10px;display:inline-block;width:250px}","",{version:3,sources:["/Users/bys/工作/Bafang/BESST/besst-client/src/views/nl/customer/customer-list.vue"],names:[],mappings:"AACA,eACE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,4BAA6B,AAC7B,6BAA8B,AAC1B,0BAA2B,AACvB,sBAAuB,AAC/B,WAAY,AACZ,WAAa,CACd,AACD,6BACI,cAAe,AACf,oBAAsB,CACzB,AACD,iCACI,YAAa,AACb,gBAAkB,CACrB,AACD,+CACM,2BAA6B,AAC7B,eAAiB,CACtB,AACD,sDACM,WAAY,AACZ,YAAa,AACb,gBAAiB,AACjB,eAAiB,CACtB,AACD,wDACM,qBAAwB,CAC7B,AACD,wBACI,YAAa,AACb,aAAc,AACd,kBAAmB,AACnB,QAAS,AACT,SAAU,AACV,iBAAkB,AAClB,iBAAmB,CACtB,AACD,oCACI,gBAAiB,AACjB,uBAAwB,AACxB,gBAAiB,AACjB,eAAiB,CACpB,AACD,gCACI,cAAe,AACf,YAAa,AACb,WAAa,CAChB,AACD,0CACM,gBAAkB,CACvB,AACD,uCACM,qBAAsB,AACtB,YAAa,AACb,YAAa,AACb,qBAAuB,CAC5B,AACD,uCACM,iBAAkB,AAClB,WAAa,CAClB,AACD,0BACI,eAAiB,CACpB,AACD,2CACM,YAAa,AACb,2BAA6B,CAClC,AACD,gCACM,UAAW,AACX,iBAAkB,AAClB,oBAAsB,CAC3B,AACD,sCACQ,WAAa,CACpB,AACD,uCACQ,qBAAsB,AACtB,UAAY,CACnB,AACD,yCACQ,YAAa,AACb,qBAAsB,AACtB,WAAa,CACpB",file:"customer-list.vue",sourcesContent:["\n.customer-list {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  width: 100%;\n  height: 100%;\n}\n.customer-list span.required {\n    color: #e26829;\n    display: inline-block;\n}\n.customer-list .list-form-inline {\n    height: 100%;\n    line-height: 50px;\n}\n.customer-list .list-form-inline .el-form-item {\n      margin-right: 2px !important;\n      margin-bottom: 0;\n}\n.customer-list .list-form-inline .el-form-item__label {\n      color: #fff;\n      width: 100px;\n      text-align: left;\n      margin-left: 5px;\n}\n.customer-list .list-form-inline .el-form-item__content {\n      width: 180px !important;\n}\n.customer-list .loading {\n    width: 100px;\n    height: 100px;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    margin-top: -50px;\n    margin-left: -50px;\n}\n.customer-list .table-wrap .long-td {\n    max-width: 270px;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    text-align: left;\n}\n.customer-list .dialog-sm .item {\n    margin: 20px 0;\n    font-size: 0;\n    height: 30px;\n}\n.customer-list .dialog-sm .item .item-box {\n      line-height: 30px;\n}\n.customer-list .dialog-sm .item .label {\n      display: inline-block;\n      width: 120px;\n      height: 30px;\n      vertical-align: middle;\n}\n.customer-list .dialog-sm .item .input {\n      margin-left: 40px;\n      width: 260px;\n}\n.customer-list .dialog-md {\n    overflow: hidden;\n}\n.customer-list .dialog-md .el-dialog__body {\n      font-size: 0;\n      padding: 30px 20px 30px 54px;\n}\n.customer-list .dialog-md .item {\n      width: 50%;\n      line-height: 30px;\n      display: inline-block;\n}\n.customer-list .dialog-md .item .land {\n        width: 250px;\n}\n.customer-list .dialog-md .item .title {\n        display: inline-block;\n        width: 90px;\n}\n.customer-list .dialog-md .item .content {\n        margin: 10px;\n        display: inline-block;\n        width: 250px;\n}\n"],sourceRoot:""}])},2496:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=l(i(3)),o=l(i(90));function l(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{loading:!1,formSearch:{name:"",org_id:""},headData:[],tableList:[],currentPage:1,total:0,dialogDeleteVisible:!1,currentID:"",currentPermisstion:[],areaCodeList:[]}},i18n:{messages:{}},created:function(){},computed:{},mounted:function(){this.areaCodeList=o.default.init(),this.headData=["Name","Customer No.","Country","Email","Phone","Street","No.","Operation"],this.filterCustomer()},methods:{goAfterIndex:function(){this.$router.push({name:"afterIndex"})},onSearch:function(){this.filterCustomer()},onClean:function(){this.currentPage=1,this.formSearch={name:"",company_no:"",country:""},this.filterCustomer()},onEdit:function(t){this.$router.push({name:"customerAccount",query:{orderId:t.id}})},onDelete:function(t){this.currentID=t.id,this.dialogDeleteVisible=!0},handleCurrentChange:function(t){this.currentPage=t,n.default.Data.set(n.default.Const.DATA.KEY_AFTER_SALES_PAGE,this.currentPage),this.filterCustomer()},dialogAdd:function(){this.$router.push({name:"customerAccount"})},deleteInvitation:function(){var t=this,e=this;e.loading=!0,this.deleteCustomer(e.currentID).then(function(i){if(-2===i.code)throw i.message;t.$message({message:"Delete Successfully",type:"success"}),e.filterCustomer(),e.dialogDeleteVisible=!1,e.loading=!1}).catch(function(e){t.$message({message:e,type:"error"}),t.dialogVisible=!0,t.loading=!1})},filterCustomer:function(){var t=this;this.loading=!0,n.default.Api.request({method:"post",url:"/nl/nlPublic/company/filter",data:{name:this.formSearch.name,company_no:this.formSearch.company_no,country:this.formSearch.country},params:{page:this.currentPage,size:10}}).then(function(e){if(-2===e.code)throw e.message;t.tableList=e.content,t.total=e.totalElements,t.loading=!1}).catch(function(e){t.$message({message:e,type:"error"}),t.loading=!1})},deleteCustomer:function(t){return n.default.Api.request({method:"delete",url:"/nl/nlPublic/company/"+t})}},watch:{}}},2497:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"customer-list"},[i("div",{staticClass:"search-header"},[i("el-form",{staticClass:"list-form-inline",attrs:{inline:!0,model:t.formSearch}},[i("el-form-item",{attrs:{label:"Name"}},[i("el-input",{attrs:{placeholder:"Name"},model:{value:t.formSearch.name,callback:function(e){t.$set(t.formSearch,"name",e)},expression:"formSearch.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"Customer No."}},[i("el-input",{attrs:{placeholder:"Customer No."},model:{value:t.formSearch.company_no,callback:function(e){t.$set(t.formSearch,"company_no",e)},expression:"formSearch.company_no"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"Country"}},[i("el-select",{attrs:{filterable:"",placeholder:"Country"},model:{value:t.formSearch.country,callback:function(e){t.$set(t.formSearch,"country",e)},expression:"formSearch.country"}},t._l(t.areaCodeList,function(t,e){return i("el-option",{key:e,attrs:{label:t.area_en,value:t.area_en}})}),1)],1),t._v(" "),i("div",{staticClass:"btn-group-inline-icon"},[i("div",{staticClass:"icons"},[i("div",{staticClass:"icon-item search",attrs:{title:"search"},on:{click:t.onSearch}}),t._v(" "),i("div",{staticClass:"icon-item clear",attrs:{title:"clear"},on:{click:t.onClean}})])])],1),t._v(" "),i("div",{staticClass:"btn-group-top"},[i("div",{staticClass:"icons"},[i("div",{directives:[{name:"ilpermission",rawName:"v-ilpermission",value:"customer-add",expression:"'customer-add'"}],staticClass:"icon-item add-v2",attrs:{title:"add"},on:{click:t.dialogAdd}})])])],1),t._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading.body",value:t.loading,expression:"loading",modifiers:{body:!0}}],staticClass:"table-wrap"},[i("div",{staticClass:"table-content-holder"},[t.tableList.length<=0&&!t.loading?i("div",{staticClass:"no-data-content"},[t._v("noResult")]):i("table",{staticClass:"table-content",attrs:{border:"0",cellspacing:"0",cellpadding:"0"}},[i("thead",t._l(t.headData,function(e,n){return i("td",{key:n},[t._v(t._s(e))])}),0),t._v(" "),!t.loading&&t.tableList.length>0?i("tbody",t._l(t.tableList,function(e){return i("tr",{key:e.id},[i("td",[t._v(t._s(e.name))]),t._v(" "),i("td",[t._v(t._s(e.company_no))]),t._v(" "),i("td",[t._v(t._s(e.country))]),t._v(" "),i("td",[t._v(t._s(e.email))]),t._v(" "),i("td",[t._v(t._s(e.mobile))]),t._v(" "),i("td",[t._v(t._s(e.street))]),t._v(" "),i("td",[t._v(t._s(e.address_no))]),t._v(" "),i("td",[i("a",{directives:[{name:"ilpermission",rawName:"v-ilpermission",value:"customer-add",expression:"'customer-add'"}],staticClass:"btn-underline",on:{click:function(i){return i.stopPropagation(),t.onEdit(e)}}},[t._v("edit")]),t._v(" "),i("a",{directives:[{name:"ilpermission",rawName:"v-ilpermission",value:"customer-delete",expression:"'customer-delete'"}],staticClass:"btn-underline",on:{click:function(i){return i.stopPropagation(),t.onDelete(e)}}},[t._v("delete")])])])}),0):t._e()])]),t._v(" "),i("div",{staticClass:"table-footer"},[i("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":10,layout:"prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}}),t._v(" "),i("p",{staticClass:"total"},[t._v("total: "+t._s(t.total))])],1)]),t._v(" "),i("el-dialog",{attrs:{title:"Delete Customer",visible:t.dialogDeleteVisible,size:"tiny"},on:{"update:visible":function(e){t.dialogDeleteVisible=e}}},[i("p",[t._v("Are you sure to delete it ?")]),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:t.deleteInvitation}},[t._v("yes")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogDeleteVisible=!1}}},[t._v("no")])],1)])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=74.4055a7eeaa746e993923.js.map