webpackJsonp([30],{2354:function(e,t,a){var n=a(2)(a(2783),a(2784),function(e){a(2781)},"data-v-05dbb78c",null);e.exports=n.exports},2367:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,l=a(3),i=(n=l)&&n.__esModule?n:{default:n};var o={firmware:function(e){return i.default.HttpHelp.request({method:"GET",url:"/sys/firmware/filter",data:e})},saveFirmware:function(e){return i.default.HttpHelp.request({method:"POST",url:"/sys/firmware",data:e})},uploadFirmware:function(e){return i.default.HttpHelp.request({method:"POST",url:"/sys/firmware/bulk",data:e})},channle:function(e,t){return i.default.HttpHelp.request({method:"GET",url:"/firmware/channel/channel"+t,data:e})},channelStep:function(e){return i.default.HttpHelp.request({method:"POST",url:"/firmware/channel/channelStep2",data:e})},findHV:function(){return i.default.HttpHelp.request({method:"GET",url:"/firmware/channel/hardware/version"})},upgradeList:function(e){return i.default.HttpHelp.request({method:"GET",url:"/firmware/upgrade/list",data:e})},articleHsHistory:function(e){return i.default.HttpHelp.request({method:"POST",url:"/articleHsHistory",data:e})},deleteFirmware:function(e){return i.default.HttpHelp.request({method:"DELETE",url:"/sys/firmware",params:{ids:e}})}};t.default=o},2374:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a(7)),l=s(a(5)),i=s(a(9)),o=s(a(10)),r=s(a(8));function s(e){return e&&e.__esModule?e:{default:e}}t.default={i18n:{messages:{fr:r.default.Component.Product.Detail,en:l.default.Component.Product.Detail,zh:n.default.Component.Product.Detail,de:i.default.Component.Product.Detail,nl:o.default.Component.Product.Detail}}}},2781:function(e,t,a){var n=a(2782);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(2279)("1f83bbe6",n,!0,{})},2782:function(e,t,a){(e.exports=a(2278)(!0)).push([e.i,".table-expand[data-v-05dbb78c]{font-size:0}.table-expand label[data-v-05dbb78c]{width:90px}.table-expand .el-form-item[data-v-05dbb78c]{margin-right:15px;margin-bottom:0;min-width:250px}.content-wrap[data-v-05dbb78c],.table-box[data-v-05dbb78c]{display:-webkit-box;display:-ms-flexbox;display:flex}.table-box[data-v-05dbb78c]{height:100%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:0 10px;-webkit-box-flex:1;-ms-flex:1;flex:1;overflow-x:hidden}.table-box .table-start[data-v-05dbb78c]{padding-left:10px;height:50px}.table-box .table-start .el-form--inline[data-v-05dbb78c]{display:-webkit-box;display:-ms-flexbox;display:flex;height:100%}.table-box .table-main[data-v-05dbb78c]{-webkit-box-flex:1;-ms-flex:1;overflow:auto;flex:1}.table-box .table-main .el-table[data-v-05dbb78c]{height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.table-box .table-end[data-v-05dbb78c]{height:60px;padding:15px 40px 0}.dialog[data-v-05dbb78c]{overflow:hidden}.dialog .el-dialog__body[data-v-05dbb78c]{font-size:0;padding:30px 20px 30px 66px}.dialog .item[data-v-05dbb78c]{display:-webkit-box;display:-ms-flexbox;display:flex}.dialog .item span[data-v-05dbb78c]{color:#e26829;display:inline-block}.dialog .item .land[data-v-05dbb78c]{-webkit-box-flex:1;-ms-flex:1;flex:1}.dialog .item .title[data-v-05dbb78c]{display:-webkit-box;display:-ms-flexbox;display:flex;width:80px;margin:10px}.dialog .item .content[data-v-05dbb78c]{margin:10px;-webkit-box-flex:1;-ms-flex:1;flex:1}","",{version:3,sources:["/Users/bys/工作/Bafang/BESST/besst-client/src/views/firmware/list.vue"],names:[],mappings:"AACA,+BACE,WAAa,CACd,AACD,qCACI,UAAY,CACf,AACD,6CACI,kBAAmB,AACnB,gBAAiB,AACjB,eAAiB,CACpB,AAMD,2DAJE,oBAAqB,AACrB,oBAAqB,AACrB,YAAc,CAgBf,AAdD,4BACE,YAAa,AAIb,4BAA6B,AAC7B,6BAA8B,AAC1B,0BAA2B,AACvB,sBAAuB,AAC/B,eAAgB,AAChB,mBAAoB,AAChB,WAAY,AACR,OAAQ,AAChB,iBAAmB,CACpB,AACD,yCACI,kBAAmB,AACnB,WAAa,CAChB,AACD,0DACM,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,WAAa,CAClB,AACD,wCACI,mBAAoB,AAChB,WAAY,AAEhB,cAAe,AACf,MAAQ,CACX,AACD,kDACM,YAAa,AACb,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,4BAA6B,AAC7B,6BAA8B,AAC1B,0BAA2B,AACvB,qBAAuB,CACpC,AACD,uCACI,YAAa,AACb,mBAA0B,CAC7B,AACD,yBACE,eAAiB,CAClB,AACD,0CACI,YAAa,AACb,2BAA6B,CAChC,AACD,+BACI,oBAAqB,AACrB,oBAAqB,AACrB,YAAc,CACjB,AACD,oCACM,cAAe,AACf,oBAAsB,CAC3B,AACD,qCACM,mBAAoB,AAChB,WAAY,AACR,MAAQ,CACrB,AACD,sCACM,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,WAAY,AACZ,WAAa,CAClB,AACD,wCACM,YAAa,AACb,mBAAoB,AAChB,WAAY,AACR,MAAQ,CACrB",file:"list.vue",sourcesContent:["\n.table-expand[data-v-05dbb78c] {\n  font-size: 0;\n}\n.table-expand label[data-v-05dbb78c] {\n    width: 90px;\n}\n.table-expand .el-form-item[data-v-05dbb78c] {\n    margin-right: 15px;\n    margin-bottom: 0;\n    min-width: 250px;\n}\n.content-wrap[data-v-05dbb78c] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n.table-box[data-v-05dbb78c] {\n  height: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  padding: 0 10px;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  overflow-x: hidden;\n}\n.table-box .table-start[data-v-05dbb78c] {\n    padding-left: 10px;\n    height: 50px;\n}\n.table-box .table-start .el-form--inline[data-v-05dbb78c] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      height: 100%;\n}\n.table-box .table-main[data-v-05dbb78c] {\n    -webkit-box-flex: 1;\n        -ms-flex: 1;\n            flex: 1;\n    overflow: auto;\n    flex: 1;\n}\n.table-box .table-main .el-table[data-v-05dbb78c] {\n      height: 100%;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-orient: vertical;\n      -webkit-box-direction: normal;\n          -ms-flex-direction: column;\n              flex-direction: column;\n}\n.table-box .table-end[data-v-05dbb78c] {\n    height: 60px;\n    padding: 15px 40px 0 40px;\n}\n.dialog[data-v-05dbb78c] {\n  overflow: hidden;\n}\n.dialog .el-dialog__body[data-v-05dbb78c] {\n    font-size: 0;\n    padding: 30px 20px 30px 66px;\n}\n.dialog .item[data-v-05dbb78c] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n}\n.dialog .item span[data-v-05dbb78c] {\n      color: #e26829;\n      display: inline-block;\n}\n.dialog .item .land[data-v-05dbb78c] {\n      -webkit-box-flex: 1;\n          -ms-flex: 1;\n              flex: 1;\n}\n.dialog .item .title[data-v-05dbb78c] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      width: 80px;\n      margin: 10px;\n}\n.dialog .item .content[data-v-05dbb78c] {\n      margin: 10px;\n      -webkit-box-flex: 1;\n          -ms-flex: 1;\n              flex: 1;\n}\n"],sourceRoot:""}])},2783:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(336)),l=c(a(47)),i=c(a(20)),o=c(a(3)),r=c(a(2374)),s=c(a(2367)),d=c(a(767));function c(e){return e&&e.__esModule?e:{default:e}}t.default={mixins:[r.default],data:function(){return{tableData:[],formSearch:this.initForm(),currentPage:1,total:0,loading:!1,formData:{},dialogVisible:!1,dialogTitle:"",expands:[],Core:o.default}},mounted:function(){this.getTableList()},methods:{clickRowHandle:function(e,t,a){this.expands.includes(e.id)?this.expands=this.expands.filter(function(t){return t!==e.id}):this.expands.push(e.id)},onSearch:function(){this.currentPage=1,this.getTableList()},onClean:function(){this.currentPage=1;var e=this.initForm();this.formSearch=e,this.getTableList()},onDownLoad:function(e,t){e&&d.default.saveAs(e,t)},onEdit:function(e){this.formData=JSON.parse((0,i.default)(e)),this.dialogTitle="编辑",this.dialogVisible=!0},onDelete:function(e){var t=this;this.$confirm("此操作将删除数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s.default.deleteFirmware(e.id).then(function(e){if(-2===e.data.code)throw e.data.message;t.$message({message:"删除成功",type:"success"}),t.onSearch()}).catch(function(e){t.$message({message:e,type:"error"})})})},dialogConfirm:function(){var e=this;this.required()&&(this.loading=!0,s.default.saveFirmware(this.formData).then(function(t){if(-2===t.data.code)throw t.data.message;e.loading=!1,e.dialogVisible=!1,e.$message({message:"保存成功",type:"success"}),e.onSearch()}).catch(function(t){e.$message({message:t,type:"error"}),e.dialogWarehouseVisible=!1,e.loading=!1}))},required:function(){return!(!this.formData.note||""===this.formData.note)||(this.$message({message:"请输入日志",type:"warning"}),!1)},handleCurrentChange:function(e){this.currentPage=e,this.getTableList()},getTableList:function(){var e=this,t={};(0,l.default)(this.formSearch).forEach(function(a){e.formSearch[a]&&(t[a]=e.formSearch[a])}),this.loading=!0,s.default.firmware((0,n.default)({},t,{page:this.currentPage-1,pageSize:10})).then(function(t){var a=t.data,n=a.content,l=a.totalElements,i=a.code,o=a.message;if(1===i)return e.$message({type:"warning",message:o}),void(e.loading=!1);e.tableData=n,e.total=l,e.loading=!1},function(t){e.$message({type:"error",message:t.message}),e.loading=!1})},initForm:function(){return{partNo:"",sn:"",tagFour:"",tagOne:"",tagThree:"",tagTwo:"",softVersion:"",hardVersion:"",version:""}}}}},2784:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"firmware"}},[e._m(0),e._v(" "),a("div",{staticClass:"content-wrap"},[a("div",{staticClass:"table-box"},[a("div",{staticClass:"table-start"},[a("el-form",{attrs:{inline:!0,model:e.formSearch}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"物料编号"},model:{value:e.formSearch.partNo,callback:function(t){e.$set(e.formSearch,"partNo","string"==typeof t?t.trim():t)},expression:"formSearch.partNo"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"SN"},model:{value:e.formSearch.sn,callback:function(t){e.$set(e.formSearch,"sn","string"==typeof t?t.trim():t)},expression:"formSearch.sn"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"软件版本号"},model:{value:e.formSearch.softVersion,callback:function(t){e.$set(e.formSearch,"softVersion","string"==typeof t?t.trim():t)},expression:"formSearch.softVersion"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"硬件版本号"},model:{value:e.formSearch.hardVersion,callback:function(t){e.$set(e.formSearch,"hardVersion","string"==typeof t?t.trim():t)},expression:"formSearch.hardVersion"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"当前软件版本号"},model:{value:e.formSearch.version,callback:function(t){e.$set(e.formSearch,"version","string"==typeof t?t.trim():t)},expression:"formSearch.version"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"标签一"},model:{value:e.formSearch.tagOne,callback:function(t){e.$set(e.formSearch,"tagOne","string"==typeof t?t.trim():t)},expression:"formSearch.tagOne"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"标签二"},model:{value:e.formSearch.tagTwo,callback:function(t){e.$set(e.formSearch,"tagTwo","string"==typeof t?t.trim():t)},expression:"formSearch.tagTwo"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"标签三"},model:{value:e.formSearch.tagThree,callback:function(t){e.$set(e.formSearch,"tagThree","string"==typeof t?t.trim():t)},expression:"formSearch.tagThree"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"标签四"},model:{value:e.formSearch.tagFour,callback:function(t){e.$set(e.formSearch,"tagFour","string"==typeof t?t.trim():t)},expression:"formSearch.tagFour"}})],1),e._v(" "),a("el-form-item",[a("div",{staticClass:"btn-group-inline-icon"},[a("div",{staticClass:"icons"},[a("div",{staticClass:"icon-item search",attrs:{title:"search"},on:{click:e.onSearch}}),e._v(" "),a("div",{staticClass:"icon-item clear",attrs:{title:"clear"},on:{click:e.onClean}})])])])],1)],1),e._v(" "),a("div",{staticClass:"table-main"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.loading,expression:"loading",modifiers:{body:!0}}],attrs:{data:e.tableData,"row-key":"id","expand-row-keys":e.expands},on:{"row-click":e.clickRowHandle}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"SN"}},[a("span",[e._v(e._s(t.row.sn||"-"))])]),e._v(" "),a("el-form-item",{attrs:{label:"标签一"}},[a("span",[e._v(e._s(t.row.tagOne||"-"))])]),e._v(" "),a("el-form-item",{attrs:{label:"标签二"}},[a("span",[e._v(e._s(t.row.tagTwo||"-"))])]),e._v(" "),a("el-form-item",{attrs:{label:"标签三"}},[a("span",[e._v(e._s(t.row.tagThree||"-"))])]),e._v(" "),a("el-form-item",{attrs:{label:"标签四"}},[a("span",[e._v(e._s(t.row.tagFour||"-"))])]),e._v(" "),a("el-form-item",{attrs:{label:"日志"}},[a("span",[e._v(e._s(t.row.note||"-"))])]),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("span",[e._v(e._s(t.row.remark||"-"))])])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{type:"index",width:"55"}}),e._v(" "),a("el-table-column",{key:"23",attrs:{label:"操作",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return a.stopPropagation(),e.onEdit(t.row)}}},[e._v(" 编辑 ")]),e._v(" "),"24"==e.Core.Data.getUser().id?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return a.stopPropagation(),e.onDelete(t.row)}}},[e._v(" 删除 ")]):e._e(),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return a.stopPropagation(),e.onDownLoad(t.row.downloadUrl,t.row.fileName)}}},[e._v(" 下载 ")])]}}])}),e._v(" "),e.formSearch.sn?a("el-table-column",{attrs:{prop:"sn",label:"SN",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.sn||"-"))])]}}],null,!1,2276064630)}):e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"partNo",label:"物料编号",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.partNo||"-"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"订单号",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.orderNo||"-"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"itemName",label:"产品型号",width:"250"}}),e._v(" "),a("el-table-column",{attrs:{prop:"itemCategoryName",label:"产品类别",width:"250"}}),e._v(" "),a("el-table-column",{attrs:{prop:"software",label:"软件版本号",width:"250"}}),e._v(" "),a("el-table-column",{attrs:{prop:"hardware",label:"硬件版本号",width:"250"}}),e._v(" "),a("el-table-column",{attrs:{prop:"fileName",label:"文件名称",width:"250"}}),e._v(" "),a("el-table-column",{attrs:{prop:"version",label:"当前软件版本号",width:"250"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createdTime",label:"上传时间",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("dateFormatOther")(t.row.createdTime,"Y-m-d H:i:s")||"-"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"createdUserName",label:"上传人",width:"250"}})],1)],1),e._v(" "),a("div",{staticClass:"table-end"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":10,layout:"prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)])]),e._v(" "),a("el-dialog",{staticClass:"dialog",attrs:{title:e.dialogTitle,visible:e.dialogVisible,"custom-class":"edit-dialog"},on:{"update:title":function(t){e.dialogTitle=t},"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"item"},[a("label",{staticClass:"title"},[e._v("\n        日志\n        "),a("span",{staticClass:"required"},[e._v("*")])]),e._v(" "),a("div",{staticClass:"content"},[a("el-input",{staticClass:"input",attrs:{resize:"none",type:"textarea",rows:10,placeholder:""},model:{value:e.formData.note,callback:function(t){e.$set(e.formData,"note",t)},expression:"formData.note"}})],1)]),e._v(" "),a("div",{staticClass:"item"},[a("label",{staticClass:"title"},[e._v("\n        备注\n        "),a("span",{staticClass:"required"},[e._v("*")])]),e._v(" "),a("div",{staticClass:"content"},[a("el-input",{staticClass:"input",attrs:{resize:"none",type:"textarea",rows:5,placeholder:""},model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark",t)},expression:"formData.remark"}})],1)]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"preview"},on:{click:e.dialogConfirm}},[e._v("提交")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")])],1)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header"},[t("label",{staticClass:"title"},[this._v("固件列表")])])}]}}});
//# sourceMappingURL=30.6c9765de12245d904ba4.js.map