{"version":3,"sources":["webpack:///./src/views/nl/shipment-order/shipment-allocate.vue","webpack:///./src/views/nl/shipment-order/shipment-allocate.vue?d25f","webpack:///./src/views/nl/shipment-order/shipment-allocate.vue?2fb5","webpack:///shipment-allocate.vue","webpack:///./src/views/nl/shipment-order/shipment-allocate.vue?a629"],"names":["Component","__webpack_require__","ssrContext","module","exports","content","i","locals","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","data","loading","tableHead","orderItems","orderId","warehouseList","isAdvice","noLocation","i18n","messages","fr","_fr2","default","Order","Save","en","_en2","zh","_zh2","de","_de2","nl","_nl2","computed","mounted","_this","this","scope","$route","query","getShipmentStatus","then","res","code","message","status_name","getAllocateAdvice","getAllocate","checkLocation","catch","err","$message","type","methods","list","filter","location_no","length","saveAllocate","_this2","id","postAllocate","$router","go","_core2","Api","request","method","url","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","on","click","$event","back","_v","directives","name","rawName","value","expression","modifiers","body","_e","border","cellspacing","cellpadding","_l","item","_s","index","_f","category_root_id","item_code","item_name","allocated_quantity","picked_quantity","shipped_quantity","staticRenderFns"],"mappings":"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","file":"static/js/59.664b1481469df001e9db.js","sourcesContent":["function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1e9c88a7\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./shipment-allocate.vue\")\n}\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./shipment-allocate.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1e9c88a7\\\",\\\"hasScoped\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./shipment-allocate.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/nl/shipment-order/shipment-allocate.vue\n// module id = 2305\n// module chunks = 59","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1e9c88a7\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./shipment-allocate.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"5f826857\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-1e9c88a7\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/nl/shipment-order/shipment-allocate.vue\n// module id = 2530\n// module chunks = 59","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".shipment-allocate{width:100%;height:100%}.shipment-allocate .table-wrap{width:100%;height:calc(100% - 392px);-webkit-box-shadow:0 -1px #2b2f3b;box-shadow:0 -1px #2b2f3b;overflow-x:hidden}.shipment-allocate span.required{color:#e26829;display:inline-block}.shipment-allocate .content-set{width:1280px}.shipment-allocate .content-wrap .content{border:1px solid #2b2f3b}.shipment-allocate .content-wrap .content .parts-list{position:relative;padding:0 40px;font-size:12px;overflow:hidden;height:50px;line-height:50px;width:100%;-webkit-box-shadow:0 -1px #2b2f3b;box-shadow:0 -1px #2b2f3b}.shipment-allocate .content-wrap .content .parts-list .att-btn{padding:6px 9px;min-width:0;margin:11px auto;display:block}.shipment-allocate .content-wrap .content .parts-list .labelAdd{margin-left:14px}.shipment-allocate .content-wrap .content .parts-list .no-data-content{display:inline-block}.shipment-allocate .content-wrap .content .parts-list .btn-box{display:inline-block;text-align:right;margin-left:15px}.shipment-allocate .content-wrap .content .footer{width:100%;height:60px;line-height:60px;padding-left:40px;-webkit-box-shadow:0 -1px #2b2f3b;box-shadow:0 -1px #2b2f3b}.shipment-allocate .content-wrap .content .footer .footer-pagination{float:right}.shipment-allocate .table-wrap .table-content{padding-bottom:0}.shipment-allocate .dialog .el-dialog--large{width:1100px}.shipment-allocate .dialog .header .search-content{width:200px;margin-right:10px}.shipment-allocate .dialog .header .search-btn{position:absolute;top:15px;left:250px;width:30px;height:30px}\", \"\", {\"version\":3,\"sources\":[\"/Users/bys/工作/Bafang/BESST/besst-client/src/views/nl/shipment-order/shipment-allocate.vue\"],\"names\":[],\"mappings\":\"AACA,mBACE,WAAY,AACZ,WAAa,CACd,AACD,+BACI,WAAY,AACZ,0BAA2B,AAC3B,kCAAmC,AAC3B,0BAA2B,AACnC,iBAAmB,CACtB,AACD,iCACI,cAAe,AACf,oBAAsB,CACzB,AACD,gCACI,YAAc,CACjB,AACD,0CACI,wBAA0B,CAC7B,AACD,sDACM,kBAAmB,AACnB,eAAgB,AAChB,eAAgB,AAChB,gBAAiB,AACjB,YAAa,AACb,iBAAkB,AAClB,WAAY,AACZ,kCAAmC,AAC3B,yBAA2B,CACxC,AACD,+DACQ,gBAAiB,AACjB,YAAa,AACb,iBAAkB,AAClB,aAAe,CACtB,AACD,gEACQ,gBAAkB,CACzB,AACD,uEACQ,oBAAsB,CAC7B,AACD,+DACQ,qBAAsB,AACtB,iBAAkB,AAClB,gBAAkB,CACzB,AACD,kDACM,WAAY,AACZ,YAAa,AACb,iBAAkB,AAClB,kBAAmB,AACnB,kCAAmC,AAC3B,yBAA2B,CACxC,AACD,qEACQ,WAAa,CACpB,AACD,8CACI,gBAAkB,CACrB,AACD,6CACI,YAAc,CACjB,AACD,mDACI,YAAa,AACb,iBAAmB,CACtB,AACD,+CACI,kBAAmB,AACnB,SAAU,AACV,WAAY,AACZ,WAAY,AACZ,WAAa,CAChB\",\"file\":\"shipment-allocate.vue\",\"sourcesContent\":[\"\\n.shipment-allocate {\\n  width: 100%;\\n  height: 100%;\\n}\\n.shipment-allocate .table-wrap {\\n    width: 100%;\\n    height: calc(100% - 392px);\\n    -webkit-box-shadow: 0 -1px #2b2f3b;\\n            box-shadow: 0 -1px #2b2f3b;\\n    overflow-x: hidden;\\n}\\n.shipment-allocate span.required {\\n    color: #e26829;\\n    display: inline-block;\\n}\\n.shipment-allocate .content-set {\\n    width: 1280px;\\n}\\n.shipment-allocate .content-wrap .content {\\n    border: 1px solid #2b2f3b;\\n}\\n.shipment-allocate .content-wrap .content .parts-list {\\n      position: relative;\\n      padding: 0 40px;\\n      font-size: 12px;\\n      overflow: hidden;\\n      height: 50px;\\n      line-height: 50px;\\n      width: 100%;\\n      -webkit-box-shadow: 0 -1px #2b2f3b;\\n              box-shadow: 0 -1px #2b2f3b;\\n}\\n.shipment-allocate .content-wrap .content .parts-list .att-btn {\\n        padding: 6px 9px;\\n        min-width: 0;\\n        margin: 11px auto;\\n        display: block;\\n}\\n.shipment-allocate .content-wrap .content .parts-list .labelAdd {\\n        margin-left: 14px;\\n}\\n.shipment-allocate .content-wrap .content .parts-list .no-data-content {\\n        display: inline-block;\\n}\\n.shipment-allocate .content-wrap .content .parts-list .btn-box {\\n        display: inline-block;\\n        text-align: right;\\n        margin-left: 15px;\\n}\\n.shipment-allocate .content-wrap .content .footer {\\n      width: 100%;\\n      height: 60px;\\n      line-height: 60px;\\n      padding-left: 40px;\\n      -webkit-box-shadow: 0 -1px #2b2f3b;\\n              box-shadow: 0 -1px #2b2f3b;\\n}\\n.shipment-allocate .content-wrap .content .footer .footer-pagination {\\n        float: right;\\n}\\n.shipment-allocate .table-wrap .table-content {\\n    padding-bottom: 0;\\n}\\n.shipment-allocate .dialog .el-dialog--large {\\n    width: 1100px;\\n}\\n.shipment-allocate .dialog .header .search-content {\\n    width: 200px;\\n    margin-right: 10px;\\n}\\n.shipment-allocate .dialog .header .search-btn {\\n    position: absolute;\\n    top: 15px;\\n    left: 250px;\\n    width: 30px;\\n    height: 30px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-1e9c88a7\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/nl/shipment-order/shipment-allocate.vue\n// module id = 2531\n// module chunks = 59","<template>\n  <div class=\"shipment-allocate\">\n    <div class=\"header\">\n      <div class=\"btn-group-inline\">\n        <div class=\"icons\">\n          <div class=\"icon-item back\" @click=\"$router.back()\" title=\"back\"></div>\n        </div>\n      </div>\n      <label class=\"title\">Shipment Allocate</label>\n    </div>\n    <div class=\"content-wrap\" v-loading.body=\"loading\">\n      <div class=\"content content-set\">\n        <div class=\"parts-list\" v-if=\"orderItems.length <= 0 && !loading\">\n          <div class=\"no-data-content\">Insufficient stock, procurement or not</div>\n        </div>\n        <div class=\"table-wrap\">\n          <table class=\"table-content\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\">\n            <thead>\n              <td v-for=\"item in tableHead\">{{ item }}</td>\n            </thead>\n            <tbody>\n              <tr v-for=\"(item, index) in orderItems\">\n                <td>{{ item.category_root_id | categoryRoot }}</td>\n                <td>{{ item.item_code }}</td>\n                <td>{{ item.item_name }}</td>\n                <td>{{ item.allocated_quantity }}</td>\n                <td>{{ item.picked_quantity }}</td>\n                <td>{{ item.shipped_quantity }}</td>\n                <td>{{ item.location_no || \"Out of stock\" }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        <div class=\"footer\" v-if=\"isAdvice\">\n          <el-button type=\"primary\" v-if=\"noLocation\" @click=\"saveAllocate\"\n            >Save Allocate</el-button\n          >\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Core from \"core/core\";\n\nimport ZH from \"src/assets/lang/zh\";\nimport EN from \"src/assets/lang/en\";\nimport DE from \"src/assets/lang/de\";\nimport NL from \"src/assets/lang/nl\";\nimport FR from \"src/assets/lang/fr\";\n\nexport default {\n  data() {\n    return {\n      loading: false,\n      tableHead: [\n        \"Item Name\",\n        \"Item Code\",\n        \"Specification\",\n        \"Allocated Quantity\",\n        \"Picked Quantity\",\n        \"Shipped Quantity\",\n        \"Location No.\",\n      ],\n      orderItems: [],\n      orderId: 0,\n      warehouseList: [],\n      isAdvice: false,\n      noLocation: false,\n    };\n  },\n  i18n: {\n    messages: {\n      fr: FR.Component.Order.Save,\n      en: EN.Component.Order.Save,\n      zh: ZH.Component.Order.Save,\n      de: DE.Component.Order.Save,\n      nl: NL.Component.Order.Save,\n    },\n  },\n  computed: {},\n  mounted: function () {\n    const scope = this;\n\n    scope.orderId = this.$route.query.orderId;\n    if (scope.orderId) {\n      scope.loading = true;\n      scope\n        .getShipmentStatus(scope.orderId)\n        .then((res) => {\n          if (res.code === -2) {\n            throw res.message;\n          }\n          if (res.status_name === \"Approved\") {\n            scope.isAdvice = true;\n            return scope.getAllocateAdvice(scope.orderId);\n          } else {\n            scope.isAdvice = false;\n            return scope.getAllocate(scope.orderId);\n          }\n        })\n        .then((res) => {\n          if (res.code === -2) {\n            throw res.message;\n          }\n          scope.orderItems = res;\n          scope.noLocation = this.checkLocation(res);\n          scope.loading = false;\n        })\n        .catch((err) => {\n          scope.$message({\n            message: err,\n            type: \"error\",\n          });\n          scope.loading = false;\n        });\n    }\n  },\n\n  methods: {\n    //判断库位货物是否充足\n    checkLocation(list) {\n      const data = list.filter((res) => {\n        return res.location_no === null;\n      });\n      if (data.length === 0) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    saveAllocate() {\n      const scope = this;\n      const id = this.$route.query.orderId;\n      const data = this.orderItems;\n      scope.loading = true;\n      scope\n        .postAllocate(id, data)\n        .then((res) => {\n          if (res.code === -2) {\n            throw res.message;\n          }\n          scope.isAdvice = false;\n          return scope.getAllocate(id);\n        })\n        .then((res) => {\n          if (res.code === -2) {\n            throw res.message;\n          }\n          scope.$message({\n            message: \"Save Successfully\",\n            type: \"success\",\n          });\n          scope.loading = false;\n          scope.orderItems = res;\n          scope.noLocation = this.checkLocation(res);\n          this.$router.go(-1);\n        })\n        .catch((err) => {\n          scope.$message({\n            message: err,\n            type: \"error\",\n          });\n          scope.loading = false;\n        });\n    },\n    //保存出库分配\n    postAllocate(id, data) {\n      return Core.Api.request({\n        method: \"post\",\n        url: \"/nl/order/shipment/\" + id + \"/allocate/advice\",\n        data: data,\n      });\n    },\n    //创建出库分配\n    getAllocateAdvice(id) {\n      return Core.Api.request({\n        method: \"get\",\n        url: \"/nl/order/shipment/\" + id + \"/allocate/advice\",\n      });\n    },\n    //获取状态\n    getShipmentStatus(id) {\n      return Core.Api.request({\n        method: \"get\",\n        url: \"/nl/order/shipment/\" + id + \"/status\",\n      });\n    },\n    getAllocate(id) {\n      return Core.Api.request({\n        method: \"get\",\n        url: \"/nl/order/shipment/\" + id + \"/allocate\",\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" rel=\"stylesheet/scss\">\n.shipment-allocate {\n  width: 100%;\n  height: 100%;\n\n  .table-wrap {\n    width: 100%;\n    height: calc(100% - 392px);\n    box-shadow: 0 -1px #2b2f3b;\n    overflow-x: hidden;\n  }\n\n  span.required {\n    color: #e26829;\n    display: inline-block;\n  }\n  .content-set {\n    width: 1280px;\n  }\n  .content-wrap {\n    .content {\n      border: 1px solid #2b2f3b;\n      .parts-list {\n        position: relative;\n        padding: 0 40px;\n        font-size: 12px;\n        overflow: hidden;\n        height: 50px;\n        line-height: 50px;\n        width: 100%;\n        box-shadow: 0 -1px #2b2f3b;\n        .att-btn {\n          padding: 6px 9px;\n          min-width: 0;\n          margin: 11px auto;\n          display: block;\n        }\n        .labelAdd {\n          margin-left: 14px;\n        }\n        .no-data-content {\n          display: inline-block;\n        }\n        .btn-box {\n          display: inline-block;\n          text-align: right;\n          margin-left: 15px;\n        }\n      }\n      .footer {\n        width: 100%;\n        height: 60px;\n        line-height: 60px;\n        padding-left: 40px;\n        box-shadow: 0 -1px #2b2f3b;\n        .footer-pagination {\n          float: right;\n        }\n      }\n    }\n  }\n\n  .table-wrap .table-content {\n    padding-bottom: 0;\n  }\n\n  .dialog {\n    .el-dialog--large {\n      width: 1100px;\n    }\n    .header {\n      .search-content {\n        width: 200px;\n        margin-right: 10px;\n      }\n      .search-btn {\n        position: absolute;\n        top: 15px;\n        left: 250px;\n        width: 30px;\n        height: 30px;\n      }\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// shipment-allocate.vue?74379df2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"shipment-allocate\"\n  }, [_c('div', {\n    staticClass: \"header\"\n  }, [_c('div', {\n    staticClass: \"btn-group-inline\"\n  }, [_c('div', {\n    staticClass: \"icons\"\n  }, [_c('div', {\n    staticClass: \"icon-item back\",\n    attrs: {\n      \"title\": \"back\"\n    },\n    on: {\n      \"click\": function($event) {\n        return _vm.$router.back()\n      }\n    }\n  })])]), _vm._v(\" \"), _c('label', {\n    staticClass: \"title\"\n  }, [_vm._v(\"Shipment Allocate\")])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading.body\",\n      value: (_vm.loading),\n      expression: \"loading\",\n      modifiers: {\n        \"body\": true\n      }\n    }],\n    staticClass: \"content-wrap\"\n  }, [_c('div', {\n    staticClass: \"content content-set\"\n  }, [(_vm.orderItems.length <= 0 && !_vm.loading) ? _c('div', {\n    staticClass: \"parts-list\"\n  }, [_c('div', {\n    staticClass: \"no-data-content\"\n  }, [_vm._v(\"Insufficient stock, procurement or not\")])]) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"table-wrap\"\n  }, [_c('table', {\n    staticClass: \"table-content\",\n    attrs: {\n      \"border\": \"0\",\n      \"cellspacing\": \"0\",\n      \"cellpadding\": \"0\"\n    }\n  }, [_c('thead', _vm._l((_vm.tableHead), function(item) {\n    return _c('td', [_vm._v(_vm._s(item))])\n  }), 0), _vm._v(\" \"), _c('tbody', _vm._l((_vm.orderItems), function(item, index) {\n    return _c('tr', [_c('td', [_vm._v(_vm._s(_vm._f(\"categoryRoot\")(item.category_root_id)))]), _vm._v(\" \"), _c('td', [_vm._v(_vm._s(item.item_code))]), _vm._v(\" \"), _c('td', [_vm._v(_vm._s(item.item_name))]), _vm._v(\" \"), _c('td', [_vm._v(_vm._s(item.allocated_quantity))]), _vm._v(\" \"), _c('td', [_vm._v(_vm._s(item.picked_quantity))]), _vm._v(\" \"), _c('td', [_vm._v(_vm._s(item.shipped_quantity))]), _vm._v(\" \"), _c('td', [_vm._v(_vm._s(item.location_no || \"Out of stock\"))])])\n  }), 0)])]), _vm._v(\" \"), (_vm.isAdvice) ? _c('div', {\n    staticClass: \"footer\"\n  }, [(_vm.noLocation) ? _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.saveAllocate\n    }\n  }, [_vm._v(\"Save Allocate\")]) : _vm._e()], 1) : _vm._e()])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1e9c88a7\",\"hasScoped\":false}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/nl/shipment-order/shipment-allocate.vue\n// module id = 2533\n// module chunks = 59"],"sourceRoot":""}