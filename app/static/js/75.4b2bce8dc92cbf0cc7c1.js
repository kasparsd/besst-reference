webpackJsonp([75],{2297:function(t,e,a){var n=a(2)(a(2500),a(2501),function(t){a(2498)},null,null);t.exports=n.exports},2498:function(t,e,a){var n=a(2499);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(2279)("27e17e46",n,!0,{})},2499:function(t,e,a){(t.exports=a(2278)(!0)).push([t.i,".customer-account{width:100%;height:100%}.customer-account span.required{color:#e26829;display:inline-block}.customer-account .content{border:1px solid #2b2f3b}.customer-account .content .order-info{width:100%;height:708px}.customer-account .content .order-info .title{height:50px;line-height:50px;padding-left:40px}.customer-account .content .order-info .left{float:left;width:100%;height:658px;background:#353945;-webkit-box-shadow:0 -1px #2b2f3b;box-shadow:0 -1px #2b2f3b}.customer-account .content .order-info .left .item{line-height:60px;overflow:hidden;width:49%;height:50px;display:inline-block}.customer-account .content .order-info .left .item .label{display:inline-block;width:130px;margin-left:15px}.customer-account .content .order-info .left .item .input{margin-left:10px;width:256px;border-radius:0 0 10px 10px}.customer-account .content .order-info .left .item .input-left{margin-left:10px;width:200px}.customer-account .content .order-info .left .item .input-right{width:200px}.customer-account .content .order-info .left .item .input-note{margin-left:10px;width:608px}.customer-account .content .order-info .left .item .el-input-number__decrease,.customer-account .content .order-info .left .item .el-input-number__increase{top:15px;border:0}.customer-account .content .parts-list{text-align:right;padding:0 40px;font-size:12px;overflow:hidden;height:50px;line-height:50px;width:100%;-webkit-box-shadow:0 -1px #2b2f3b;box-shadow:0 -1px #2b2f3b}.customer-account .content .parts-list .att-btn{padding:6px 9px;min-width:0;margin:11px auto;display:block}.customer-account .content .parts-list .labelAdd{margin-left:14px}","",{version:3,sources:["/Users/bys/工作/Bafang/BESST/besst-client/src/views/nl/customer/customer-account.vue"],names:[],mappings:"AACA,kBACE,WAAY,AACZ,WAAa,CACd,AACD,gCACI,cAAe,AACf,oBAAsB,CACzB,AACD,2BACI,wBAA0B,CAC7B,AACD,uCACM,WAAY,AACZ,YAAc,CACnB,AACD,8CACQ,YAAa,AACb,iBAAkB,AAClB,iBAAmB,CAC1B,AACD,6CACQ,WAAY,AACZ,WAAY,AACZ,aAAc,AACd,mBAAoB,AACpB,kCAAmC,AAC3B,yBAA2B,CAC1C,AACD,mDACU,iBAAkB,AAClB,gBAAiB,AACjB,UAAW,AACX,YAAa,AACb,oBAAsB,CAC/B,AACD,0DACY,qBAAsB,AACtB,YAAa,AACb,gBAAkB,CAC7B,AACD,0DACY,iBAAkB,AAClB,YAAa,AACb,2BAA6B,CACxC,AACD,+DACY,iBAAkB,AAClB,WAAa,CACxB,AACD,gEACY,WAAa,CACxB,AACD,+DACY,iBAAkB,AAClB,WAAa,CACxB,AAKD,4JACY,SAAU,AACV,QAAU,CACrB,AACD,uCACM,iBAAkB,AAClB,eAAgB,AAChB,eAAgB,AAChB,gBAAiB,AACjB,YAAa,AACb,iBAAkB,AAClB,WAAY,AACZ,kCAAmC,AAC3B,yBAA2B,CACxC,AACD,gDACQ,gBAAiB,AACjB,YAAa,AACb,iBAAkB,AAClB,aAAe,CACtB,AACD,iDACQ,gBAAkB,CACzB",file:"customer-account.vue",sourcesContent:["\n.customer-account {\n  width: 100%;\n  height: 100%;\n}\n.customer-account span.required {\n    color: #e26829;\n    display: inline-block;\n}\n.customer-account .content {\n    border: 1px solid #2b2f3b;\n}\n.customer-account .content .order-info {\n      width: 100%;\n      height: 708px;\n}\n.customer-account .content .order-info .title {\n        height: 50px;\n        line-height: 50px;\n        padding-left: 40px;\n}\n.customer-account .content .order-info .left {\n        float: left;\n        width: 100%;\n        height: 658px;\n        background: #353945;\n        -webkit-box-shadow: 0 -1px #2b2f3b;\n                box-shadow: 0 -1px #2b2f3b;\n}\n.customer-account .content .order-info .left .item {\n          line-height: 60px;\n          overflow: hidden;\n          width: 49%;\n          height: 50px;\n          display: inline-block;\n}\n.customer-account .content .order-info .left .item .label {\n            display: inline-block;\n            width: 130px;\n            margin-left: 15px;\n}\n.customer-account .content .order-info .left .item .input {\n            margin-left: 10px;\n            width: 256px;\n            border-radius: 0 0 10px 10px;\n}\n.customer-account .content .order-info .left .item .input-left {\n            margin-left: 10px;\n            width: 200px;\n}\n.customer-account .content .order-info .left .item .input-right {\n            width: 200px;\n}\n.customer-account .content .order-info .left .item .input-note {\n            margin-left: 10px;\n            width: 608px;\n}\n.customer-account .content .order-info .left .item .el-input-number__increase {\n            top: 15px;\n            border: 0;\n}\n.customer-account .content .order-info .left .item .el-input-number__decrease {\n            top: 15px;\n            border: 0;\n}\n.customer-account .content .parts-list {\n      text-align: right;\n      padding: 0 40px;\n      font-size: 12px;\n      overflow: hidden;\n      height: 50px;\n      line-height: 50px;\n      width: 100%;\n      -webkit-box-shadow: 0 -1px #2b2f3b;\n              box-shadow: 0 -1px #2b2f3b;\n}\n.customer-account .content .parts-list .att-btn {\n        padding: 6px 9px;\n        min-width: 0;\n        margin: 11px auto;\n        display: block;\n}\n.customer-account .content .parts-list .labelAdd {\n        margin-left: 14px;\n}\n"],sourceRoot:""}])},2500:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(a(20)),s=o(a(3)),i=o(a(90));function o(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{loading:!1,isEditPage:!1,formData:{name:"",company_no:"",account_no:"",payment_method:"",credit_grade:"",credit_line:"",mobile:"",address:"",country_code:"+86",remark:"",star:"",currency:1,customer_id:0,province:"",city:"",district:"",order_memo:"",receiver_name:"",postcode:"",country:"",vat_no:"",create_user_id:s.default.Data.getUser()?s.default.Data.getUser().id:""},orderId:0,areaCodeList:[],tradeTerms:s.default.ConstData.TRADE_TERMS,payment_types:s.default.ConstData.PAYMENT_TYPES,paymentTerms:s.default.ConstData.PAYMENT_TERMS,currencies:s.default.ConstData.CURRENCIES,paymentMethodData:s.default.ConstData.PAYMENT_METHOD}},i18n:{messages:{}},computed:{},mounted:function(){this.areaCodeList=i.default.init(),this.orderId=this.$route.query.orderId,this.orderId&&(this.formData.customer_id=this.orderId,this.loading=!0,this.getCompanyById(this.orderId))},methods:{PhoneRelatedCountry:function(t){var e=this.areaCodeList.find(function(e){return e.area_code===t});this.formData.country=e.area_en},CountryToPhone:function(t){var e=this.areaCodeList.find(function(e){return e.area_en===t});e&&(this.formData.country_code=e.area_code)},goAfterIndex:function(){this.$router.push({name:"customerList"})},createOrder:function(){var t=this;this.checkParams()&&(console.log((0,n.default)(this.formData)),this.postCompany(this.formData).then(function(e){if(-2===e.code)throw e.message;t.formData=JSON.parse((0,n.default)(e)),t.$message({message:"Save Successfully",type:"success"}),t.orderId=e.id,t.loading=!1,t.$router.go(-1)}).catch(function(e){t.$message({message:e,type:"error"}),t.loading=!1}))},checkParams:function(){return""===this.formData.name?(this.$message({message:"Please add Name",type:"warning"}),!1):s.default.Util.isEmail(this.formData.email)?""===this.formData.country_code?(this.$message({message:"Please add Country Code",type:"warning"}),!1):""===this.formData.mobile?(this.$message({message:"Please add Phome",type:"warning"}),!1):""===this.formData.street?(this.$message({message:"Please add Street",type:"warning"}),!1):""!==this.formData.address_no||(this.$message({message:"Please add No.",type:"warning"}),!1):(this.$message({message:"E-mail is illegitimate",type:"warning"}),!1)},getCompanyById:function(t){var e=this;this.loading=!0,s.default.Api.request({method:"GET",url:"/nl/nlPublic/company/"+t}).then(function(t){if(-2===t.code)throw t.message;e.formData=t,e.loading=!1}).catch(function(t){e.$message({message:t,type:"error"}),e.loading=!1})},postCompany:function(t){return s.default.Api.request({method:"POST",url:"/nl/nlPublic/company",data:t})}}}},2501:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"customer-account"},[a("div",{staticClass:"header"},[a("div",{staticClass:"btn-group-inline"},[a("div",{staticClass:"icons"},[a("div",{staticClass:"icon-item back",attrs:{title:"back"},on:{click:t.goAfterIndex}})])]),t._v(" "),a("label",{staticClass:"title"},[t._v(t._s("Customer Account"))])]),t._v(" "),a("div",{staticClass:"content-wrap"},[a("div",{directives:[{name:"loading",rawName:"v-loading.body",value:t.loading,expression:"loading",modifiers:{body:!0}}],staticClass:"content"},[a("div",{staticClass:"order-info"},[a("label",{staticClass:"title"},[t._v("Customer Account Info")]),t._v(" "),a("div",{staticClass:"left"},[a("div",{staticClass:"item"},[t._m(0),t._v(" "),a("el-input",{staticClass:"input",attrs:{placeholder:"Company name"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),a("div",{staticClass:"item"},[a("label",{staticClass:"label"},[t._v("Customer No.")]),t._v(" "),a("el-input",{staticClass:"input",attrs:{placeholder:"Nick name"},model:{value:t.formData.company_no,callback:function(e){t.$set(t.formData,"company_no",e)},expression:"formData.company_no"}})],1),t._v(" "),a("div",{staticClass:"item"},[t._m(1),t._v(" "),a("el-input",{staticClass:"input",attrs:{placeholder:"Service email"},model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}})],1),t._v(" "),a("div",{staticClass:"item"},[t._m(2),t._v(" "),a("el-input",{staticClass:"input",model:{value:t.formData.mobile,callback:function(e){t.$set(t.formData,"mobile",e)},expression:"formData.mobile"}},[a("el-select",{attrs:{slot:"prepend",filterable:""},on:{change:t.PhoneRelatedCountry},slot:"prepend",model:{value:t.formData.country_code,callback:function(e){t.$set(t.formData,"country_code",e)},expression:"formData.country_code"}},t._l(t.areaCodeList,function(t){return a("el-option",{key:t.area_code,attrs:{label:t.area_code,value:t.area_code}})}),1)],1)],1),t._v(" "),a("div",{staticClass:"item"},[t._m(3),t._v(" "),a("el-input",{staticClass:"input",attrs:{placeholder:"Street"},model:{value:t.formData.street,callback:function(e){t.$set(t.formData,"street",e)},expression:"formData.street"}})],1),t._v(" "),a("div",{staticClass:"item"},[t._m(4),t._v(" "),a("el-input",{staticClass:"input",attrs:{placeholder:" No."},model:{value:t.formData.address_no,callback:function(e){t.$set(t.formData,"address_no",e)},expression:"formData.address_no"}})],1),t._v(" "),a("div",{staticClass:"item"},[a("label",{staticClass:"label"},[t._v("Currency")]),t._v(" "),a("el-select",{staticClass:"input",attrs:{slot:"prepend"},slot:"prepend",model:{value:t.formData.currency,callback:function(e){t.$set(t.formData,"currency",e)},expression:"formData.currency"}},t._l(t.currencies,function(t){return a("el-option",{key:t.currency,attrs:{label:t.label,value:t.currency,"value-key":t.currency}})}),1)],1),t._v(" "),a("div",{staticClass:"item"},[a("label",{staticClass:"label"},[t._v("Country")]),t._v(" "),a("el-select",{staticClass:"input",attrs:{slot:"prepend",filterable:""},on:{change:t.CountryToPhone},slot:"prepend",model:{value:t.formData.country,callback:function(e){t.$set(t.formData,"country",e)},expression:"formData.country"}},t._l(t.areaCodeList,function(t,e){return a("el-option",{key:e,attrs:{label:t.area_en,value:t.area_en}})}),1)],1),t._v(" "),a("div",{staticClass:"item"},[a("label",{staticClass:"label"},[t._v("Province")]),t._v(" "),a("el-input",{staticClass:"input",model:{value:t.formData.province,callback:function(e){t.$set(t.formData,"province",e)},expression:"formData.province"}})],1),t._v(" "),a("div",{staticClass:"item"},[a("label",{staticClass:"label"},[t._v("City")]),t._v(" "),a("el-input",{staticClass:"input",model:{value:t.formData.city,callback:function(e){t.$set(t.formData,"city",e)},expression:"formData.city"}})],1),t._v(" "),a("div",{staticClass:"item"},[a("label",{staticClass:"label"},[t._v("District")]),t._v(" "),a("el-input",{staticClass:"input",model:{value:t.formData.district,callback:function(e){t.$set(t.formData,"district",e)},expression:"formData.district"}})],1),t._v(" "),a("div",{staticClass:"item"},[a("label",{staticClass:"label"},[t._v("Zip Code")]),t._v(" "),a("el-input",{staticClass:"input",attrs:{placeholder:"Postal address"},model:{value:t.formData.postcode,callback:function(e){t.$set(t.formData,"postcode",e)},expression:"formData.postcode"}})],1),t._v(" "),a("div",{staticClass:"item"},[a("label",{staticClass:"label"},[t._v("Account No.")]),t._v(" "),a("el-input",{staticClass:"input",attrs:{placeholder:"Account number"},model:{value:t.formData.account_no,callback:function(e){t.$set(t.formData,"account_no",e)},expression:"formData.account_no"}})],1),t._v(" "),a("div",{staticClass:"item"},[a("label",{staticClass:"label"},[t._v("VAT No.")]),t._v(" "),a("el-input",{staticClass:"input",attrs:{placeholder:"Customer company VAT.NO"},model:{value:t.formData.vat_no,callback:function(e){t.$set(t.formData,"vat_no",e)},expression:"formData.vat_no"}})],1),t._v(" "),a("div",{staticClass:"item"},[a("label",{staticClass:"label"},[t._v("Payment Method")]),t._v(" "),a("el-select",{staticClass:"input",attrs:{slot:"prepend",placeholder:"Select Payment Method",filterable:""},slot:"prepend",model:{value:t.formData.payment_method,callback:function(e){t.$set(t.formData,"payment_method",e)},expression:"formData.payment_method"}},t._l(t.paymentMethodData,function(t){return a("el-option",{key:t.id,attrs:{label:t.label,value:t.id}})}),1)],1),t._v(" "),a("div",{staticClass:"item"},[a("label",{staticClass:"label"},[t._v("Trade Terms")]),t._v(" "),a("el-select",{staticClass:"input",attrs:{slot:"append",placeholder:"Select Trade Terms",filterable:""},slot:"append",model:{value:t.formData.trade_term,callback:function(e){t.$set(t.formData,"trade_term",e)},expression:"formData.trade_term"}},t._l(t.tradeTerms,function(t){return a("el-option",{key:t.id,attrs:{label:t.label,value:t.label}})}),1)],1),t._v(" "),a("div",{staticClass:"item"},[a("label",{staticClass:"label"},[t._v("Payment Term")]),t._v(" "),a("el-select",{staticClass:"input",attrs:{slot:"append",placeholder:"Select Payment Term",filterable:""},slot:"append",model:{value:t.formData.payment_term,callback:function(e){t.$set(t.formData,"payment_term",e)},expression:"formData.payment_term"}},t._l(t.paymentTerms,function(t){return a("el-option",{key:t.id,attrs:{label:t.label,value:t.label}})}),1)],1),t._v(" "),a("div",{staticClass:"item"},[a("label",{staticClass:"label"},[t._v("Receiver Name")]),t._v(" "),a("el-input",{staticClass:"input",attrs:{placeholder:"Company contact"},model:{value:t.formData.receiver_name,callback:function(e){t.$set(t.formData,"receiver_name",e)},expression:"formData.receiver_name"}})],1),t._v(" "),a("div",{staticClass:"item"},[a("el-tooltip",{attrs:{effect:"dark",content:"The bigger the number, the better the quota",placement:"top"}},[a("label",{staticClass:"label"},[t._v("Credit Line")])]),t._v(" "),a("el-input-number",{staticClass:"input",attrs:{min:1},model:{value:t.formData.credit_line,callback:function(e){t.$set(t.formData,"credit_line",e)},expression:"formData.credit_line"}})],1),t._v(" "),a("div",{staticClass:"item"},[a("el-tooltip",{attrs:{effect:"dark",content:"The bigger the number, the better the credit",placement:"top-start"}},[a("label",{staticClass:"label"},[t._v("Credit Grade")])]),t._v(" "),a("el-input-number",{staticClass:"input",attrs:{min:1},model:{value:t.formData.credit_grade,callback:function(e){t.$set(t.formData,"credit_grade",e)},expression:"formData.credit_grade"}})],1),t._v(" "),a("div",{staticClass:"item"},[a("label",{staticClass:"label"},[t._v("Service level")]),t._v(" "),a("el-input-number",{staticClass:"input",attrs:{min:1},model:{value:t.formData.star,callback:function(e){t.$set(t.formData,"star",e)},expression:"formData.star"}})],1),t._v(" "),a("div",{staticClass:"item"},[a("label",{staticClass:"label"},[t._v("Remark")]),t._v(" "),a("el-input",{staticClass:"input",model:{value:t.formData.remark,callback:function(e){t.$set(t.formData,"remark",e)},expression:"formData.remark"}})],1),t._v(" "),a("div",{staticClass:"item"},[a("label",{staticClass:"label"},[t._v("Order Memo")]),t._v(" "),a("el-input",{staticClass:"input",model:{value:t.formData.order_memo,callback:function(e){t.$set(t.formData,"order_memo",e)},expression:"formData.order_memo"}})],1)])]),t._v(" "),a("div",{staticClass:"parts-list"},[a("el-button",{attrs:{type:"primary"},on:{click:t.createOrder}},[t._v("SAVE")])],1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"label"},[this._v("\n              Name\n              "),e("span",{staticClass:"required"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"label"},[this._v("\n              Email\n              "),e("span",{staticClass:"required"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"label"},[this._v("\n              Phone\n              "),e("span",{staticClass:"required"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"label"},[this._v("\n              Street\n              "),e("span",{staticClass:"required"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"label"},[this._v("\n              No.\n              "),e("span",{staticClass:"required"},[this._v("*")])])}]}}});
//# sourceMappingURL=75.4b2bce8dc92cbf0cc7c1.js.map