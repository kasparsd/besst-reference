webpackJsonp([57],{2304:function(e,t,i){var a=i(2)(i(2528),i(2529),function(e){i(2526)},null,null);e.exports=a.exports},2526:function(e,t,i){var a=i(2527);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i(2279)("6a554650",a,!0,{})},2527:function(e,t,i){(e.exports=i(2278)(!0)).push([e.i,".shipment-order-header{width:100%;height:100%}.shipment-order-header span.required{color:#e26829;display:inline-block}.shipment-order-header .content{border:1px solid #2b2f3b}.shipment-order-header .content .order-info{width:100%;height:460px}.shipment-order-header .content .order-info .title{height:50px;line-height:50px;padding-left:40px}.shipment-order-header .content .order-info .left{float:left;width:100%;height:460px;background:#353945;-webkit-box-shadow:0 -1px #2b2f3b;box-shadow:0 -1px #2b2f3b}.shipment-order-header .content .order-info .left .item{line-height:60px;overflow:hidden;width:49%;height:50px;display:inline-block}.shipment-order-header .content .order-info .left .item .label{display:inline-block;width:110px;margin-left:15px}.shipment-order-header .content .order-info .left .item .input{margin-left:10px;width:256px;border-radius:0 0 10px 10px}.shipment-order-header .content .order-info .left .item .input-left{margin-left:10px;width:200px}.shipment-order-header .content .order-info .left .item .input-right{width:200px}.shipment-order-header .content .order-info .left .item .input-note{margin-left:10px;width:608px}.shipment-order-header .content .parts-list{text-align:right;padding:0 40px;font-size:12px;overflow:hidden;height:50px;line-height:50px;width:100%;-webkit-box-shadow:0 -1px #2b2f3b;box-shadow:0 -1px #2b2f3b}.shipment-order-header .content .parts-list .att-btn{padding:6px 9px;min-width:0;margin:11px auto;display:block}.shipment-order-header .content .parts-list .labelAdd{margin-left:14px}.shipment-order-header .content .table-wrap{width:100%;height:calc(100% - 392px);-webkit-box-shadow:0 -1px #2b2f3b;box-shadow:0 -1px #2b2f3b;overflow-x:hidden}.shipment-order-header .dialog .el-dialog--large{width:1100px}.shipment-order-header .dialog .header .search-content{width:200px;margin-right:10px}.shipment-order-header .dialog .header .search-btn{position:absolute;top:15px;left:250px;width:30px;height:30px}.shipment-order-header .footer{width:100%;height:60px;line-height:60px;padding-left:40px;-webkit-box-shadow:0 -1px #2b2f3b;box-shadow:0 -1px #2b2f3b}.shipment-order-header .footer .footer-pagination{float:right}.shipment-order-header .pagination{padding:10px}","",{version:3,sources:["/Users/bys/工作/Bafang/BESST/besst-client/src/views/nl/shipment-order/shipment-order-header.vue"],names:[],mappings:"AACA,uBACE,WAAY,AACZ,WAAa,CACd,AACD,qCACI,cAAe,AACf,oBAAsB,CACzB,AACD,gCACI,wBAA0B,CAC7B,AACD,4CACM,WAAY,AACZ,YAAc,CACnB,AACD,mDACQ,YAAa,AACb,iBAAkB,AAClB,iBAAmB,CAC1B,AACD,kDACQ,WAAY,AACZ,WAAY,AACZ,aAAc,AACd,mBAAoB,AACpB,kCAAmC,AAC3B,yBAA2B,CAC1C,AACD,wDACU,iBAAkB,AAClB,gBAAiB,AACjB,UAAW,AACX,YAAa,AACb,oBAAsB,CAC/B,AACD,+DACY,qBAAsB,AACtB,YAAa,AACb,gBAAkB,CAC7B,AACD,+DACY,iBAAkB,AAClB,YAAa,AACb,2BAA6B,CACxC,AACD,oEACY,iBAAkB,AAClB,WAAa,CACxB,AACD,qEACY,WAAa,CACxB,AACD,oEACY,iBAAkB,AAClB,WAAa,CACxB,AACD,4CACM,iBAAkB,AAClB,eAAgB,AAChB,eAAgB,AAChB,gBAAiB,AACjB,YAAa,AACb,iBAAkB,AAClB,WAAY,AACZ,kCAAmC,AAC3B,yBAA2B,CACxC,AACD,qDACQ,gBAAiB,AACjB,YAAa,AACb,iBAAkB,AAClB,aAAe,CACtB,AACD,sDACQ,gBAAkB,CACzB,AACD,4CACM,WAAY,AACZ,0BAA2B,AAC3B,kCAAmC,AAC3B,0BAA2B,AACnC,iBAAmB,CACxB,AACD,iDACI,YAAc,CACjB,AACD,uDACI,YAAa,AACb,iBAAmB,CACtB,AACD,mDACI,kBAAmB,AACnB,SAAU,AACV,WAAY,AACZ,WAAY,AACZ,WAAa,CAChB,AACD,+BACI,WAAY,AACZ,YAAa,AACb,iBAAkB,AAClB,kBAAmB,AACnB,kCAAmC,AAC3B,yBAA2B,CACtC,AACD,kDACM,WAAa,CAClB,AACD,mCACI,YAAc,CACjB",file:"shipment-order-header.vue",sourcesContent:["\n.shipment-order-header {\n  width: 100%;\n  height: 100%;\n}\n.shipment-order-header span.required {\n    color: #e26829;\n    display: inline-block;\n}\n.shipment-order-header .content {\n    border: 1px solid #2b2f3b;\n}\n.shipment-order-header .content .order-info {\n      width: 100%;\n      height: 460px;\n}\n.shipment-order-header .content .order-info .title {\n        height: 50px;\n        line-height: 50px;\n        padding-left: 40px;\n}\n.shipment-order-header .content .order-info .left {\n        float: left;\n        width: 100%;\n        height: 460px;\n        background: #353945;\n        -webkit-box-shadow: 0 -1px #2b2f3b;\n                box-shadow: 0 -1px #2b2f3b;\n}\n.shipment-order-header .content .order-info .left .item {\n          line-height: 60px;\n          overflow: hidden;\n          width: 49%;\n          height: 50px;\n          display: inline-block;\n}\n.shipment-order-header .content .order-info .left .item .label {\n            display: inline-block;\n            width: 110px;\n            margin-left: 15px;\n}\n.shipment-order-header .content .order-info .left .item .input {\n            margin-left: 10px;\n            width: 256px;\n            border-radius: 0 0 10px 10px;\n}\n.shipment-order-header .content .order-info .left .item .input-left {\n            margin-left: 10px;\n            width: 200px;\n}\n.shipment-order-header .content .order-info .left .item .input-right {\n            width: 200px;\n}\n.shipment-order-header .content .order-info .left .item .input-note {\n            margin-left: 10px;\n            width: 608px;\n}\n.shipment-order-header .content .parts-list {\n      text-align: right;\n      padding: 0 40px;\n      font-size: 12px;\n      overflow: hidden;\n      height: 50px;\n      line-height: 50px;\n      width: 100%;\n      -webkit-box-shadow: 0 -1px #2b2f3b;\n              box-shadow: 0 -1px #2b2f3b;\n}\n.shipment-order-header .content .parts-list .att-btn {\n        padding: 6px 9px;\n        min-width: 0;\n        margin: 11px auto;\n        display: block;\n}\n.shipment-order-header .content .parts-list .labelAdd {\n        margin-left: 14px;\n}\n.shipment-order-header .content .table-wrap {\n      width: 100%;\n      height: calc(100% - 392px);\n      -webkit-box-shadow: 0 -1px #2b2f3b;\n              box-shadow: 0 -1px #2b2f3b;\n      overflow-x: hidden;\n}\n.shipment-order-header .dialog .el-dialog--large {\n    width: 1100px;\n}\n.shipment-order-header .dialog .header .search-content {\n    width: 200px;\n    margin-right: 10px;\n}\n.shipment-order-header .dialog .header .search-btn {\n    position: absolute;\n    top: 15px;\n    left: 250px;\n    width: 30px;\n    height: 30px;\n}\n.shipment-order-header .footer {\n    width: 100%;\n    height: 60px;\n    line-height: 60px;\n    padding-left: 40px;\n    -webkit-box-shadow: 0 -1px #2b2f3b;\n            box-shadow: 0 -1px #2b2f3b;\n}\n.shipment-order-header .footer .footer-pagination {\n      float: right;\n}\n.shipment-order-header .pagination {\n    padding: 10px;\n}\n"],sourceRoot:""}])},2528:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(i(20)),r=o(i(248)),n=o(i(3)),s=o(i(90));function o(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){var e;return e={loading:!1,expectedDate:new Date,formData:{operation_user_id:"",shipment_type:"",from_type_code:"",order_no:"",warehouse_id:"",storer_id:"",department_id:"",customer_id:"",expected_date:"",orderMemo:"",receiver_name:"",country_code:"+86",province:"",city:"",district:"",zipCode:"",address:"",mobile:"",telephone:"",email:"",remark:"",description:""},warehouseList:[],departmentList:[],areaCodeList:[],shipmentType:[{id:0,name:"Sales out of stock"},{id:1,name:"After sale"}],orderId:0,customerList:[],isActive:!1,sourceType:[{id:0,value:"Purchase"},{id:1,value:"Sale"},{id:2,value:"Show"},{id:3,value:"other"}],tableHead:["Item Name","BF Art Nr","Specification","Quantity","Operation"],itemHeadData:["Image","Name","Part No.","Firmware"],queryItemList:[],orderItems:[],selectItems:[]},(0,r.default)(e,"orderId",0),(0,r.default)(e,"isActive",!1),(0,r.default)(e,"queryItemCondition",""),(0,r.default)(e,"allChecked",!1),(0,r.default)(e,"currentPage",1),(0,r.default)(e,"total",0),(0,r.default)(e,"dialogCreateVisible",!1),(0,r.default)(e,"dialogSelectCategoryVisible",!1),(0,r.default)(e,"categoryList",[]),(0,r.default)(e,"defaultProps",{id:"id",children:"child",label:"name"}),(0,r.default)(e,"selectCategoryItem",{id:"",name:""}),(0,r.default)(e,"deleteStatus",!1),(0,r.default)(e,"timer",""),(0,r.default)(e,"orderNo",!1),e},i18n:{messages:{}},computed:{allSelectedForAdd:{get:function(){return this.selectItems.reduce(function(e,t){return e&&t.selected},!0)},set:function(e){this.selectItems.forEach(function(t){t.selected=e})}},allSelectedForDelete:{get:function(){return this.orderItems.reduce(function(e,t){return e&&t.selected},!0)},set:function(e){this.orderItems.forEach(function(t){t.selected=e})}}},mounted:function(){var e=this,t=this;t.areaCodeList=s.default.init(),this.orderId=this.$route.query.orderId,this.orderId?(this.loading=!0,this.orderNo=!0,this.getShipment(this.orderId).then(function(e){if(-2===e.code)throw e.message;return t.formData=JSON.parse((0,a.default)(e)),t.expectedDate=n.default.Util.changeDateForm(1e3*e.expected_date),t.loading=!1,t.filterShipmentDetail({shipment_id:t.orderId})}).then(function(e){t.loading=!1,t.orderItems=e.content.map(function(e){return e.selected=!1,e.item_part_no=e.item_code,e})}).then(function(){return t.getShipmentStatus(e.orderId)}).then(function(e){"Created"===e.status_name?(t.isActive=!0,t.deleteStatus=!1):(t.isActive=!1,t.deleteStatus=!0),t.loading=!1}).catch(function(e){t.$message({message:e,type:"error"}),t.loading=!1})):t.isActive=!0,this.loading=!0,this.getAllCustomer().then(function(t){if(-2===t.code)throw t.message;e.customerList=t,e.loading=!1}).catch(function(t){e.$message({message:t,type:"error"}),e.dialogVisible=!0,e.loading=!1}),t.loading=!0,this.getAllDepartment().then(function(e){if(-2===e.code)throw e.message;t.loading=!1,t.departmentList=e}).catch(function(e){t.$message({message:e,type:"error"}),t.loading=!1}),t.loading=!0,this.getAllWarehouse().then(function(e){if(-2===e.code)throw e.message;t.loading=!1,t.warehouseList=e}).catch(function(e){t.$message({message:e,type:"error"}),t.loading=!1}),t.getAllCategory()},methods:{goAfterIndex:function(){this.$router.push({name:"shipmentOrderList"})},statusErrorTip:function(e){var t="";if(""!=e&&void 0!=e){switch(e){case 0:t="Please approve";break;case 2:t="Invoice was created";break;case 3:t="This order was finished";break;case 4:t="This order was canceled";break;case 5:t="Out of stock"}this.$message({message:t,type:"warning"})}},getOrderNo:function(){var e=this;this.formData.order_no&&(this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){var t=e;t.loading=!0,t.orderItems=[],t.filterDelivery(t.formData.order_no).then(function(i){if(t.loading=!1,void 0!=i.content[0])return 1===i.content[0].status?(e.formData.customer_id=i.content[0].company_id,t.filterDeliveryPIDetails(i.content[0].id)):(e.statusErrorTip(i.content[0].status),void(t.formData.order_no=""));t.$message({message:"Cannot find Order Info.",type:"error"})}).then(function(e){t.loading=!1,e&&(t.orderItems=e.map(function(e){return e.selected=!1,e.item_part_no=e.bf_art_no,e.item_name=e.model_name,delete e.create_user_id,delete e.create_time,delete e.id,delete e.update_user_id,delete e.update_time,e}))}).then(function(e){}).catch(function(e){t.$message({message:e,type:"error"}),t.loading=!1})},1e3))},createOrder:function(){var e=this,t=this;this.checkParams()&&(this.loading=!0,this.formData.expected_date=n.default.Util.parseDate(this.expectedDate)||0,this.formData.operation_user_id=n.default.Data.getUser()?n.default.Data.getUser().id:"",this.postShipment(this.formData).then(function(e){if(-2===e.code)throw e.message;t.formData=JSON.parse((0,a.default)(e)),t.expectedDate=n.default.Util.changeDateForm(1e3*e.expected_date),t.$router.push({name:"shipmentOrderHeader",query:{orderId:e.id}}),t.orderId=e.id}).then(function(){var i=t.orderItems.map(function(t){return t.item_code=t.item_part_no,t.shipment_id=e.orderId,t});return e.postShipmentDetail(i)}).then(function(i){t.loading=!1,t.$message({message:"Save Successfully",type:"success"}),e.$router.go(-1)}).catch(function(e){t.$message({message:e,type:"error"}),t.loading=!1}))},checkParams:function(){return""===this.formData.order_no?(this.$message({message:"Please add Order No.",type:"warning"}),!1):""===this.formData.customer_id?(this.$message({message:"Please add Customer",type:"warning"}),!1):!!this.orderItems.length||(this.$message({message:"Please add item",type:"warning"}),!1)},handleItemChange:function(e){if(this.isActive&&0!==this.customerList.length){var t=this.customerList.find(function(t){return t.id===e});t?(this.formData.orderMemo=t.order_memo,this.formData.receiver_name=t.receiver_name,this.formData.country_code=t.country_code,this.formData.province=t.province,this.formData.city=t.city,this.formData.district=t.district,this.formData.zipCode=t.postcode,this.formData.address=t.address,this.formData.mobile=t.mobile,this.formData.telephone=t.telephone,this.formData.email=t.email,this.formData.remark=t.remark):this.initCustomeInfo()}},initCustomeInfo:function(){this.formData.orderMemo="",this.formData.receiver_name="",this.formData.country_code="",this.formData.province="",this.formData.city="",this.formData.district="",this.formData.zipCode="",this.formData.address="",this.formData.mobile="",this.formData.telephone="",this.formData.email="",this.formData.remark=""},getAllCustomer:function(){return n.default.Api.request({method:"GET",url:"/nl/nlPublic/company/all"})},getAllDepartment:function(){return n.default.Api.request({method:"GET",url:"/nl/public/department/all"})},getAllWarehouse:function(){return n.default.Api.request({method:"GET",url:"/nl/warehouse/all"})},getShipment:function(e){return n.default.Api.request({method:"get",url:"/nl/order/shipment/"+e})},postShipment:function(e){return n.default.Api.request({method:"post",url:"/nl/order/shipment",data:e})},getShipmentStatus:function(e){return n.default.Api.request({method:"get",url:"/nl/order/shipment/"+e+"/status"})},filterShipmentDetail:function(e){return n.default.Api.request({method:"post",url:"/nl/order/shipment/detail/filter",data:e,params:{page:1,size:999}})},postShipmentDetail:function(e){return n.default.Api.request({method:"post",url:"/nl/order/shipment/detail/bulk",data:e})},filterDelivery:function(e){return n.default.Api.request({method:"post",url:"/nl/sales/delivery/filter",data:{delivery_order_no:e}})},filterDeliveryPIDetails:function(e){return n.default.Api.request({method:"GET",url:"/nl/sales/delivery/"+e+"/pi/detail",params:{page:1,size:999}})},deleteShipmentDetail:function(e){return n.default.Api.request({method:"delete",url:"/nl/order/shipment/detail/"+e})},getAllCategory:function(){var e=this;this.loading=!0,n.default.Api.Category.getAllCategoryListOfBafang(n.default.Const.COMPONENT_ROOT_CATEGORY).then(function(t){e.categoryList=t.category_list,e.loading=!1})},deleteItem:function(e,t){var i=this;e.id?(i.loading=!0,i.deleteShipmentDetail(e.id).then(function(e){i.$message({message:"Delete Successfully",type:"success"}),i.loading=!1,i.orderItems.splice(t,1)},function(e){i.loading=!1})):i.orderItems.splice(t,1)},addItems:function(){var e=this;this.selectItems.forEach(function(t,i){if(!0===t.selected){var a=!1;if(e.orderItems.forEach(function(e){e.item_id===t.id&&(a=!0)}),!a){var r=e.selectItems[i];e.orderItems.push({item_id:r.id,category_root_id:r.category_root_id,category_id:r.category_id,item_name:r.name,item_part_no:r.ext_part_no,quantity:1,selected:!1})}}}),this.closeChooseItem()},closeChooseItem:function(){this.selectItems=[],this.queryItemList=[],this.queryItemCondition="",this.dialogCreateVisible=!1},queryOrderItem:function(){var e=this,t=n.default.Data.getOrg(),i=this.queryItemCondition.trim();null!==t&&n.default.Api.Item.queryOrderItem(25,this.selectCategoryItem.id,"",i,this.currentPage).then(function(t){e.queryItemList=t.query,e.total=t.count,!e.queryItemList.length>0?e.$message({message:"There are no matching data",type:"warning"}):(e.selectItems=[],e.queryItemList.forEach(function(t,i){var a={selected:!0,key:i,name:t.name,img:t.img,ext_part_no:t.ext_part_no,id:t.id,category_root_id:t.category_root_id,category_id:t.category_id};e.selectItems.push(a)}))})},clearCondition:function(){this.selectItems=[],this.queryItemList=[],this.queryItemCondition="",this.selectCategoryItem="",this.total=0,this.currentPage=1},deleteOrderItem:function(){var e=this,t=[];this.orderItems.forEach(function(e,i){!0===e.selected&&t.unshift({item:e,index:i})}),t.forEach(function(t){t.item.id?(e.loading=!0,e.deleteShipmentDetail(t.item.id).then(function(t){e.$message({message:"Delete Successfully",type:"success"}),e.loading=!1},function(t){e.loading=!1}),e.orderItems.splice(t.index,1)):e.orderItems.splice(t.index,1)})},selectCategory:function(){this.dialogSelectCategoryVisible=!0},handleNodeClick:function(e){e.hasOwnProperty("child")&&(e.child.length<=0&&(this.selectCategoryItem=e,this.dialogSelectCategoryVisible=!1))},handleCurrentPageChange:function(e){this.currentPage=e,this.queryOrderItem()},createAllocate:function(){this.$router.push({name:"shipmentAllocate",query:{orderId:this.orderId}})}}}},2529:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"shipment-order-header"},[i("div",{staticClass:"header"},[i("div",{staticClass:"btn-group-inline"},[i("div",{staticClass:"icons"},[i("div",{staticClass:"icon-item back",attrs:{title:"back"},on:{click:e.goAfterIndex}})])]),e._v(" "),i("label",{staticClass:"title"},[e._v(e._s(e.orderId?"Edit Shipment Order Customer Info":"Add Shipment Order Customer Info"))])]),e._v(" "),i("div",{staticClass:"content-wrap"},[i("div",{directives:[{name:"loading",rawName:"v-loading.body",value:e.loading,expression:"loading",modifiers:{body:!0}}],staticClass:"content"},[i("div",{staticClass:"order-info"},[i("label",{staticClass:"title"},[e._v("Customer Info")]),e._v(" "),i("div",{staticClass:"left"},[i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[e._v("Shipment Order")]),e._v(" "),i("el-input",{staticClass:"input",attrs:{disabled:""},model:{value:e.formData.shipment_order_no,callback:function(t){e.$set(e.formData,"shipment_order_no",t)},expression:"formData.shipment_order_no"}})],1),e._v(" "),i("div",{staticClass:"item"},[e._m(0),e._v(" "),i("el-input",{staticClass:"input input-sn",attrs:{disabled:e.orderNo},on:{change:e.getOrderNo},model:{value:e.formData.order_no,callback:function(t){e.$set(e.formData,"order_no",t)},expression:"formData.order_no"}})],1),e._v(" "),i("div",{staticClass:"item"},[e._m(1),e._v(" "),i("el-select",{staticClass:"input",attrs:{slot:"prepend",filterable:""},on:{change:e.handleItemChange},slot:"prepend",model:{value:e.formData.customer_id,callback:function(t){e.$set(e.formData,"customer_id",t)},expression:"formData.customer_id"}},e._l(e.customerList,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[e._v("Expected Date")]),e._v(" "),i("el-date-picker",{staticClass:"input",attrs:{type:"date",placeholder:"Expected Date"},model:{value:e.expectedDate,callback:function(t){e.expectedDate=t},expression:"expectedDate"}})],1),e._v(" "),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[e._v("Order Memo")]),e._v(" "),i("el-input",{staticClass:"input",attrs:{disabled:""},model:{value:e.formData.orderMemo,callback:function(t){e.$set(e.formData,"orderMemo",t)},expression:"formData.orderMemo"}})],1),e._v(" "),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[e._v("Receiver Name")]),e._v(" "),i("el-input",{staticClass:"input",attrs:{disabled:""},model:{value:e.formData.receiver_name,callback:function(t){e.$set(e.formData,"receiver_name",t)},expression:"formData.receiver_name"}})],1),e._v(" "),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[e._v("Province")]),e._v(" "),i("el-input",{staticClass:"input",attrs:{disabled:""},model:{value:e.formData.province,callback:function(t){e.$set(e.formData,"province",t)},expression:"formData.province"}})],1),e._v(" "),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[e._v("City")]),e._v(" "),i("el-input",{staticClass:"input",attrs:{disabled:""},model:{value:e.formData.city,callback:function(t){e.$set(e.formData,"city",t)},expression:"formData.city"}})],1),e._v(" "),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[e._v("District")]),e._v(" "),i("el-input",{staticClass:"input",attrs:{disabled:""},model:{value:e.formData.district,callback:function(t){e.$set(e.formData,"district",t)},expression:"formData.district"}})],1),e._v(" "),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[e._v("Zip Code")]),e._v(" "),i("el-input",{staticClass:"input",attrs:{disabled:""},model:{value:e.formData.zipCode,callback:function(t){e.$set(e.formData,"zipCode",t)},expression:"formData.zipCode"}})],1),e._v(" "),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[e._v("Address")]),e._v(" "),i("el-input",{staticClass:"input",attrs:{disabled:""},model:{value:e.formData.address,callback:function(t){e.$set(e.formData,"address",t)},expression:"formData.address"}})],1),e._v(" "),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[e._v("Mobile")]),e._v(" "),i("el-input",{staticClass:"input",attrs:{disabled:""},model:{value:e.formData.mobile,callback:function(t){e.$set(e.formData,"mobile",t)},expression:"formData.mobile"}},[i("el-select",{attrs:{slot:"prepend",filterable:""},slot:"prepend",model:{value:e.formData.country_code,callback:function(t){e.$set(e.formData,"country_code",t)},expression:"formData.country_code"}},e._l(e.areaCodeList,function(e){return i("el-option",{key:e.area_code,attrs:{label:e.area_code,value:e.area_code}})}),1)],1)],1),e._v(" "),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[e._v("Telephone")]),e._v(" "),i("el-input",{staticClass:"input",attrs:{disabled:""},model:{value:e.formData.telephone,callback:function(t){e.$set(e.formData,"telephone",t)},expression:"formData.telephone"}})],1),e._v(" "),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[e._v("Email")]),e._v(" "),i("el-input",{staticClass:"input",attrs:{disabled:""},model:{value:e.formData.email,callback:function(t){e.$set(e.formData,"email",t)},expression:"formData.email"}})],1),e._v(" "),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[e._v("Description")]),e._v(" "),i("el-input",{staticClass:"input",model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})],1)])]),e._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading.body",value:e.loading,expression:"loading",modifiers:{body:!0}}],staticClass:"table-wrap"},[i("table",{staticClass:"table-content",attrs:{border:"0",cellspacing:"0",cellpadding:"0"}},[i("thead",[e.isActive?i("td",[i("el-checkbox",{model:{value:e.allSelectedForDelete,callback:function(t){e.allSelectedForDelete=t},expression:"allSelectedForDelete"}})],1):e._e(),e._v(" "),e._l(e.tableHead,function(t){return i("td",[e._v(e._s(t))])})],2),e._v(" "),i("tbody",e._l(e.orderItems,function(t,a){return i("tr",[e.isActive?i("td",[i("el-checkbox",{staticClass:"table-checkbox",model:{value:t.selected,callback:function(i){e.$set(t,"selected",i)},expression:"item.selected"}})],1):e._e(),e._v(" "),i("td",[e._v(e._s(e._f("categoryRoot")(t.category_root_id)))]),e._v(" "),i("td",[e._v(e._s(t.item_part_no))]),e._v(" "),i("td",[e._v(e._s(t.item_name))]),e._v(" "),e.isActive?i("td",[i("el-input-number",{staticClass:"input-number",attrs:{min:1},model:{value:t.quantity,callback:function(i){e.$set(t,"quantity",i)},expression:"item.quantity"}})],1):i("td",[e._v(e._s(t.quantity))]),e._v(" "),i("td",[i("button",{staticClass:"btn-underline",attrs:{disabled:e.deleteStatus},on:{click:function(i){return i.stopPropagation(),e.deleteItem(t,a)}}},[e._v(e._s(e.$t("delete")))])])])}),0)])]),e._v(" "),e.isActive?i("div",{staticClass:"parts-list"},[i("el-button",{staticClass:"att-btn",attrs:{type:"primary"},on:{click:function(t){e.dialogCreateVisible=!0}}},[e._v("+")])],1):e._e(),e._v(" "),i("div",{staticClass:"parts-list"},[e.isActive?i("el-button",{attrs:{type:"primary"},on:{click:e.createOrder}},[e._v("SAVE")]):e._e(),e._v(" "),e.orderItems.length>0&&!e.isActive?i("el-button",{attrs:{type:"primary"},on:{click:e.createAllocate}},[e._v("Allocate")]):e._e()],1),e._v(" "),i("el-dialog",{staticClass:"dialog",attrs:{title:e.$t("addItem"),visible:e.dialogCreateVisible,size:"large",top:"10%"},on:{"update:visible":function(t){e.dialogCreateVisible=t}}},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[i("el-input",{staticClass:"search-content",attrs:{placeholder:e.$t("category"),disabled:!0},nativeOn:{click:function(t){return e.selectCategory.apply(null,arguments)}},model:{value:e.selectCategoryItem.name,callback:function(t){e.$set(e.selectCategoryItem,"name",t)},expression:"selectCategoryItem.name"}}),e._v(" "),i("el-input",{staticClass:"search-content",attrs:{placeholder:e.$t("modelNamePN")},model:{value:e.queryItemCondition,callback:function(t){e.queryItemCondition=t},expression:"queryItemCondition"}}),e._v(" "),i("div",{staticClass:"btn-group-inline"},[i("div",{staticClass:"icons"},[i("div",{staticClass:"icon-item search",attrs:{title:e.$t("search")},on:{click:e.queryOrderItem}}),e._v(" "),i("div",{staticClass:"icon-item clear",attrs:{title:e.$t("clear")},on:{click:e.clearCondition}})])])],1),e._v(" "),i("div",{staticClass:"table-wrap"},[i("table",{staticClass:"table-content",attrs:{border:"0",cellspacing:"0",cellpadding:"0"}},[i("thead",[i("td",[i("el-checkbox",{model:{value:e.allSelectedForAdd,callback:function(t){e.allSelectedForAdd=t},expression:"allSelectedForAdd"}})],1),e._v(" "),e._l(e.itemHeadData,function(t){return i("td",[e._v(e._s(t))])})],2),e._v(" "),i("tbody",e._l(e.selectItems,function(t,a){return i("tr",[i("td",[i("el-checkbox",{staticClass:"table-checkbox",model:{value:t.selected,callback:function(i){e.$set(t,"selected",i)},expression:"item.selected"}})],1),e._v(" "),i("td",[i("img",{attrs:{src:e._f("getImgUrl")(t.img)}})]),e._v(" "),i("td",[e._v(e._s(t.name))]),e._v(" "),i("td",[e._v(e._s(t.ext_part_no))]),e._v(" "),i("td",[e._v(e._s(a+1)+".bin")])])}),0)]),e._v(" "),i("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.currentPage,"page-size":10,layout:"prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentPageChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})],1),e._v(" "),i("div",{staticClass:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:e.addItems}},[e._v(e._s(e.$t("addItems")))])],1)])])],1)]),e._v(" "),i("el-dialog",{staticClass:"dialog",attrs:{title:e.$t("selectCategory"),visible:e.dialogSelectCategoryVisible,size:"large"},on:{"update:visible":function(t){e.dialogSelectCategoryVisible=t}}},[i("div",{staticClass:"content",staticStyle:{"max-height":"500px",overflow:"auto"}},[i("div",{staticClass:"category-tree"},[i("el-tree",{attrs:{data:e.categoryList,props:e.defaultProps},on:{"node-click":e.handleNodeClick}})],1)])])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("label",{staticClass:"label"},[this._v("\n                            Order No.\n                            "),t("span",{staticClass:"required"},[this._v("*")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",{staticClass:"label"},[this._v("\n                            Customer\n                            "),t("span",{staticClass:"required"},[this._v("*")])])}]}}});
//# sourceMappingURL=57.d3ba9cee4d92cd6bb514.js.map