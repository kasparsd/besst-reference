webpackJsonp([20],{2347:function(t,e,i){var a=i(2)(i(2711),i(2712),function(t){i(2709)},null,null);t.exports=a.exports},2365:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,n=r(i(194)),o=r(i(195)),l=(a=(0,o.default)(n.default.mark(function t(){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.default.HttpHelp.request({method:"GET",url:"/NlWarehouseArea/all"}));case 1:case"end":return t.stop()}},t,this)})),function(){return a.apply(this,arguments)}),s=r(i(3));function r(t){return t&&t.__esModule?t:{default:t}}var c={findAll:l,addOneArea:function(t){return s.default.HttpHelp.request({method:"POST",url:"/NlWarehouseArea",data:t})},deleteOneArea:function(t){return s.default.HttpHelp.request({method:"DELETE",url:"/NlWarehouseArea/"+t})},areaFilter:function(t,e,i){return s.default.HttpHelp.request({method:"POST",url:"/NlWarehouseArea/filter",data:t,params:{page:e||0,size:i||10}})}};e.default=c},2366:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,n=i(3),o=(a=n)&&a.__esModule?a:{default:a};var l={findAll:function(){return o.default.HttpHelp.request({method:"GET",url:"/NlWarehouse/findAll"})},addOneWarehouse:function(t){return o.default.HttpHelp.request({method:"POST",url:"/NlWarehouse",data:t})},deleteOneWarehouse:function(t){return o.default.HttpHelp.request({method:"DELETE",url:"/NlWarehouse/"+t})},listFilter:function(t,e,i){return o.default.HttpHelp.request({method:"POST",url:"/NlWarehouse/filter",data:t,params:{page:e||0,size:i||10}})},sSwitch:function(t){return o.default.HttpHelp.request({method:"get",url:"/NlWarehouse/"+t+"/sswitch"})}};e.default=l},2373:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,n=i(3),o=(a=n)&&a.__esModule?a:{default:a};var l={findAll:function(){return o.default.HttpHelp.request({method:"GET",url:"/NlWarehouseLocation/all"})},addOneLocation:function(t){return o.default.HttpHelp.request({method:"POST",url:"/NlWarehouseLocation",data:t})},deleteOneLocation:function(t){return o.default.HttpHelp.request({method:"DELETE",url:"/NlWarehouseLocation/"+t})},locationFilter:function(t,e,i){return o.default.HttpHelp.request({method:"POST",url:"/NlWarehouseLocation/filter",data:t,params:{page:e||0,size:i||10}})}};e.default=l},2709:function(t,e,i){var a=i(2710);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(2279)("c4c39730",a,!0,{})},2710:function(t,e,i){(t.exports=i(2278)(!0)).push([t.i,".location-index{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%}.location-index .list-form-inline{height:100%;line-height:50px;width:calc(100% - 130px)}.location-index .list-form-inline .el-form-item{margin-right:2px!important;margin-bottom:0}.location-index .list-form-inline .el-form-item__label{color:#fff;width:100px;text-align:left;margin-left:5px}.location-index .list-form-inline .el-form-item__content{width:180px!important}.location-index .dialog-region .el-dialog__body{padding:30px 67px}.location-index .dialog-region .item{margin:20px 0;font-size:0;height:30px}.location-index .dialog-region .item .item-box{line-height:30px}.location-index .dialog-region .item .label{display:inline-block;width:120px;height:30px;vertical-align:middle}.location-index .dialog-region .item .label span{color:#e26829;display:inline-block}.location-index .dialog-region .item .input{margin-left:40px;width:260px}.location-index .dialog-region .item .input i{color:#ffffff99}","",{version:3,sources:["/Users/bys/工作/Bafang/BESST/besst-client/src/views/nl-view/warehouse/location.vue"],names:[],mappings:"AACA,gBACE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,4BAA6B,AAC7B,6BAA8B,AAC1B,0BAA2B,AACvB,sBAAuB,AAC/B,WAAY,AACZ,WAAa,CACd,AACD,kCACI,YAAa,AACb,iBAAkB,AAClB,wBAA0B,CAC7B,AACD,gDACM,2BAA6B,AAC7B,eAAiB,CACtB,AACD,uDACM,WAAY,AACZ,YAAa,AACb,gBAAiB,AACjB,eAAiB,CACtB,AACD,yDACM,qBAAwB,CAC7B,AACD,gDACI,iBAAmB,CACtB,AACD,qCACI,cAAe,AACf,YAAa,AACb,WAAa,CAChB,AACD,+CACM,gBAAkB,CACvB,AACD,4CACM,qBAAsB,AACtB,YAAa,AACb,YAAa,AACb,qBAAuB,CAC5B,AACD,iDACQ,cAAe,AACf,oBAAsB,CAC7B,AACD,4CACM,iBAAkB,AAClB,WAAa,CAClB,AACD,8CACQ,eAAiB,CACxB",file:"location.vue",sourcesContent:["\n.location-index {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  width: 100%;\n  height: 100%;\n}\n.location-index .list-form-inline {\n    height: 100%;\n    line-height: 50px;\n    width: calc(100% - 130px);\n}\n.location-index .list-form-inline .el-form-item {\n      margin-right: 2px !important;\n      margin-bottom: 0;\n}\n.location-index .list-form-inline .el-form-item__label {\n      color: #fff;\n      width: 100px;\n      text-align: left;\n      margin-left: 5px;\n}\n.location-index .list-form-inline .el-form-item__content {\n      width: 180px !important;\n}\n.location-index .dialog-region .el-dialog__body {\n    padding: 30px 67px;\n}\n.location-index .dialog-region .item {\n    margin: 20px 0;\n    font-size: 0;\n    height: 30px;\n}\n.location-index .dialog-region .item .item-box {\n      line-height: 30px;\n}\n.location-index .dialog-region .item .label {\n      display: inline-block;\n      width: 120px;\n      height: 30px;\n      vertical-align: middle;\n}\n.location-index .dialog-region .item .label span {\n        color: #e26829;\n        display: inline-block;\n}\n.location-index .dialog-region .item .input {\n      margin-left: 40px;\n      width: 260px;\n}\n.location-index .dialog-region .item .input i {\n        color: #ffffff99;\n}\n"],sourceRoot:""}])},2711:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=l(i(2366)),n=l(i(2373)),o=l(i(2365));function l(t){return t&&t.__esModule?t:{default:t}}e.default={computed:{getArea:function(){var t=this;if(this.locationData&&this.locationData.warehouse_id)return this.areaList.filter(function(e){return e.warehouse_id===t.locationData.warehouse_id})}},data:function(){return{loading:!1,headData:["Area Code","Location Code","Location Address","Operation"],tableList:[],search_value:void 0,currentPage:1,total:0,areaList:[],dialogTitle:"",dialogAddVisible:!1,locationData:{},warehouseList:[]}},created:function(){var t=this;this.loading=!0,a.default.findAll().then(function(e){t.warehouseList=e.data,t.loading=!1}),this.loading=!0,o.default.findAll().then(function(e){t.areaList=e.data,t.loading=!1})},mounted:function(){this.getData()},methods:{selectArea:function(t){var e=this.areaList.find(function(e){return e.id===t});e&&(this.locationData.area_code=e.area_code)},goSearch:function(){this.getData()},onClean:function(){this.search_value=void 0,this.getData()},addLocation:function(){this.locationData={location_code:"",location_name:"",location_address:"",area_id:""},this.dialogTitle="Add Location",this.dialogAddVisible=!0},onEdit:function(t){this.locationData=t,this.dialogTitle="Edit Location",this.dialogAddVisible=!0},onDelete:function(t){var e=this;this.$confirm("Are you sure you wish to delete this?","Delete",{confirmButtonText:"Yes",cancelButtonText:"No",type:"warning"}).then(function(){e.deleteOneLocation(t)}).catch(function(){})},dialogConfirm:function(){var t=this;if(this.required()){this.loading=!0;var e=this.locationData;n.default.addOneLocation(e).then(function(e){if(-2===e.code)throw e.message;t.$message({message:"Successfully",type:"success"}),t.getData(),t.dialogAddVisible=!1,t.loading=!1}).catch(function(e){t.$message({message:e.body.error,type:"error"}),t.dialogAddVisible=!1,t.loading=!1})}},dialogCancel:function(){this.dialogAddVisible=!1},required:function(){return""===this.locationData.location_code?(this.$message({message:"Please input Location Code !",type:"warning"}),!1):""===this.locationData.location_address?(this.$message({message:"Please input Location Address !",type:"warning"}),!1):""!==this.locationData.area_id||(this.$message({message:"Please select Area Code!",type:"warning"}),!1)},handleCurrentChange:function(t){this.currentPage=t,this.getData()},deleteOneLocation:function(t){var e=this;this.loading=!0,n.default.deleteOneLocation(t.id).then(function(t){e.$message({type:"success",message:"Delete Success!"}),e.getData(),e.loading=!1}).catch(function(t){e.$message({message:t.body.error,type:"error"}),e.loading=!1})},getData:function(){var t=this;this.loading=!0,n.default.locationFilter({location_code:this.search_value},this.currentPage).then(function(e){t.tableList=e.data.content,t.total=e.data.numberOfElements,t.loading=!1}).catch(function(e){t.loading=!1})}}}},2712:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"location-index"},[i("div",{staticClass:"search-header"},[i("el-form",{staticClass:"list-form-inline",attrs:{inline:!0}},[i("el-form-item",[i("el-input",{attrs:{placeholder:"Location Code"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.goSearch.apply(null,arguments)}},model:{value:t.search_value,callback:function(e){t.search_value="string"==typeof e?e.trim():e},expression:"search_value"}})],1),t._v(" "),i("div",{staticClass:"btn-group-inline-icon"},[i("div",{staticClass:"icons"},[i("span",{staticClass:"icon-item search",attrs:{title:"search"},on:{click:t.goSearch}}),t._v(" "),i("div",{staticClass:"icon-item clear",attrs:{title:"clear"},on:{click:t.onClean}})])])],1),t._v(" "),i("div",{staticClass:"btn-group-top"},[i("div",{staticClass:"icons",on:{click:function(e){return t.addLocation()}}},[t._m(0)])])],1),t._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading.body",value:t.loading,expression:"loading",modifiers:{body:!0}}],staticClass:"table-wrap",attrs:{"element-loading-text":"loading..."}},[i("div",{staticClass:"table-content-holder"},[t.tableList.length<=0&&!t.loading?i("div",{staticClass:"no-data-content"},[t._v("noResult")]):i("table",{staticClass:"table-content",attrs:{border:"0",cellspacing:"0",cellpadding:"0"}},[i("thead",t._l(t.headData,function(e,a){return i("td",{key:a},[t._v(t._s(e))])}),0),t._v(" "),i("tbody",t._l(t.tableList,function(e){return i("tr",{key:e.id},[i("td",[t._v(t._s(e.area_code))]),t._v(" "),i("td",[t._v(t._s(e.location_code))]),t._v(" "),i("td",[t._v(t._s(e.location_address))]),t._v(" "),i("td",[i("button",{staticClass:"btn-underline",on:{click:function(i){return i.stopPropagation(),t.onEdit(e)}}},[t._v("edit")]),t._v(" "),i("button",{staticClass:"btn-underline",on:{click:function(i){return i.stopPropagation(),t.onDelete(e)}}},[t._v("delete")])])])}),0)])]),t._v(" "),i("div",{staticClass:"table-footer"},[i("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":10,layout:"prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}}),t._v(" "),i("p",{staticClass:"total"},[t._v("total: "+t._s(t.total))])],1)]),t._v(" "),i("el-dialog",{staticClass:"dialog-region",attrs:{title:t.dialogTitle,visible:t.dialogAddVisible},on:{"update:title":function(e){t.dialogTitle=e},"update:visible":function(e){t.dialogAddVisible=e}}},[i("div",{staticClass:"item"},[i("div",{staticClass:"item-box"},[i("label",{staticClass:"label"},[t._v("\n          Warehouse\n          "),i("span",{staticClass:"required"},[t._v("*")])]),t._v(" "),i("el-select",{staticClass:"input",attrs:{slot:"prepend",filterable:""},slot:"prepend",model:{value:t.locationData.warehouse_id,callback:function(e){t.$set(t.locationData,"warehouse_id",e)},expression:"locationData.warehouse_id"}},t._l(t.warehouseList,function(t){return i("el-option",{key:t.id,attrs:{label:t.warehouse_name,value:t.id}})}),1)],1)]),t._v(" "),i("div",{staticClass:"item"},[i("div",{staticClass:"item-box"},[i("label",{staticClass:"label"},[t._v("\n          Area Code\n          "),i("span",{staticClass:"required"},[t._v("*")])]),t._v(" "),i("el-select",{staticClass:"input",attrs:{slot:"prepend",filterable:""},on:{change:t.selectArea},slot:"prepend",model:{value:t.locationData.area_id,callback:function(e){t.$set(t.locationData,"area_id",e)},expression:"locationData.area_id"}},t._l(t.getArea,function(t){return i("el-option",{key:t.id,attrs:{label:"【"+t.area_code+"】-"+t.warehouse_name,value:t.id}})}),1)],1)]),t._v(" "),i("div",{staticClass:"item"},[i("div",{staticClass:"item-box"},[i("label",{staticClass:"label"},[t._v("\n          Location Code\n          "),i("span",{staticClass:"required"},[t._v("*")])]),t._v(" "),i("el-input",{staticClass:"input",model:{value:t.locationData.location_code,callback:function(e){t.$set(t.locationData,"location_code",e)},expression:"locationData.location_code"}})],1)]),t._v(" "),i("div",{staticClass:"item"},[i("div",{staticClass:"item-box"},[i("label",{staticClass:"label"},[t._v("\n          Location Address\n          "),i("span",{staticClass:"required"},[t._v("*")])]),t._v(" "),i("el-input",{staticClass:"input",model:{value:t.locationData.location_address,callback:function(e){t.$set(t.locationData,"location_address",e)},expression:"locationData.location_address"}})],1)]),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"preview"},on:{click:t.dialogConfirm}},[t._v("confirm")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.dialogCancel}},[t._v("cancel")])],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"el-button el-button--preview",attrs:{type:"button"}},[this._v("\n          Add\n          "),e("i",{staticClass:"el-icon-plus btn-icon"})])}]}}});
//# sourceMappingURL=20.7e9c7fb7ea69948779c2.js.map