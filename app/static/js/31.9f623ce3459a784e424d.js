webpackJsonp([31],{2324:function(e,t,i){var n=i(2)(i(2613),i(2614),function(e){i(2611)},null,null);e.exports=n.exports},2370:function(e,t,i){"use strict";(function(t){var n=i(2371);
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function r(e,t){if(e===t)return 0;for(var i=e.length,n=t.length,r=0,a=Math.min(i,n);r<a;++r)if(e[r]!==t[r]){i=e[r],n=t[r];break}return i<n?-1:n<i?1:0}function a(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var o=i(769),s=Object.prototype.hasOwnProperty,l=Array.prototype.slice,d="foo"===function(){}.name;function c(e){return Object.prototype.toString.call(e)}function u(e){return!a(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var f=e.exports=g,A=/\s*function\s+([^\(\s]*)\s*/;function p(e){if(o.isFunction(e)){if(d)return e.name;var t=e.toString().match(A);return t&&t[1]}}function h(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function v(e){if(d||!o.isFunction(e))return o.inspect(e);var t=p(e);return"[Function"+(t?": "+t:"")+"]"}function m(e,t,i,n,r){throw new f.AssertionError({message:i,actual:e,expected:t,operator:n,stackStartFunction:r})}function g(e,t){e||m(e,!0,t,"==",f.ok)}function C(e,t,i,n){if(e===t)return!0;if(a(e)&&a(t))return 0===r(e,t);if(o.isDate(e)&&o.isDate(t))return e.getTime()===t.getTime();if(o.isRegExp(e)&&o.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(u(e)&&u(t)&&c(e)===c(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(a(e)!==a(t))return!1;var s=(n=n||{actual:[],expected:[]}).actual.indexOf(e);return-1!==s&&s===n.expected.indexOf(t)||(n.actual.push(e),n.expected.push(t),function(e,t,i,n){if(null===e||void 0===e||null===t||void 0===t)return!1;if(o.isPrimitive(e)||o.isPrimitive(t))return e===t;if(i&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var r=y(e),a=y(t);if(r&&!a||!r&&a)return!1;if(r)return e=l.call(e),t=l.call(t),C(e,t,i);var s,d,c=w(e),u=w(t);if(c.length!==u.length)return!1;for(c.sort(),u.sort(),d=c.length-1;d>=0;d--)if(c[d]!==u[d])return!1;for(d=c.length-1;d>=0;d--)if(s=c[d],!C(e[s],t[s],i,n))return!1;return!0}(e,t,i,n))}return i?e===t:e==t}function y(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function b(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function x(e,t,i,n){var r;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof i&&(n=i,i=null),r=function(e){var t;try{e()}catch(e){t=e}return t}(t),n=(i&&i.name?" ("+i.name+").":".")+(n?" "+n:"."),e&&!r&&m(r,i,"Missing expected exception"+n);var a="string"==typeof n,s=!e&&o.isError(r),l=!e&&r&&!i;if((s&&a&&b(r,i)||l)&&m(r,i,"Got unwanted exception"+n),e&&r&&i&&!b(r,i)||!e&&r)throw r}f.AssertionError=function(e){var t;this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=h(v((t=this).actual),128)+" "+t.operator+" "+h(v(t.expected),128),this.generatedMessage=!0);var i=e.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,i);else{var n=new Error;if(n.stack){var r=n.stack,a=p(i),o=r.indexOf("\n"+a);if(o>=0){var s=r.indexOf("\n",o+1);r=r.substring(s+1)}this.stack=r}}},o.inherits(f.AssertionError,Error),f.fail=m,f.ok=g,f.equal=function(e,t,i){e!=t&&m(e,t,i,"==",f.equal)},f.notEqual=function(e,t,i){e==t&&m(e,t,i,"!=",f.notEqual)},f.deepEqual=function(e,t,i){C(e,t,!1)||m(e,t,i,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(e,t,i){C(e,t,!0)||m(e,t,i,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(e,t,i){C(e,t,!1)&&m(e,t,i,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=function e(t,i,n){C(t,i,!0)&&m(t,i,n,"notDeepStrictEqual",e)},f.strictEqual=function(e,t,i){e!==t&&m(e,t,i,"===",f.strictEqual)},f.notStrictEqual=function(e,t,i){e===t&&m(e,t,i,"!==",f.notStrictEqual)},f.throws=function(e,t,i){x(!0,e,t,i)},f.doesNotThrow=function(e,t,i){x(!1,e,t,i)},f.ifError=function(e){if(e)throw e},f.strict=n(function e(t,i){t||m(t,!0,i,"==",e)},f,{equal:f.strictEqual,deepEqual:f.deepStrictEqual,notEqual:f.notStrictEqual,notDeepEqual:f.notDeepStrictEqual}),f.strict.strict=f.strict;var w=Object.keys||function(e){var t=[];for(var i in e)s.call(e,i)&&t.push(i);return t}}).call(t,i(54))},2371:function(e,t,i){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var i,o,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var d in i=Object(arguments[l]))r.call(i,d)&&(s[d]=i[d]);if(n){o=n(i);for(var c=0;c<o.length;c++)a.call(i,o[c])&&(s[o[c]]=i[o[c]])}}return s}},2611:function(e,t,i){var n=i(2612);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);i(2279)("520b34aa",n,!0,{})},2612:function(e,t,i){(e.exports=i(2278)(!0)).push([e.i,".delivery-list-header{width:100%;height:100%}.delivery-list-header span.required{color:#e26829;display:inline-block}.delivery-list-header .content{border:1px solid #2b2f3b;width:1080px}.delivery-list-header .content .order-info{width:100%;height:332px;border-bottom:1px solid #2b2f3b}.delivery-list-header .content .order-info .title{height:50px;line-height:50px;padding-left:40px}.delivery-list-header .content .order-info .left{float:left;width:100%;height:310px;background:#353945;-webkit-box-shadow:0 -1px #2b2f3b;box-shadow:0 -1px #2b2f3b}.delivery-list-header .content .order-info .left .row-textarea{overflow:hidden;width:82%;display:inline-block;margin-left:15px}.delivery-list-header .content .order-info .left .row-textarea .label{display:inline-block;line-height:40px}.delivery-list-header .content .order-info .left .item{line-height:60px;overflow:hidden;width:49%;height:50px;display:inline-block}.delivery-list-header .content .order-info .left .item .label{display:inline-block;width:125px;margin-left:15px}.delivery-list-header .content .order-info .left .item .input{margin-left:10px;width:256px;border-radius:0 0 10px 10px}.delivery-list-header .content .order-info .left .item .input-left{margin-left:10px;width:200px}.delivery-list-header .content .order-info .left .item .input-right{width:200px}.delivery-list-header .content .order-info .left .item .input-note{margin-left:10px;width:608px}.delivery-list-header .content .order-info-two{width:100%;height:111px}.delivery-list-header .content .order-info-two .title{height:50px;line-height:50px;padding-left:40px}.delivery-list-header .content .order-info-two .pi-left{float:left;width:100%;height:60px;background:#353945;-webkit-box-shadow:0 -1px #2b2f3b;box-shadow:0 -1px #2b2f3b;padding:16px;border-bottom:1px solid #2b2f3b}.delivery-list-header .content .order-info-two .pi-left .el-tag+.el-tag{margin-left:10px}.delivery-list-header .content .order-info-two .pi-left .button-new-tag{margin-left:6px}.delivery-list-header .content .parts-list{text-align:right;padding:0 40px;font-size:12px;overflow:hidden;height:50px;line-height:50px;width:100%;-webkit-box-shadow:0 -1px #2b2f3b;box-shadow:0 -1px #2b2f3b}.delivery-list-header .content .parts-list .att-btn{padding:6px 9px;min-width:0;margin:11px auto;display:block}.delivery-list-header .content .parts-list .att-total{display:inline-block;color:#e26829}.delivery-list-header .content .parts-list .labelAdd{margin-left:14px}.delivery-list-header .content .parts-list .cancel-button{margin-top:12px}","",{version:3,sources:["/Users/bys/工作/Bafang/BESST/besst-client/src/views/nl/sales/delivery-list-header.vue"],names:[],mappings:"AACA,sBACE,WAAY,AACZ,WAAa,CACd,AACD,oCACI,cAAe,AACf,oBAAsB,CACzB,AACD,+BACI,yBAA0B,AAC1B,YAAc,CACjB,AACD,2CACM,WAAY,AACZ,aAAc,AACd,+BAAiC,CACtC,AACD,kDACQ,YAAa,AACb,iBAAkB,AAClB,iBAAmB,CAC1B,AACD,iDACQ,WAAY,AACZ,WAAY,AACZ,aAAc,AACd,mBAAoB,AACpB,kCAAmC,AAC3B,yBAA2B,CAC1C,AACD,+DACU,gBAAiB,AACjB,UAAW,AACX,qBAAsB,AACtB,gBAAkB,CAC3B,AACD,sEACY,qBAAsB,AACtB,gBAAkB,CAC7B,AACD,uDACU,iBAAkB,AAClB,gBAAiB,AACjB,UAAW,AACX,YAAa,AACb,oBAAsB,CAC/B,AACD,8DACY,qBAAsB,AACtB,YAAa,AACb,gBAAkB,CAC7B,AACD,8DACY,iBAAkB,AAClB,YAAa,AACb,2BAA6B,CACxC,AACD,mEACY,iBAAkB,AAClB,WAAa,CACxB,AACD,oEACY,WAAa,CACxB,AACD,mEACY,iBAAkB,AAClB,WAAa,CACxB,AACD,+CACM,WAAY,AACZ,YAAc,CACnB,AACD,sDACQ,YAAa,AACb,iBAAkB,AAClB,iBAAmB,CAC1B,AACD,wDACQ,WAAY,AACZ,WAAY,AACZ,YAAa,AACb,mBAAoB,AACpB,kCAAmC,AAC3B,0BAA2B,AACnC,aAAc,AACd,+BAAiC,CACxC,AACD,wEACU,gBAAkB,CAC3B,AACD,wEACU,eAAiB,CAC1B,AACD,2CACM,iBAAkB,AAClB,eAAgB,AAChB,eAAgB,AAChB,gBAAiB,AACjB,YAAa,AACb,iBAAkB,AAClB,WAAY,AACZ,kCAAmC,AAC3B,yBAA2B,CACxC,AACD,oDACQ,gBAAiB,AACjB,YAAa,AACb,iBAAkB,AAClB,aAAe,CACtB,AACD,sDACQ,qBAAsB,AACtB,aAAe,CACtB,AACD,qDACQ,gBAAkB,CACzB,AACD,0DACQ,eAAiB,CACxB",file:"delivery-list-header.vue",sourcesContent:["\n.delivery-list-header {\n  width: 100%;\n  height: 100%;\n}\n.delivery-list-header span.required {\n    color: #e26829;\n    display: inline-block;\n}\n.delivery-list-header .content {\n    border: 1px solid #2b2f3b;\n    width: 1080px;\n}\n.delivery-list-header .content .order-info {\n      width: 100%;\n      height: 332px;\n      border-bottom: 1px solid #2b2f3b;\n}\n.delivery-list-header .content .order-info .title {\n        height: 50px;\n        line-height: 50px;\n        padding-left: 40px;\n}\n.delivery-list-header .content .order-info .left {\n        float: left;\n        width: 100%;\n        height: 310px;\n        background: #353945;\n        -webkit-box-shadow: 0 -1px #2b2f3b;\n                box-shadow: 0 -1px #2b2f3b;\n}\n.delivery-list-header .content .order-info .left .row-textarea {\n          overflow: hidden;\n          width: 82%;\n          display: inline-block;\n          margin-left: 15px;\n}\n.delivery-list-header .content .order-info .left .row-textarea .label {\n            display: inline-block;\n            line-height: 40px;\n}\n.delivery-list-header .content .order-info .left .item {\n          line-height: 60px;\n          overflow: hidden;\n          width: 49%;\n          height: 50px;\n          display: inline-block;\n}\n.delivery-list-header .content .order-info .left .item .label {\n            display: inline-block;\n            width: 125px;\n            margin-left: 15px;\n}\n.delivery-list-header .content .order-info .left .item .input {\n            margin-left: 10px;\n            width: 256px;\n            border-radius: 0 0 10px 10px;\n}\n.delivery-list-header .content .order-info .left .item .input-left {\n            margin-left: 10px;\n            width: 200px;\n}\n.delivery-list-header .content .order-info .left .item .input-right {\n            width: 200px;\n}\n.delivery-list-header .content .order-info .left .item .input-note {\n            margin-left: 10px;\n            width: 608px;\n}\n.delivery-list-header .content .order-info-two {\n      width: 100%;\n      height: 111px;\n}\n.delivery-list-header .content .order-info-two .title {\n        height: 50px;\n        line-height: 50px;\n        padding-left: 40px;\n}\n.delivery-list-header .content .order-info-two .pi-left {\n        float: left;\n        width: 100%;\n        height: 60px;\n        background: #353945;\n        -webkit-box-shadow: 0 -1px #2b2f3b;\n                box-shadow: 0 -1px #2b2f3b;\n        padding: 16px;\n        border-bottom: 1px solid #2b2f3b;\n}\n.delivery-list-header .content .order-info-two .pi-left .el-tag + .el-tag {\n          margin-left: 10px;\n}\n.delivery-list-header .content .order-info-two .pi-left .button-new-tag {\n          margin-left: 6px;\n}\n.delivery-list-header .content .parts-list {\n      text-align: right;\n      padding: 0 40px;\n      font-size: 12px;\n      overflow: hidden;\n      height: 50px;\n      line-height: 50px;\n      width: 100%;\n      -webkit-box-shadow: 0 -1px #2b2f3b;\n              box-shadow: 0 -1px #2b2f3b;\n}\n.delivery-list-header .content .parts-list .att-btn {\n        padding: 6px 9px;\n        min-width: 0;\n        margin: 11px auto;\n        display: block;\n}\n.delivery-list-header .content .parts-list .att-total {\n        display: inline-block;\n        color: #e26829;\n}\n.delivery-list-header .content .parts-list .labelAdd {\n        margin-left: 14px;\n}\n.delivery-list-header .content .parts-list .cancel-button {\n        margin-top: 12px;\n}\n"],sourceRoot:""}])},2613:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(i(20)),r=c(i(3)),a=c(i(7)),o=c(i(5)),s=c(i(9)),l=c(i(10)),d=c(i(8));i(2370);function c(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){return{loading:!1,isEditPage:!1,tableHead:["Model Name","BF Art Nr.","Customer Art Nr.","Description","Unit Pricee","VAT rate","Quantity","Amount","Status"],orderId:0,formData:{delivery_order_no:"",customer_no:"",creator:"",reviewer:"",order_no:"",company_id:"",reviewer_date:new Date,delivery_date:new Date,warehouse_id:"",total_amount:0,currency:1},deliveryDate:new Date,reviewerDate:new Date,invoiceItems:[],dynamicTags:[],inputVisible:!1,restaurants:[],restaurantsClone:[],customerList:[],warehouseData:[],isActive:!0}},i18n:{messages:{fr:d.default.Component.Order.Save,en:o.default.Component.Order.Save,zh:a.default.Component.Order.Save,de:s.default.Component.Order.Save,nl:l.default.Component.Order.Save}},computed:{totalCount:function(){var e=0,t=this;return this.invoiceItems.forEach(function(i){t.formData.currency=i.currency,e=Math.round(100*(e+i.amount))/100}),t.formData.total_amount=e,e}},mounted:function(){var e=this,t=this;this.getAllWarehouse(),t.orderId=this.$route.query.orderId,t.orderId&&(t.loading=!0,t.isEditPage=!0,t.getDeliveryById(t.orderId).then(function(i){if(-2===i.code)throw i.message;return i.status&&i.status>0?e.isActive=!1:e.isActive=!0,t.formData=i}).then(function(e){if(t.deliveryDate=r.default.Util.changeDateForm(1e3*t.formData.delivery_date),t.reviewerDate=r.default.Util.changeDateForm(1e3*t.formData.reviewer_date),-2===e.code)throw e.message;return t.getDeliveryPIref(e.id)}).then(function(e){if(-2===e.code)throw e.message;return t.invoiceItems=e,t.getDeliveryDetail()}).then(function(e){if(-2===e.code)throw e.message;t.dynamicTags=e.content,t.loading=!1}).catch(function(e){t.$message({message:e.message,type:"error"}),t.loading=!1})),this.loading=!0,this.getAllCustomer().then(function(t){if(-2===t.code)throw t.message;e.customerList=t,e.loading=!1}).catch(function(t){e.$message({message:t,type:"error"}),e.loading=!1}),t.getPiList().then(function(e){if(-2===e.code)throw e.message;t.restaurants=e.filter(function(e){return 0===e.status}).map(function(e){return e.value=e.pi_no,e}),t.restaurantsClone=e.filter(function(e){return 0===e.status}).map(function(e){return e.value=e.pi_no,e})}).catch(function(e){t.$message({message:e.message,type:"error"}),t.loading=!1})},methods:{goAfterIndex:function(){this.$router.push({name:"deliveryList"})},saveDelivery:function(){var e=this;if(this.checkParams()){var t=this;t.loading=!0,this.formData.delivery_date=r.default.Util.parseDate(this.deliveryDate)||0,this.formData.reviewer_date=r.default.Util.parseDate(this.reviewerDate)||0,this.saveDeliveryInfo(this.formData).then(function(i){if(-2===i.code)throw i.message;t.formData=JSON.parse((0,n.default)(i)),t.deliveryDate=r.default.Util.changeDateForm(1e3*i.delivery_date),t.reviewerDate=r.default.Util.changeDateForm(1e3*i.reviewer_date),t.$message({message:"Save Successfully",type:"success"}),t.orderId=i.id,t.isEditPage=!0,t.loading=!1,e.$router.go(-1)}).catch(function(e){t.$message({message:e,type:"error"}),t.loading=!1})}},handleItemChange:function(e){if(0!==this.customerList.length){var t=this.customerList.find(function(t){return t.id===e});t?(this.restaurants=this.restaurantsClone.filter(function(t){return t.customer_id===e}),this.formData.customer_no=t.company_no):this.initCustomeInfo()}},initCustomeInfo:function(){this.formData.customer_no=""},getAllWarehouse:function(){var e=this;return this.loading=!0,r.default.Api.request({method:"GET",url:"/nl/warehouse/all"}).then(function(t){e.loading=!1,e.warehouseData=t}).catch(function(e){scope.$message({message:e,type:"error"}),scope.loading=!1})},getAllCustomer:function(){return r.default.Api.request({method:"GET",url:"/nl/nlPublic/company/all"})},getDeliveryById:function(e){return r.default.Api.request({method:"get",url:"/nl/sales/delivery/"+e})},saveDeliveryInfo:function(e){return r.default.Api.request({method:"post",url:"/nl/sales/delivery",data:e})},getDeliveryPIref:function(e){return r.default.Api.request({method:"get",url:"/nl/sales/delivery/"+e+"/pi/detail"})},bulkDeliveryDetail:function(e){return r.default.Api.request({method:"post",url:"/nl/sales/delivery/detail/bulk",data:e})},getPiList:function(){return r.default.Api.request({method:"get",url:"/nl/sales/proformaInvoice/all"})},getDeliveryDetail:function(){return r.default.Api.request({method:"post",url:"/nl/sales/delivery/detail/filter",data:{delivery_order_id:this.orderId},params:{page:1,size:999}})},deleteDeliveryDetail:function(e){return r.default.Api.request({method:"delete",url:"/nl/sales/delivery/detail/"+e})},handleClose:function(e){var t=this,i=this;this.loading=!0,this.deleteDeliveryDetail(e.id).then(function(n){if(-2===n.code)throw n.message;return i.$message({message:"Delete Successfully",type:"success"}),i.dynamicTags.splice(t.dynamicTags.indexOf(e),1),i.getDeliveryPIref(i.orderId)}).then(function(e){if(-2===e.code)throw e.message;i.invoiceItems=e,i.loading=!1}).catch(function(e){i.$message({message:e.body.message,type:"error"}),i.loading=!1,i.inputVisible=!1})},showInput:function(){this.inputVisible=!0},handleInputConfirm:function(e){var t=this,i={pi_no:e.pi_no,delivery_order_id:t.orderId};t.loading=!0,this.bulkDeliveryDetail([i]).then(function(e){if(-2===e.code)throw e.message;return t.$message({message:"Save Successfully",type:"success"}),t.dynamicTags.push(e[0]),t.inputVisible=!1,t.getDeliveryPIref(t.orderId)}).then(function(e){if(-2===e.code)throw e.message;t.invoiceItems=e,t.loading=!1}).catch(function(e){t.$message({message:e.message,type:"error"}),t.loading=!1,t.inputVisible=!1})},querySearchAsync:function(e,t){var i=JSON.parse((0,n.default)(this.restaurants));this.dynamicTags.length>0&&this.dynamicTags.forEach(function(e,t){i.forEach(function(t,n){t.pi_no===e.pi_no&&i.splice(n,1)})});var r=i;t(e?r.filter(this.createStateFilter(e)):r)},createStateFilter:function(e){return function(t){return-1!==t.value.indexOf(e.toLowerCase())}},checkParams:function(){return""===this.formData.customer_no?(this.$message({message:"Please add Customer No.",type:"warning"}),!1):""===this.formData.company_id?(this.$message({message:"Please add Customer",type:"warning"}),!1):""!==this.formData.reviewer||(this.$message({message:"Please add Reviewer",type:"warning"}),!1)}}}},2614:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"delivery-list-header"},[i("div",{staticClass:"header"},[i("div",{staticClass:"btn-group-inline"},[i("div",{staticClass:"icons"},[i("div",{staticClass:"icon-item back",attrs:{title:"back"},on:{click:e.goAfterIndex}})])]),e._v(" "),i("label",{staticClass:"title"},[e._v(e._s(e.orderId?"Edit Delivery":"Add Delivery"))])]),e._v(" "),i("div",{staticClass:"content-wrap"},[i("div",{directives:[{name:"loading",rawName:"v-loading.body",value:e.loading,expression:"loading",modifiers:{body:!0}}],staticClass:"content"},[i("div",{staticClass:"order-info"},[i("label",{staticClass:"title"},[e._v("Delivery Info")]),e._v(" "),i("div",{staticClass:"left"},[i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[e._v("Delivery Order No.")]),e._v(" "),i("el-input",{staticClass:"input",attrs:{placeholder:"Delivery Order No.",disabled:""},model:{value:e.formData.delivery_order_no,callback:function(t){e.$set(e.formData,"delivery_order_no",t)},expression:"formData.delivery_order_no"}})],1),e._v(" "),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[e._v("Delivery Date")]),e._v(" "),i("el-date-picker",{staticClass:"input",attrs:{type:"date",placeholder:"Delivery Date"},model:{value:e.deliveryDate,callback:function(t){e.deliveryDate=t},expression:"deliveryDate"}})],1),e._v(" "),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[e._v("Warehouse")]),e._v(" "),i("el-select",{staticClass:"input land",attrs:{slot:"prepend",filterable:""},slot:"prepend",model:{value:e.formData.warehouse_id,callback:function(t){e.$set(e.formData,"warehouse_id",t)},expression:"formData.warehouse_id"}},e._l(e.warehouseData,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[e._v("Customer")]),e._v(" "),i("el-select",{staticClass:"input land",attrs:{slot:"prepend",filterable:""},on:{change:e.handleItemChange},slot:"prepend",model:{value:e.formData.company_id,callback:function(t){e.$set(e.formData,"company_id",t)},expression:"formData.company_id"}},e._l(e.customerList,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[e._v("Customer No.")]),e._v(" "),i("el-input",{staticClass:"input",attrs:{disabled:!0,placeholder:"Customer No."},model:{value:e.formData.customer_no,callback:function(t){e.$set(e.formData,"customer_no",t)},expression:"formData.customer_no"}})],1),e._v(" "),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[e._v("Remark Date")]),e._v(" "),i("el-date-picker",{staticClass:"input",attrs:{type:"date",placeholder:"Remark Date"},model:{value:e.reviewerDate,callback:function(t){e.reviewerDate=t},expression:"reviewerDate"}})],1),e._v(" "),i("div",{staticClass:"row-textarea"},[i("label",{staticClass:"label"},[e._v("Remark")]),e._v(" "),i("el-input",{staticClass:"input",attrs:{type:"textarea",rows:4,resize:"none",placeholder:"Remark"},model:{value:e.formData.reviewer,callback:function(t){e.$set(e.formData,"reviewer",t)},expression:"formData.reviewer"}})],1)])]),e._v(" "),e.isEditPage?i("div",{staticClass:"order-info-two"},[i("label",{staticClass:"title"},[e._v("Add PI")]),e._v(" "),i("div",{staticClass:"pi-left"},[e._l(e.dynamicTags,function(t){return i("el-tag",{key:t.id,attrs:{size:"small",closable:!0,"close-transition":!1},on:{close:function(i){return e.handleClose(t)}}},[e._v(e._s(t.pi_no))])}),e._v(" "),e.inputVisible?i("el-autocomplete",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small","fetch-suggestions":e.querySearchAsync,placeholder:"Please enter the content"},on:{select:e.handleInputConfirm}}):i("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:e.showInput}},[e._v("+ New Tag")])],2)]):e._e(),e._v(" "),e.isEditPage?i("div",{staticClass:"table-wrap"},[i("table",{staticClass:"table-content",attrs:{border:"0",cellspacing:"0",cellpadding:"0"}},[i("thead",e._l(e.tableHead,function(t){return i("td",[e._v(e._s(t))])}),0),e._v(" "),i("tbody",e._l(e.invoiceItems,function(t,n){return i("tr",[i("td",[e._v(e._s(t.model_name))]),e._v(" "),i("td",[e._v(e._s(t.bf_art_no))]),e._v(" "),i("td",[e._v(e._s(t.customer_art_no))]),e._v(" "),i("td",[e._v(e._s(t.description))]),e._v(" "),i("td",[e._v(e._s(e._f("currencyType")(t.currency))+e._s(t.unit_price))]),e._v(" "),i("td",[e._v(e._s(t.vat_rate))]),e._v(" "),i("td",[e._v(e._s(t.quantity))]),e._v(" "),i("td",[e._v(e._s(t.amount))]),e._v(" "),0==t.status?i("td",[e._v("- -")]):e._e(),e._v(" "),1==t.status?i("td",[e._v("confirm")]):e._e(),e._v(" "),2==t.status?i("td",[e._v("outOfStock")]):e._e()])}),0)])]):e._e(),e._v(" "),e.isEditPage?i("div",{staticClass:"parts-list"},[i("span",{staticClass:"att-total"},[e._v("total: "+e._s(e._f("currencyType")(e.formData.currency))+e._s(e.totalCount))])]):e._e(),e._v(" "),i("div",{staticClass:"parts-list"},[i("el-button",{staticClass:"cancel-button",attrs:{type:"primary",disabled:!e.isActive},on:{click:e.saveDelivery}},[e._v("Save")])],1)])])])},staticRenderFns:[]}}});
//# sourceMappingURL=31.9f623ce3459a784e424d.js.map