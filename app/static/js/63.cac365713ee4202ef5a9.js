webpackJsonp([63],{2301:function(t,a,e){var i=e(2)(e(2516),e(2517),function(t){e(2514)},null,null);t.exports=i.exports},2514:function(t,a,e){var i=e(2515);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(2279)("168ea46d",i,!0,{})},2515:function(t,a,e){(t.exports=e(2278)(!0)).push([t.i,".receipt-put-away-advice{width:100%;height:100%}.receipt-put-away-advice .table-wrap{width:100%;height:calc(100% - 392px);-webkit-box-shadow:0 -1px #2b2f3b;box-shadow:0 -1px #2b2f3b;overflow-x:hidden}.receipt-put-away-advice span.required{color:#e26829;display:inline-block}.receipt-put-away-advice .content-set{width:1280px}.receipt-put-away-advice .content-wrap .content{border:1px solid #2b2f3b}.receipt-put-away-advice .content-wrap .content .parts-list{position:relative;padding:0 40px;font-size:12px;overflow:hidden;height:50px;line-height:50px;width:100%;-webkit-box-shadow:0 -1px #2b2f3b;box-shadow:0 -1px #2b2f3b}.receipt-put-away-advice .content-wrap .content .parts-list .att-btn{padding:6px 9px;min-width:0;margin:11px auto;display:block}.receipt-put-away-advice .content-wrap .content .parts-list .labelAdd{margin-left:14px}.receipt-put-away-advice .content-wrap .content .parts-list .no-data-content{display:inline-block}.receipt-put-away-advice .content-wrap .content .parts-list .btn-box{display:inline-block;text-align:right;margin-left:15px}.receipt-put-away-advice .content-wrap .content .footer{width:100%;height:60px;line-height:60px;padding-left:40px;-webkit-box-shadow:0 -1px #2b2f3b;box-shadow:0 -1px #2b2f3b}.receipt-put-away-advice .content-wrap .content .footer .footer-pagination{float:right}.receipt-put-away-advice .table-wrap .table-content{padding-bottom:0}.receipt-put-away-advice .pagination{padding:10px}.receipt-put-away-advice .dialog-area-details{overflow:hidden}.receipt-put-away-advice .dialog-area-details .el-dialog__body{padding:19px 64px;font-size:0}.receipt-put-away-advice .dialog-area-details .item{width:50%;line-height:30px;display:inline-block}.receipt-put-away-advice .dialog-area-details .item .land{width:200px}.receipt-put-away-advice .dialog-area-details .item .title{display:inline-block;width:135px}.receipt-put-away-advice .dialog-area-details .item .content{margin:10px;display:inline-block;width:200px}","",{version:3,sources:["/Users/bys/工作/Bafang/BESST/besst-client/src/views/nl/receipt-order/receipt-put-away-advice.vue"],names:[],mappings:"AACA,yBACE,WAAY,AACZ,WAAa,CACd,AACD,qCACI,WAAY,AACZ,0BAA2B,AAC3B,kCAAmC,AAC3B,0BAA2B,AACnC,iBAAmB,CACtB,AACD,uCACI,cAAe,AACf,oBAAsB,CACzB,AACD,sCACI,YAAc,CACjB,AACD,gDACI,wBAA0B,CAC7B,AACD,4DACM,kBAAmB,AACnB,eAAgB,AAChB,eAAgB,AAChB,gBAAiB,AACjB,YAAa,AACb,iBAAkB,AAClB,WAAY,AACZ,kCAAmC,AAC3B,yBAA2B,CACxC,AACD,qEACQ,gBAAiB,AACjB,YAAa,AACb,iBAAkB,AAClB,aAAe,CACtB,AACD,sEACQ,gBAAkB,CACzB,AACD,6EACQ,oBAAsB,CAC7B,AACD,qEACQ,qBAAsB,AACtB,iBAAkB,AAClB,gBAAkB,CACzB,AACD,wDACM,WAAY,AACZ,YAAa,AACb,iBAAkB,AAClB,kBAAmB,AACnB,kCAAmC,AAC3B,yBAA2B,CACxC,AACD,2EACQ,WAAa,CACpB,AACD,oDACI,gBAAkB,CACrB,AACD,qCACI,YAAc,CACjB,AACD,8CACI,eAAiB,CACpB,AACD,+DACM,kBAA6B,AAC7B,WAAa,CAClB,AACD,oDACM,UAAW,AACX,iBAAkB,AAClB,oBAAsB,CAC3B,AACD,0DACQ,WAAa,CACpB,AACD,2DACQ,qBAAsB,AACtB,WAAa,CACpB,AACD,6DACQ,YAAa,AACb,qBAAsB,AACtB,WAAa,CACpB",file:"receipt-put-away-advice.vue",sourcesContent:["\n.receipt-put-away-advice {\n  width: 100%;\n  height: 100%;\n}\n.receipt-put-away-advice .table-wrap {\n    width: 100%;\n    height: calc(100% - 392px);\n    -webkit-box-shadow: 0 -1px #2b2f3b;\n            box-shadow: 0 -1px #2b2f3b;\n    overflow-x: hidden;\n}\n.receipt-put-away-advice span.required {\n    color: #e26829;\n    display: inline-block;\n}\n.receipt-put-away-advice .content-set {\n    width: 1280px;\n}\n.receipt-put-away-advice .content-wrap .content {\n    border: 1px solid #2b2f3b;\n}\n.receipt-put-away-advice .content-wrap .content .parts-list {\n      position: relative;\n      padding: 0 40px;\n      font-size: 12px;\n      overflow: hidden;\n      height: 50px;\n      line-height: 50px;\n      width: 100%;\n      -webkit-box-shadow: 0 -1px #2b2f3b;\n              box-shadow: 0 -1px #2b2f3b;\n}\n.receipt-put-away-advice .content-wrap .content .parts-list .att-btn {\n        padding: 6px 9px;\n        min-width: 0;\n        margin: 11px auto;\n        display: block;\n}\n.receipt-put-away-advice .content-wrap .content .parts-list .labelAdd {\n        margin-left: 14px;\n}\n.receipt-put-away-advice .content-wrap .content .parts-list .no-data-content {\n        display: inline-block;\n}\n.receipt-put-away-advice .content-wrap .content .parts-list .btn-box {\n        display: inline-block;\n        text-align: right;\n        margin-left: 15px;\n}\n.receipt-put-away-advice .content-wrap .content .footer {\n      width: 100%;\n      height: 60px;\n      line-height: 60px;\n      padding-left: 40px;\n      -webkit-box-shadow: 0 -1px #2b2f3b;\n              box-shadow: 0 -1px #2b2f3b;\n}\n.receipt-put-away-advice .content-wrap .content .footer .footer-pagination {\n        float: right;\n}\n.receipt-put-away-advice .table-wrap .table-content {\n    padding-bottom: 0;\n}\n.receipt-put-away-advice .pagination {\n    padding: 10px;\n}\n.receipt-put-away-advice .dialog-area-details {\n    overflow: hidden;\n}\n.receipt-put-away-advice .dialog-area-details .el-dialog__body {\n      padding: 19px 64px 19px 64px;\n      font-size: 0;\n}\n.receipt-put-away-advice .dialog-area-details .item {\n      width: 50%;\n      line-height: 30px;\n      display: inline-block;\n}\n.receipt-put-away-advice .dialog-area-details .item .land {\n        width: 200px;\n}\n.receipt-put-away-advice .dialog-area-details .item .title {\n        display: inline-block;\n        width: 135px;\n}\n.receipt-put-away-advice .dialog-area-details .item .content {\n        margin: 10px;\n        display: inline-block;\n        width: 200px;\n}\n"],sourceRoot:""}])},2516:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=r(e(3)),n=r(e(7)),o=r(e(5)),s=r(e(9)),c=r(e(10)),l=r(e(8));function r(t){return t&&t.__esModule?t:{default:t}}a.default={data:function(){return{loading:!1,tableHead:["Item Name","Item Code","Warehouse","Location No.","Put Away Quantity","Received Quantity","Operation"],orderItems:[],orderId:0,warehouseList:[],isAdvice:!1,noLocation:!1,areaLocationData:{},dialogTitle:"Add",dialogAddVisible:!1,defaultProps:{id:"id",children:"child",label:"name"},categoryList:[],selectCategoryItem:{id:"",name:""},dialogSelectCategoryVisible:!1,areaList:[]}},i18n:{messages:{fr:l.default.Component.Order.Save,en:o.default.Component.Order.Save,zh:n.default.Component.Order.Save,de:s.default.Component.Order.Save,nl:c.default.Component.Order.Save}},computed:{},mounted:function(){var t=this,a=this;a.orderId=this.$route.query.orderId,a.orderId&&(this.getAllCategory(),a.loading=!0,this.getAllWarehouse().then(function(e){t.warehouseList=e,a.loading=!1}),a.loading=!0,a.getReceiptStatus(a.orderId).then(function(t){if(-2===t.code)throw t.message;return"Approved"===t.status_name?(a.isAdvice=!0,a.getPutawayAdvice(a.orderId)):(a.isAdvice=!1,a.getPutware(a.orderId))}).then(function(t){if(-2===t.code)throw t.message;a.loading=!1,a.orderItems=t,a.noLocation=a.checkLocation(t)}).catch(function(t){a.$message({message:t,type:"error"}),a.loading=!1}))},methods:{warehousePipe:function(t){if(this.warehouseList.length>0){var a=this.warehouseList.filter(function(a){return a.id===t.warehouse_id});return a.length>0?a[0].name:"-"}},createOrder:function(t){var a=this;this.selectCategoryItem.name=t.item_name,this.selectCategoryItem.id=t.item_id,this.areaLocationData.warehouse_id=t.warehouse_id,this.getWarehouseArea(t.warehouse_id).then(function(t){a.areaList=t.content,a.dialogAddVisible=!0})},checkLocation:function(t){var a=!1;return t.filter(function(t){return!t.location_id}).length>0&&(a=!0),a},checkParams:function(){return this.areaLocationData.area_id?this.areaLocationData.location_no?this.areaLocationData.location_name?this.selectCategoryItem.name?!!this.areaLocationData.max_quantity||(this.$message({message:"Please add Max Quantity",type:"warning"}),!1):(this.$message({message:"Please add Category",type:"warning"}),!1):(this.$message({message:"Please add Location Name",type:"warning"}),!1):(this.$message({message:"Please add Location No.",type:"warning"}),!1):(this.$message({message:"Please add area",type:"warning"}),!1)},dialogConfirm:function(){var t=this;this.checkParams()&&(this.areaLocationData.category_code=this.selectCategoryItem.name,this.loading=!0,this.postAreaLocation(this.areaLocationData).then(function(a){if(-2===a.code)throw a.message;return t.getPutawayAdvice(t.orderId)}).then(function(a){if(-2===a.code)throw a.message;t.dialogAddVisible=!1,t.loading=!1,t.orderItems=a,t.areaLocationData={},t.noLocation=t.checkLocation(a)}).catch(function(a){t.$message({message:a,type:"error"}),t.dialogAddVisible=!1,t.loading=!1}))},dialogCancel:function(){this.dialogAddVisible=!1},selectCategory:function(){this.dialogSelectCategoryVisible=!0},handleNodeClick:function(t){t.hasOwnProperty("child")&&(t.child.length<=0&&(this.selectCategoryItem=t,this.dialogSelectCategoryVisible=!1))},saveAdvice:function(){var t=this,a=this,e=this.$route.query.orderId;a.loading=!0,a.postPutawayAdvice(e,a.orderItems).then(function(i){if(-2===i.code)throw i.message;return a.isAdvice=!1,t.getPutware(e)}).then(function(e){if(-2===e.code)throw e.message;a.$message({message:"Save Successfully",type:"success"}),a.loading=!1,a.orderItems=e,t.$router.go(-1)}).catch(function(t){a.$message({message:t,type:"error"}),a.loading=!1})},getAllCategory:function(){var t=this;this.loading=!0,i.default.Api.Category.getAllCategoryListOfBafang(i.default.Const.COMPONENT_ROOT_CATEGORY).then(function(a){t.categoryList=a.category_list,t.loading=!1})},getAllWarehouse:function(){return i.default.Api.request({method:"GET",url:"/nl/warehouse/all"})},getWarehouseArea:function(t){return i.default.Api.request({method:"post",url:"/nl/warehouse/area/filter2",data:{warehouse_id:t},params:{page:1,size:999}})},postPutawayAdvice:function(t,a){return i.default.Api.request({method:"post",url:"/nl/order/receipt/"+t+"/putware/advice",data:a})},getPutawayAdvice:function(t){return i.default.Api.request({method:"get",url:"/nl/order/receipt/"+t+"/putware/advice"})},getReceiptStatus:function(t){return i.default.Api.request({method:"get",url:"/nl/order/receipt/"+t+"/status"})},getPutware:function(t){return i.default.Api.request({method:"get",url:"/nl/order/receipt/"+t+"/putware"})},postAreaLocation:function(t){return i.default.Api.request({method:"post",url:"/nl/warehouse/location",data:t})}}}},2517:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"receipt-put-away-advice"},[e("div",{staticClass:"header"},[e("div",{staticClass:"btn-group-inline"},[e("div",{staticClass:"icons"},[e("div",{staticClass:"icon-item back",attrs:{title:"back"},on:{click:function(a){return t.$router.back()}}})])]),t._v(" "),e("label",{staticClass:"title"},[t._v("Receipt Put Away Advice")])]),t._v(" "),e("div",{directives:[{name:"loading",rawName:"v-loading.body",value:t.loading,expression:"loading",modifiers:{body:!0}}],staticClass:"content-wrap"},[e("div",{staticClass:"content content-set"},[t.orderItems.length<=0&&!t.loading?e("div",{staticClass:"parts-list"},[e("div",{staticClass:"no-data-content"},[t._v("\n          No material space was found. Please create a space.\n        ")])]):t._e(),t._v(" "),e("div",{staticClass:"table-wrap"},[e("table",{staticClass:"table-content",attrs:{border:"0",cellspacing:"0",cellpadding:"0"}},[e("thead",t._l(t.tableHead,function(a){return e("td",[t._v(t._s(a))])}),0),t._v(" "),e("tbody",t._l(t.orderItems,function(a,i){return e("tr",[e("td",[t._v(t._s(a.item_name))]),t._v(" "),e("td",[t._v(t._s(a.item_code))]),t._v(" "),e("td",[t._v(t._s(t.warehousePipe(a)))]),t._v(" "),e("td",[t._v(t._s(a.location_no||"No location"))]),t._v(" "),e("td",[t._v(t._s(a.put_away_quantity))]),t._v(" "),e("td",[t._v(t._s(a.received_quantity))]),t._v(" "),e("td",[e("el-button",{attrs:{type:"primary",disabled:!!a.location_id},on:{click:function(e){return t.createOrder(a)}}},[t._v("Create")])],1)])}),0)])]),t._v(" "),t.isAdvice&&!t.noLocation?e("div",{staticClass:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:t.saveAdvice}},[t._v("Save Advice")])],1):t._e()])]),t._v(" "),e("el-dialog",{staticClass:"dialog-area-details",attrs:{title:t.dialogTitle,visible:t.dialogAddVisible,"custom-class":"edit-dialog"},on:{"update:title":function(a){t.dialogTitle=a},"update:visible":function(a){t.dialogAddVisible=a}}},[e("div",{staticClass:"item"},[e("label",{staticClass:"title"},[t._v("\n        Area\n        "),e("span",{staticClass:"required"},[t._v("*")])]),t._v(" "),e("div",{staticClass:"content"},[e("el-select",{staticClass:"input",attrs:{slot:"append",filterable:""},slot:"append",model:{value:t.areaLocationData.area_id,callback:function(a){t.$set(t.areaLocationData,"area_id",a)},expression:"areaLocationData.area_id"}},t._l(t.areaList,function(t){return e("el-option",{key:t.id,attrs:{label:t.area_name,value:t.id}})}),1)],1)]),t._v(" "),e("div",{staticClass:"item"},[e("label",{staticClass:"title"},[t._v("\n        Location No.\n        "),e("span",{staticClass:"required"},[t._v("*")])]),t._v(" "),e("div",{staticClass:"content"},[e("el-input",{model:{value:t.areaLocationData.location_no,callback:function(a){t.$set(t.areaLocationData,"location_no",a)},expression:"areaLocationData.location_no"}})],1)]),t._v(" "),e("div",{staticClass:"item"},[e("label",{staticClass:"title"},[t._v("\n        Location Name\n        "),e("span",{staticClass:"required"},[t._v("*")])]),t._v(" "),e("div",{staticClass:"content"},[e("el-input",{model:{value:t.areaLocationData.location_name,callback:function(a){t.$set(t.areaLocationData,"location_name",a)},expression:"areaLocationData.location_name"}})],1)]),t._v(" "),e("div",{staticClass:"item"},[e("label",{staticClass:"title"},[t._v("\n        "+t._s(t.$t("category"))+"\n        "),e("span",{staticClass:"required"},[t._v("*")])]),t._v(" "),e("div",{staticClass:"content"},[e("el-input",{staticClass:"input",attrs:{placeholder:t.$t("category"),disabled:!0},nativeOn:{click:function(a){return t.selectCategory.apply(null,arguments)}},model:{value:t.selectCategoryItem.name,callback:function(a){t.$set(t.selectCategoryItem,"name",a)},expression:"selectCategoryItem.name"}})],1)]),t._v(" "),e("div",{staticClass:"item"},[e("label",{staticClass:"title"},[t._v("\n        Max Quantity\n        "),e("span",{staticClass:"required"},[t._v("*")])]),t._v(" "),e("div",{staticClass:"content"},[e("el-input",{model:{value:t.areaLocationData.max_quantity,callback:function(a){t.$set(t.areaLocationData,"max_quantity",a)},expression:"areaLocationData.max_quantity"}})],1)]),t._v(" "),e("div",{staticClass:"item"},[e("label",{staticClass:"title"},[t._v("Max Cartons")]),t._v(" "),e("div",{staticClass:"content"},[e("el-input",{model:{value:t.areaLocationData.max_cartoons,callback:function(a){t.$set(t.areaLocationData,"max_cartoons",a)},expression:"areaLocationData.max_cartoons"}})],1)]),t._v(" "),e("div",{staticClass:"item"},[e("label",{staticClass:"title"},[t._v("Weight Capacity (Kg)")]),t._v(" "),e("div",{staticClass:"content"},[e("el-input",{model:{value:t.areaLocationData.weight_capacity,callback:function(a){t.$set(t.areaLocationData,"weight_capacity",a)},expression:"areaLocationData.weight_capacity"}})],1)]),t._v(" "),e("div",{staticClass:"item"},[e("label",{staticClass:"title"},[t._v("Cube (m³)")]),t._v(" "),e("div",{staticClass:"content"},[e("el-input",{model:{value:t.areaLocationData.cube,callback:function(a){t.$set(t.areaLocationData,"cube",a)},expression:"areaLocationData.cube"}})],1)]),t._v(" "),e("div",{staticClass:"item"},[e("label",{staticClass:"title"},[t._v("Height (m)")]),t._v(" "),e("div",{staticClass:"content"},[e("el-input",{model:{value:t.areaLocationData.height,callback:function(a){t.$set(t.areaLocationData,"height",a)},expression:"areaLocationData.height"}})],1)]),t._v(" "),e("div",{staticClass:"item"},[e("label",{staticClass:"title"},[t._v("Length (m)")]),t._v(" "),e("div",{staticClass:"content"},[e("el-input",{model:{value:t.areaLocationData.length,callback:function(a){t.$set(t.areaLocationData,"length",a)},expression:"areaLocationData.length"}})],1)]),t._v(" "),e("div",{staticClass:"item"},[e("label",{staticClass:"title"},[t._v("Width (m)")]),t._v(" "),e("div",{staticClass:"content"},[e("el-input",{model:{value:t.areaLocationData.width,callback:function(a){t.$set(t.areaLocationData,"width",a)},expression:"areaLocationData.width"}})],1)]),t._v(" "),e("div",{staticClass:"item"},[e("label",{staticClass:"title"},[t._v("Type Code")]),t._v(" "),e("div",{staticClass:"content"},[e("el-input",{model:{value:t.areaLocationData.type_code,callback:function(a){t.$set(t.areaLocationData,"type_code",a)},expression:"areaLocationData.type_code"}})],1)]),t._v(" "),e("div",{staticClass:"item"},[e("label",{staticClass:"title"},[t._v("X Coord (m)")]),t._v(" "),e("div",{staticClass:"content"},[e("el-input",{model:{value:t.areaLocationData.x_coord,callback:function(a){t.$set(t.areaLocationData,"x_coord",a)},expression:"areaLocationData.x_coord"}})],1)]),t._v(" "),e("div",{staticClass:"item"},[e("label",{staticClass:"title"},[t._v("Y Coord (m)")]),t._v(" "),e("div",{staticClass:"content"},[e("el-input",{model:{value:t.areaLocationData.y_coord,callback:function(a){t.$set(t.areaLocationData,"y_coord",a)},expression:"areaLocationData.y_coord"}})],1)]),t._v(" "),e("div",{staticClass:"item"},[e("label",{staticClass:"title"},[t._v("Z Coord (m)")]),t._v(" "),e("div",{staticClass:"content"},[e("el-input",{model:{value:t.areaLocationData.z_coord,callback:function(a){t.$set(t.areaLocationData,"z_coord",a)},expression:"areaLocationData.z_coord"}})],1)]),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"preview"},on:{click:t.dialogConfirm}},[t._v("confirm")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.dialogCancel}},[t._v("cancel")])],1)]),t._v(" "),e("el-dialog",{staticClass:"dialog-category",attrs:{title:t.$t("selectCategory"),visible:t.dialogSelectCategoryVisible,size:"large"},on:{"update:visible":function(a){t.dialogSelectCategoryVisible=a}}},[e("div",{staticClass:"content",staticStyle:{"max-height":"500px",overflow:"auto"}},[e("div",{staticClass:"category-tree"},[e("el-tree",{attrs:{data:t.categoryList,props:t.defaultProps},on:{"node-click":t.handleNodeClick}})],1)])])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=63.cac365713ee4202ef5a9.js.map