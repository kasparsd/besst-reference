webpackJsonp([22],{2325:function(t,e,i){var n=i(2)(i(2617),i(2618),function(t){i(2615)},null,null);t.exports=n.exports},2370:function(t,e,i){"use strict";(function(e){var n=i(2371);
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function r(t,e){if(t===e)return 0;for(var i=t.length,n=e.length,r=0,a=Math.min(i,n);r<a;++r)if(t[r]!==e[r]){i=t[r],n=e[r];break}return i<n?-1:n<i?1:0}function a(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var o=i(769),l=Object.prototype.hasOwnProperty,s=Array.prototype.slice,d="foo"===function(){}.name;function c(t){return Object.prototype.toString.call(t)}function u(t){return!a(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var f=t.exports=C,A=/\s*function\s+([^\(\s]*)\s*/;function p(t){if(o.isFunction(t)){if(d)return t.name;var e=t.toString().match(A);return e&&e[1]}}function v(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function h(t){if(d||!o.isFunction(t))return o.inspect(t);var e=p(t);return"[Function"+(e?": "+e:"")+"]"}function g(t,e,i,n,r){throw new f.AssertionError({message:i,actual:t,expected:e,operator:n,stackStartFunction:r})}function C(t,e){t||g(t,!0,e,"==",f.ok)}function b(t,e,i,n){if(t===e)return!0;if(a(t)&&a(e))return 0===r(t,e);if(o.isDate(t)&&o.isDate(e))return t.getTime()===e.getTime();if(o.isRegExp(t)&&o.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(u(t)&&u(e)&&c(t)===c(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===r(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(a(t)!==a(e))return!1;var l=(n=n||{actual:[],expected:[]}).actual.indexOf(t);return-1!==l&&l===n.expected.indexOf(e)||(n.actual.push(t),n.expected.push(e),function(t,e,i,n){if(null===t||void 0===t||null===e||void 0===e)return!1;if(o.isPrimitive(t)||o.isPrimitive(e))return t===e;if(i&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var r=m(t),a=m(e);if(r&&!a||!r&&a)return!1;if(r)return t=s.call(t),e=s.call(e),b(t,e,i);var l,d,c=_(t),u=_(e);if(c.length!==u.length)return!1;for(c.sort(),u.sort(),d=c.length-1;d>=0;d--)if(c[d]!==u[d])return!1;for(d=c.length-1;d>=0;d--)if(l=c[d],!b(t[l],e[l],i,n))return!1;return!0}(t,e,i,n))}return i?t===e:t==e}function m(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function y(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function x(t,e,i,n){var r;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof i&&(n=i,i=null),r=function(t){var e;try{t()}catch(t){e=t}return e}(e),n=(i&&i.name?" ("+i.name+").":".")+(n?" "+n:"."),t&&!r&&g(r,i,"Missing expected exception"+n);var a="string"==typeof n,l=!t&&o.isError(r),s=!t&&r&&!i;if((l&&a&&y(r,i)||s)&&g(r,i,"Got unwanted exception"+n),t&&r&&i&&!y(r,i)||!t&&r)throw r}f.AssertionError=function(t){var e;this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=v(h((e=this).actual),128)+" "+e.operator+" "+v(h(e.expected),128),this.generatedMessage=!0);var i=t.stackStartFunction||g;if(Error.captureStackTrace)Error.captureStackTrace(this,i);else{var n=new Error;if(n.stack){var r=n.stack,a=p(i),o=r.indexOf("\n"+a);if(o>=0){var l=r.indexOf("\n",o+1);r=r.substring(l+1)}this.stack=r}}},o.inherits(f.AssertionError,Error),f.fail=g,f.ok=C,f.equal=function(t,e,i){t!=e&&g(t,e,i,"==",f.equal)},f.notEqual=function(t,e,i){t==e&&g(t,e,i,"!=",f.notEqual)},f.deepEqual=function(t,e,i){b(t,e,!1)||g(t,e,i,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(t,e,i){b(t,e,!0)||g(t,e,i,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(t,e,i){b(t,e,!1)&&g(t,e,i,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=function t(e,i,n){b(e,i,!0)&&g(e,i,n,"notDeepStrictEqual",t)},f.strictEqual=function(t,e,i){t!==e&&g(t,e,i,"===",f.strictEqual)},f.notStrictEqual=function(t,e,i){t===e&&g(t,e,i,"!==",f.notStrictEqual)},f.throws=function(t,e,i){x(!0,t,e,i)},f.doesNotThrow=function(t,e,i){x(!1,t,e,i)},f.ifError=function(t){if(t)throw t},f.strict=n(function t(e,i){e||g(e,!0,i,"==",t)},f,{equal:f.strictEqual,deepEqual:f.deepStrictEqual,notEqual:f.notStrictEqual,notDeepEqual:f.notDeepStrictEqual}),f.strict.strict=f.strict;var _=Object.keys||function(t){var e=[];for(var i in t)l.call(t,i)&&e.push(i);return e}}).call(e,i(54))},2371:function(t,e,i){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,o,l=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),s=1;s<arguments.length;s++){for(var d in i=Object(arguments[s]))r.call(i,d)&&(l[d]=i[d]);if(n){o=n(i);for(var c=0;c<o.length;c++)a.call(i,o[c])&&(l[o[c]]=i[o[c]])}}return l}},2396:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(3),a=(n=r)&&n.__esModule?n:{default:n};var o={getDeliveryPIDetails:function(t){return a.default.Api.request({method:"get",url:"/nl/sales/delivery/"+t+"/pi/detail"})},printDelivery:function(t){return a.default.HttpHelp.request({method:"Get",url:"/nl/sales/delivery/"+t+"/print",responseType:"blob"})}};e.default=o},2615:function(t,e,i){var n=i(2616);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(2279)("2a4f1808",n,!0,{})},2616:function(t,e,i){(t.exports=i(2278)(!0)).push([t.i,".delivery-list-details{width:100%;height:100%}.delivery-list-details span.required{color:#e26829;display:inline-block}.delivery-list-details .content{border:1px solid #2b2f3b;width:1080px}.delivery-list-details .content .order-info{width:100%;height:332px;border-bottom:1px solid #2b2f3b}.delivery-list-details .content .order-info .title{height:50px;line-height:50px;padding-left:40px}.delivery-list-details .content .order-info .left{float:left;width:100%;height:282px;background:#353945;-webkit-box-shadow:0 -1px #2b2f3b;box-shadow:0 -1px #2b2f3b}.delivery-list-details .content .order-info .left .item{line-height:60px;overflow:hidden;width:49%;height:50px;display:inline-block}.delivery-list-details .content .order-info .left .item .label{display:inline-block;width:120px;margin-left:15px}.delivery-list-details .content .order-info .left .item .input{margin-left:10px;width:256px;border-radius:0 0 10px 10px}.delivery-list-details .content .order-info .left .item .input-left{margin-left:10px;width:200px}.delivery-list-details .content .order-info .left .item .input-right{width:200px}.delivery-list-details .content .order-info .left .item .input-note{margin-left:10px;width:608px}.delivery-list-details .content .order-info-two{width:100%;height:111px}.delivery-list-details .content .order-info-two .title{height:50px;line-height:50px;padding-left:40px}.delivery-list-details .content .order-info-two .pi-left{float:left;width:100%;height:60px;background:#353945;-webkit-box-shadow:0 -1px #2b2f3b;box-shadow:0 -1px #2b2f3b;padding:16px;border-bottom:1px solid #2b2f3b}.delivery-list-details .content .order-info-two .pi-left .el-tag+.el-tag{margin-left:10px}.delivery-list-details .content .order-info-two .pi-left .button-new-tag{margin-left:6px}.delivery-list-details .content .parts-list{text-align:right;padding:0 40px;font-size:12px;overflow:hidden;height:50px;line-height:50px;width:100%;-webkit-box-shadow:0 -1px #2b2f3b;box-shadow:0 -1px #2b2f3b}.delivery-list-details .content .parts-list .att-btn{padding:6px 9px;min-width:0;margin:11px auto;display:block}.delivery-list-details .content .parts-list .labelAdd{margin-left:14px}.delivery-list-details .content .parts-list .cancel-button{margin-top:12px}","",{version:3,sources:["/Users/bys/工作/Bafang/BESST/besst-client/src/views/nl/sales/delivery-list-details.vue"],names:[],mappings:"AACA,uBACE,WAAY,AACZ,WAAa,CACd,AACD,qCACI,cAAe,AACf,oBAAsB,CACzB,AACD,gCACI,yBAA0B,AAC1B,YAAc,CACjB,AACD,4CACM,WAAY,AACZ,aAAc,AACd,+BAAiC,CACtC,AACD,mDACQ,YAAa,AACb,iBAAkB,AAClB,iBAAmB,CAC1B,AACD,kDACQ,WAAY,AACZ,WAAY,AACZ,aAAc,AACd,mBAAoB,AACpB,kCAAmC,AAC3B,yBAA2B,CAC1C,AACD,wDACU,iBAAkB,AAClB,gBAAiB,AACjB,UAAW,AACX,YAAa,AACb,oBAAsB,CAC/B,AACD,+DACY,qBAAsB,AACtB,YAAa,AACb,gBAAkB,CAC7B,AACD,+DACY,iBAAkB,AAClB,YAAa,AACb,2BAA6B,CACxC,AACD,oEACY,iBAAkB,AAClB,WAAa,CACxB,AACD,qEACY,WAAa,CACxB,AACD,oEACY,iBAAkB,AAClB,WAAa,CACxB,AACD,gDACM,WAAY,AACZ,YAAc,CACnB,AACD,uDACQ,YAAa,AACb,iBAAkB,AAClB,iBAAmB,CAC1B,AACD,yDACQ,WAAY,AACZ,WAAY,AACZ,YAAa,AACb,mBAAoB,AACpB,kCAAmC,AAC3B,0BAA2B,AACnC,aAAc,AACd,+BAAiC,CACxC,AACD,yEACU,gBAAkB,CAC3B,AACD,yEACU,eAAiB,CAC1B,AACD,4CACM,iBAAkB,AAClB,eAAgB,AAChB,eAAgB,AAChB,gBAAiB,AACjB,YAAa,AACb,iBAAkB,AAClB,WAAY,AACZ,kCAAmC,AAC3B,yBAA2B,CACxC,AACD,qDACQ,gBAAiB,AACjB,YAAa,AACb,iBAAkB,AAClB,aAAe,CACtB,AACD,sDACQ,gBAAkB,CACzB,AACD,2DACQ,eAAiB,CACxB",file:"delivery-list-details.vue",sourcesContent:["\n.delivery-list-details {\n  width: 100%;\n  height: 100%;\n}\n.delivery-list-details span.required {\n    color: #e26829;\n    display: inline-block;\n}\n.delivery-list-details .content {\n    border: 1px solid #2b2f3b;\n    width: 1080px;\n}\n.delivery-list-details .content .order-info {\n      width: 100%;\n      height: 332px;\n      border-bottom: 1px solid #2b2f3b;\n}\n.delivery-list-details .content .order-info .title {\n        height: 50px;\n        line-height: 50px;\n        padding-left: 40px;\n}\n.delivery-list-details .content .order-info .left {\n        float: left;\n        width: 100%;\n        height: 282px;\n        background: #353945;\n        -webkit-box-shadow: 0 -1px #2b2f3b;\n                box-shadow: 0 -1px #2b2f3b;\n}\n.delivery-list-details .content .order-info .left .item {\n          line-height: 60px;\n          overflow: hidden;\n          width: 49%;\n          height: 50px;\n          display: inline-block;\n}\n.delivery-list-details .content .order-info .left .item .label {\n            display: inline-block;\n            width: 120px;\n            margin-left: 15px;\n}\n.delivery-list-details .content .order-info .left .item .input {\n            margin-left: 10px;\n            width: 256px;\n            border-radius: 0 0 10px 10px;\n}\n.delivery-list-details .content .order-info .left .item .input-left {\n            margin-left: 10px;\n            width: 200px;\n}\n.delivery-list-details .content .order-info .left .item .input-right {\n            width: 200px;\n}\n.delivery-list-details .content .order-info .left .item .input-note {\n            margin-left: 10px;\n            width: 608px;\n}\n.delivery-list-details .content .order-info-two {\n      width: 100%;\n      height: 111px;\n}\n.delivery-list-details .content .order-info-two .title {\n        height: 50px;\n        line-height: 50px;\n        padding-left: 40px;\n}\n.delivery-list-details .content .order-info-two .pi-left {\n        float: left;\n        width: 100%;\n        height: 60px;\n        background: #353945;\n        -webkit-box-shadow: 0 -1px #2b2f3b;\n                box-shadow: 0 -1px #2b2f3b;\n        padding: 16px;\n        border-bottom: 1px solid #2b2f3b;\n}\n.delivery-list-details .content .order-info-two .pi-left .el-tag + .el-tag {\n          margin-left: 10px;\n}\n.delivery-list-details .content .order-info-two .pi-left .button-new-tag {\n          margin-left: 6px;\n}\n.delivery-list-details .content .parts-list {\n      text-align: right;\n      padding: 0 40px;\n      font-size: 12px;\n      overflow: hidden;\n      height: 50px;\n      line-height: 50px;\n      width: 100%;\n      -webkit-box-shadow: 0 -1px #2b2f3b;\n              box-shadow: 0 -1px #2b2f3b;\n}\n.delivery-list-details .content .parts-list .att-btn {\n        padding: 6px 9px;\n        min-width: 0;\n        margin: 11px auto;\n        display: block;\n}\n.delivery-list-details .content .parts-list .labelAdd {\n        margin-left: 14px;\n}\n.delivery-list-details .content .parts-list .cancel-button {\n        margin-top: 12px;\n}\n"],sourceRoot:""}])},2617:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=u(i(3)),r=u(i(7)),a=u(i(5)),o=u(i(9)),l=u(i(10)),s=u(i(8)),d=(i(2370),u(i(2396))),c=u(i(767));function u(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{loading:!1,tableHead:["Model Name","BF Art Nr.","Customer Art Nr.","Description","Unit Pricee","VAT rate","Quantity","Amount","Status"],orderId:0,formData:{delivery_order_no:"",customer_no:"",creator:"",reviewer:"",order_no:"",company_id:"",reviewer_date:new Date,delivery_date:new Date,warehouse_id:""},invoiceItems:[],dynamicTags:[],inputVisible:!1,customerList:[],warehouseData:[]}},i18n:{messages:{fr:s.default.Component.Order.Save,en:a.default.Component.Order.Save,zh:r.default.Component.Order.Save,de:o.default.Component.Order.Save,nl:l.default.Component.Order.Save}},computed:{},mounted:function(){var t=this,e=this;this.getAllWarehouse(),this.loading=!0,this.getAllCustomer().then(function(e){if(-2===e.code)throw e.message;t.customerList=e,t.loading=!1}).catch(function(e){t.$message({message:e,type:"error"}),t.loading=!1}),e.orderId=this.$route.query.orderId,e.orderId&&(e.loading=!0,e.getDeliveryById(e.orderId).then(function(t){if(-2===t.code)throw t.message;return e.formData=t}).then(function(t){if(-2===t.code)throw t.message;return e.getDeliveryPIref(t.id)}).then(function(t){if(-2===t.code)throw t.message;return e.invoiceItems=t,e.getDeliveryDetail()}).then(function(t){if(-2===t.code)throw t.message;e.dynamicTags=t.content,e.loading=!1}).catch(function(t){e.$message({message:t.message,type:"error"}),e.loading=!1}))},methods:{goAfterIndex:function(){this.$router.push({name:"deliveryList"})},getAllWarehouse:function(){var t=this;return this.loading=!0,n.default.Api.request({method:"GET",url:"/nl/warehouse/all"}).then(function(e){t.loading=!1,t.warehouseData=e}).catch(function(t){scope.$message({message:t,type:"error"}),scope.loading=!1})},getAllCustomer:function(){return n.default.Api.request({method:"GET",url:"/nl/nlPublic/company/all"})},getDeliveryById:function(t){return n.default.Api.request({method:"get",url:"/nl/sales/delivery/"+t})},saveDeliveryInfo:function(t){return n.default.Api.request({method:"post",url:"/nl/sales/delivery",data:t})},getDeliveryPIref:function(t){return n.default.Api.request({method:"get",url:"/nl/sales/delivery/"+t+"/pi/detail"})},bulkDeliveryDetail:function(t){return n.default.Api.request({method:"post",url:"/nl/sales/delivery/detail/bulk",data:t})},getPiList:function(){return n.default.Api.request({method:"get",url:"/nl/sales/proformaInvoice/all"})},getDeliveryDetail:function(){return n.default.Api.request({method:"post",url:"/nl/sales/delivery/detail/filter",data:{delivery_order_id:this.orderId},params:{page:1,size:999}})},pipeWarehouse:function(t){if(0!==this.warehouseData.length){var e=this.warehouseData.filter(function(e){return e.id===t});return e.length>0?e[0].name:"/"}},pipeCustomer:function(t){if(0!==this.customerList.length){var e=this.customerList.filter(function(e){return e.id===t});return e.length>0?e[0].name:"/"}},onPrint:function(){var t=this;d.default.printDelivery(this.orderId).then(function(e){var i=new Date,n=i.getFullYear()+"-"+i.getMonth()+"-"+i.getDay(),r=t.formData.delivery_order_no||n,a=new Blob([e.data],{type:"text/html;charset=utf-8"});(0,c.default)(a,r+".html")})}}}},2618:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"delivery-list-details"},[i("div",{staticClass:"header"},[i("div",{staticClass:"btn-group-inline"},[i("div",{staticClass:"icons"},[i("div",{staticClass:"icon-item back",attrs:{title:"back"},on:{click:t.goAfterIndex}})])]),t._v(" "),i("div",{staticClass:"btn-group-top"},[i("div",{staticClass:"icons"},[i("div",{staticClass:"icon-item print",attrs:{title:"print"},on:{click:t.onPrint}})])]),t._v(" "),i("label",{staticClass:"title"},[t._v("Delivery Details")])]),t._v(" "),i("div",{staticClass:"content-wrap"},[i("div",{directives:[{name:"loading",rawName:"v-loading.body",value:t.loading,expression:"loading",modifiers:{body:!0}}],staticClass:"content"},[i("div",{staticClass:"order-info"},[i("label",{staticClass:"title"},[t._v("Delivery Info")]),t._v(" "),i("div",{staticClass:"left"},[i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[t._v("Delivery Order No.")]),t._v(" "),i("span",[t._v(t._s(t.formData.delivery_order_no))])]),t._v(" "),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[t._v("Delivery Date")]),t._v(" "),i("span",[t._v(t._s(t._f("dateFormat")(t.formData.deliveryDate)))])]),t._v(" "),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[t._v("Warehouse")]),t._v(" "),i("span",[t._v(t._s(t.pipeWarehouse(t.formData.warehouse_id)))])]),t._v(" "),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[t._v("Customer")]),t._v(" "),i("span",[t._v(t._s(t.pipeCustomer(t.formData.company_id)))])]),t._v(" "),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[t._v("Customer No.")]),t._v(" "),i("span",[t._v(t._s(t.formData.customer_no))])]),t._v(" "),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[t._v("Reviewer")]),t._v(" "),i("span",[t._v(t._s(t.formData.reviewer))])]),t._v(" "),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[t._v("Reviewer Date")]),t._v(" "),i("span",[t._v(t._s(t._f("dateFormat")(t.formData.reviewerDate)))])])])]),t._v(" "),i("div",{staticClass:"table-wrap"},[i("table",{staticClass:"table-content",attrs:{border:"0",cellspacing:"0",cellpadding:"0"}},[i("thead",t._l(t.tableHead,function(e){return i("td",[t._v(t._s(e))])}),0),t._v(" "),i("tbody",t._l(t.invoiceItems,function(e,n){return i("tr",[i("td",[t._v(t._s(e.model_name))]),t._v(" "),i("td",[t._v(t._s(e.bf_art_no))]),t._v(" "),i("td",[t._v(t._s(e.customer_art_no))]),t._v(" "),i("td",[t._v(t._s(e.description))]),t._v(" "),i("td",[t._v(t._s(t._f("currencyType")(e.currency))+t._s(e.unit_price))]),t._v(" "),i("td",[t._v(t._s(e.vat_rate))]),t._v(" "),i("td",[t._v(t._s(e.quantity))]),t._v(" "),i("td",[t._v(t._s(e.amount))]),t._v(" "),0==e.status?i("td",[t._v("- -")]):t._e(),t._v(" "),1==e.status?i("td",[t._v("confirm")]):t._e(),t._v(" "),2==e.status?i("td",[t._v("outOfStock")]):t._e()])}),0)])])])])])},staticRenderFns:[]}}});
//# sourceMappingURL=22.dc95ef2b6d72df1fa42c.js.map